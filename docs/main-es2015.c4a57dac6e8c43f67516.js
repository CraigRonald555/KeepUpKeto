(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return x})),n.d(t,"__importDefault",(function(){return E})),n.d(t,"__classPrivateFieldGet",(function(){return C})),n.d(t,"__classPrivateFieldSet",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},0:function(e,t,n){e.exports=n("zUnb")},"1h5C":function(e,t,n){var r;!function(n){"use strict";var i={s:1,n:0,d:1};function o(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function n(){}return n.prototype=Error.prototype,t.prototype=new n,t}var s=d.DivisionByZero=o("DivisionByZero"),a=d.InvalidParameter=o("InvalidParameter");function u(e,t){return isNaN(e=parseInt(e,10))&&c(),e*t}function c(){throw new a}var l=function(e,t){var n,r=0,o=1,a=1,l=0,h=0,d=0,f=1,p=1,m=0,g=1,y=1,v=1,b=1e7;if(null==e);else if(void 0!==t)a=(r=e)*(o=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(r=e.n,o=e.d,"s"in e&&(r*=e.s)):0 in e?(r=e[0],1 in e&&(o=e[1])):c(),a=r*o;break;case"number":if(e<0&&(a=e,e=-e),e%1==0)r=e;else if(e>0){for(e>=1&&(e/=p=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));g<=b&&v<=b;){if(e===(n=(m+y)/(g+v))){g+v<=b?(r=m+y,o=g+v):v>g?(r=y,o=v):(r=m,o=g);break}e>n?(m+=y,g+=v):(y+=m,v+=g),g>b?(r=y,o=v):(r=m,o=g)}r*=p}else(isNaN(e)||isNaN(t))&&(o=r=NaN);break;case"string":if(null===(g=e.match(/\d+|./g))&&c(),"-"===g[m]?(a=-1,m++):"+"===g[m]&&m++,g.length===m+1?h=u(g[m++],a):"."===g[m+1]||"."===g[m]?("."!==g[m]&&(l=u(g[m++],a)),(1+ ++m===g.length||"("===g[m+1]&&")"===g[m+3]||"'"===g[m+1]&&"'"===g[m+3])&&(h=u(g[m],a),f=Math.pow(10,g[m].length),m++),("("===g[m]&&")"===g[m+2]||"'"===g[m]&&"'"===g[m+2])&&(d=u(g[m+1],a),p=Math.pow(10,g[m+1].length)-1,m+=3)):"/"===g[m+1]||":"===g[m+1]?(h=u(g[m],a),f=u(g[m+2],1),m+=3):"/"===g[m+3]&&" "===g[m+1]&&(l=u(g[m],a),h=u(g[m+2],a),f=u(g[m+4],1),m+=5),g.length<=m){a=r=d+(o=f*p)*l+p*h;break}default:c()}if(0===o)throw new s;i.s=a<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(o)};function h(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function d(e,t){if(!(this instanceof d))return new d(e,t);l(e,t),e=d.REDUCE?h(i.d,i.n):1,this.s=i.s,this.n=i.n/e,this.d=i.d/e}d.REDUCE=1,d.prototype={s:1,n:0,d:1,abs:function(){return new d(this.n,this.d)},neg:function(){return new d(-this.s*this.n,this.d)},add:function(e,t){return l(e,t),new d(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(e,t){return l(e,t),new d(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(e,t){return l(e,t),new d(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(e,t){return l(e,t),new d(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new d(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new d(NaN):void 0===e?new d(this.s*this.n%this.d,1):(l(e,t),0===i.n&&0===this.d&&d(0,0),new d(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(e,t){return l(e,t),new d(h(i.n,this.n)*h(i.d,this.d),i.d*this.d)},lcm:function(e,t){return l(e,t),0===i.n&&0===this.n?new d:new d(i.n*this.n,h(i.n,this.n)*h(i.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new d(this.s*this.d,this.n)},pow:function(e){return e<0?new d(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new d(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return l(e,t),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(e,t){l(e,t);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function n(e){return 1===e.length?new d(e[0]):n(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var r=0;r<t.length;r++){var i=n(t.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return l(e,t),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";d.REDUCE||(n/=t=h(n,r),r/=t),e=e||15;var i=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,r),o=function(e,t,n){for(var r=1,i=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),o=0;o<300;o++){if(r===i)return o;r=10*r%t,i=10*i%t}return 0}(0,r,i),s=-1===this.s?"-":"";if(s+=n/r|0,n%=r,(n*=10)&&(s+="."),i){for(var a=o;a--;)s+=n/r|0,n%=r,n*=10;for(s+="(",a=i;a--;)s+=n/r|0,n%=r,n*=10;s+=")"}else for(a=e;n&&a--;)s+=n/r|0,n%=r,n*=10;return s}},void 0===(r=(function(){return d}).apply(t,[]))||(e.exports=r)}()},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return x})),n.d(t,"__importDefault",(function(){return E})),n.d(t,"__classPrivateFieldGet",(function(){return C})),n.d(t,"__classPrivateFieldSet",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(u((n,r)=>Object(a.a)(e(n,r)).pipe(Object(s.a)((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new c(e,n)))}class c{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends i.a{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new o.a(this,t,n),s=this.destination;s.add(i);const a=Object(r.a)(this,e,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"6XX6":function(e,t){e.exports=function e(t,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,s=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,l=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=l(t).replace(s,"")||"",d=l(n).replace(s,"")||"",f=h.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(h.match(u),16)||1!==f.length&&h.match(a)&&Date.parse(h),g=parseInt(d.match(u),16)||m&&d.match(a)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var y=0,v=Math.max(f.length,p.length);y<v;y++){if(r=!(f[y]||"").match(c)&&parseFloat(f[y])||f[y]||0,i=!(p[y]||"").match(c)&&parseFloat(p[y])||p[y]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},"7a9l":function(e,t,n){var r;!function(n){"use strict";var i=function(e){return.5*(Math.exp(e)+Math.exp(-e))},o=function(e){return.5*(Math.exp(e)-Math.exp(-e))},s=function(){throw SyntaxError("Invalid Param")};function a(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function u(e,t){if(!(this instanceof u))return new u(e,t);var n=function(e,t){var n={re:0,im:0};if(null==e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return u.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return u.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):s();break;case"string":n.im=n.re=0;var r=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===r&&s();for(var a=0;a<r.length;a++){var c=r[a];" "===c||"\t"===c||"\n"===c||("+"===c?i++:"-"===c?o++:"i"===c||"I"===c?(i+o===0&&s()," "===r[a+1]||isNaN(r[a+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+r[a+1]),a++),i=o=0):((i+o===0||isNaN(c))&&s(),"i"===r[a+1]||"I"===r[a+1]?(n.im+=parseFloat((o%2?"-":"")+c),a++):n.re+=parseFloat((o%2?"-":"")+c),i=o=0))}i+o>0&&s();break;case"number":n.im=0,n.re=e;break;default:s()}return isNaN(n.re)||isNaN(n.im),n}(e,t);this.re=n.re,this.im=n.im}u.prototype={re:0,im:0,sign:function(){var e=this.abs();return new u(this.re/e,this.im/e)},add:function(e,t){var n=new u(e,t);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re+n.re,this.im+n.im)},sub:function(e,t){var n=new u(e,t);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re-n.re,this.im-n.im)},mul:function(e,t){var n=new u(e,t);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:0===n.im&&0===this.im?new u(this.re*n.re,0):new u(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){var n=new u(e,t);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return u.NAN;if(this.isInfinite()||n.isZero())return u.INFINITY;if(this.isZero()||n.isInfinite())return u.ZERO;e=this.re,t=this.im;var r,i,o=n.re,s=n.im;return 0===s?new u(e/o,t/o):Math.abs(o)<Math.abs(s)?new u((e*(i=o/s)+t)/(r=o*i+s),(t*i-e)/r):new u((e+t*(i=s/o))/(r=s*i+o),(t-e*i)/r)},pow:function(e,t){var n=new u(e,t);if(e=this.re,t=this.im,n.isZero())return u.ONE;if(0===n.im){if(0===t&&e>=0)return new u(Math.pow(e,n.re),0);if(0===e)switch((n.re%4+4)%4){case 0:return new u(Math.pow(t,n.re),0);case 1:return new u(0,Math.pow(t,n.re));case 2:return new u(-Math.pow(t,n.re),0);case 3:return new u(0,-Math.pow(t,n.re))}}if(0===e&&0===t&&n.re>0&&n.im>=0)return u.ZERO;var r=Math.atan2(t,e),i=a(e,t);return e=Math.exp(n.re*i-n.im*r),t=n.im*i+n.re*r,new u(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new u(Math.sqrt(n),0);e=.5*Math.sqrt(2*(i+n))}else e=Math.abs(r)/Math.sqrt(2*(i-n));return t=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new u(e,r<0?-t:t)},exp:function(){var e=Math.exp(this.re);return new u(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new u(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var n=e*e;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new u(a(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,n=Math.abs(e),r=Math.abs(t),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=e/t):r=t/e,n*Math.sqrt(1+r*r));var e,t,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new u(Math.sin(e)*i(t),Math.cos(e)*o(t))},cos:function(){var e=this.re,t=this.im;return new u(Math.cos(e)*i(t),-Math.sin(e)*o(t))},tan:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)+i(t);return new u(Math.sin(e)/n,o(t)/n)},cot:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)-i(t);return new u(-Math.sin(e)/n,o(t)/n)},sec:function(){var e=this.re,t=this.im,n=.5*i(2*t)+.5*Math.cos(2*e);return new u(Math.cos(e)*i(t)/n,Math.sin(e)*o(t)/n)},csc:function(){var e=this.re,t=this.im,n=.5*i(2*t)-.5*Math.cos(2*e);return new u(Math.sin(e)*i(t)/n,-Math.cos(e)*o(t)/n)},asin:function(){var e=this.re,t=this.im,n=new u(t*t-e*e+1,-2*e*t).sqrt(),r=new u(n.re-t,n.im+e).log();return new u(r.im,-r.re)},acos:function(){var e=this.re,t=this.im,n=new u(t*t-e*e+1,-2*e*t).sqrt(),r=new u(n.re-t,n.im+e).log();return new u(Math.PI/2-r.im,r.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new u(0,1/0);if(-1===t)return new u(0,-1/0)}var n=e*e+(1-t)*(1-t),r=new u((1-t*t-e*e)/n,-2*e/n).log();return new u(-.5*r.im,.5*r.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new u(Math.atan2(1,e),0);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).atan():new u(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,1/0);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).acos():new u(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(Math.PI/2,1/0);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).asin():new u(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new u(o(e)*Math.cos(t),i(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new u(i(e)*Math.cos(t),o(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,n=i(e)+Math.cos(t);return new u(o(e)/n,Math.sin(t)/n)},coth:function(){var e=2*this.re,t=2*this.im,n=i(e)-Math.cos(t);return new u(o(e)/n,-Math.sin(t)/n)},csch:function(){var e=this.re,t=this.im,n=Math.cos(2*t)-i(2*e);return new u(-2*o(e)*Math.cos(t)/n,2*i(e)*Math.sin(t)/n)},sech:function(){var e=this.re,t=this.im,n=Math.cos(2*t)+i(2*e);return new u(2*i(e)*Math.cos(t)/n,-2*o(e)*Math.sin(t)/n)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else t=e.im,e.im=-e.re,e.re=t;return e},atanh:function(){var e=this.re,t=this.im,n=e>1&&0===t,r=1-e,i=1+e,o=r*r+t*t,s=0!==o?new u((i*r-t*t)/o,(t*r+i*t)/o):new u(-1!==e?e/0:0,0!==t?t/0:0),c=s.re;return s.re=a(s.re,s.im)/2,s.im=Math.atan2(s.im,c)/2,n&&(s.im=-s.im),s},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,Math.PI/2);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).atanh():new u(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new u(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).asinh():new u(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return u.INFINITY;var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).acosh():new u(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var e=this.re,t=this.im,n=e*e+t*t;return new u(e/n,-t/n)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new u(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new u(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new u(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var n=new u(e,t);return Math.abs(n.re-this.re)<=u.EPSILON&&Math.abs(n.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(n+=e),0!==t&&(0!==e?n+=t<0?" - ":" + ":t<0&&(n+="-"),1!==(t=Math.abs(t))&&(n+=t),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,void 0===(r=(function(){return u}).apply(t,[]))||(e.exports=r)}()},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!e){this.destination=i.a;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[s.a](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,o){let s;super(),this._parentSubscriber=e;let a=this;Object(r.a)(t)?s=t:t&&(s=t.next,n=t.error,o=t.complete,t!==i.a&&(a=Object.create(t),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new r.a(n=>{const r=new o.a;return r.add(t.schedule(()=>{const i=e[s.a]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a(n=>{const r=new o.a;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if(Object(l.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.a](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.a?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.a](){return this}pipe(...e){return 0===e.length?this:Object(a.b)(e)(this)}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},Lhse:function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return i}));const i=r()},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,"a",(function(){return r}))},NOGY:function(e,t,n){"use strict";var r=n("fXoL"),i=["*"],o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=n("fXoL"),u=function(){function e(e){this.el=e,this.owlClass=!0,this.options={},"undefined"==typeof $&&"undefined"!=typeof jQuery&&($=jQuery)}return e.prototype.ngOnInit=function(){"undefined"!=typeof window&&$&&"function"==typeof $.fn.owlCarousel&&(this.$owl=$(this.el.nativeElement))},e.prototype.ngAfterViewInit=function(){this.initOwl()},e.prototype.initOwl=function(){var e=this;if(this.$owl){var t={};Object.assign(t,this.options),this.currentSlideIndex&&(t.startPosition=this.currentSlideIndex),this.$owl.owlCarousel(t),this.$owl.on("changed.owl.carousel",(function(t){e.currentSlideIndex=t.item.index}))}},e.prototype.trigger=function(e,t){this.$owl&&this.$owl.trigger(e,t)},e.prototype.ngOnDestroy=function(){this.destroyOwl(),delete this.$owl},e.prototype.destroyOwl=function(){this.$owl&&this.$owl.trigger("destroy.owl.carousel").removeClass("owl-loaded owl-hidden").find(".owl-stage:empty, .owl-item:empty").remove()},o([a.HostBinding("class.owl-carousel"),s("design:type",Object)],e.prototype,"owlClass",void 0),o([a.Input(),s("design:type",Object)],e.prototype,"options",void 0),(e=o([s("design:paramtypes",[a.ElementRef])],e)).\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(r.ElementRef))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["owl-carousel-child"]],hostVars:2,hostBindings:function(e,t){2&e&&r.\u0275\u0275classProp("owl-carousel",t.owlClass)},inputs:{options:"options"},ngContentSelectors:i,decls:1,vars:0,template:function(e,t){1&e&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275projection(0))},encapsulation:2}),e}();t.OwlChild=u},NSPt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("mAIw"),a=n("zVF4"),u=n("q/0M"),c=n("S+S0"),l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),a.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:a.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return a.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),m=new u.Logger("@firebase/database"),g=(i=1,function(){return i++}),y=function(e){var t=a.stringToByteArray(e),n=new a.Sha1;n.update(t);var r=n.digest();return a.base64.encodeByteArray(r)},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=v.apply(null,i):n+="object"==typeof i?a.stringify(i):i,n+=" "}return n},b=null,w=!0,_=function(e,t){a.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(m.logLevel=u.LogLevel.VERBOSE,b=m.log.bind(m),t&&p.set("logging_enabled",!0)):"function"==typeof e?b=e:(b=null,p.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===b&&!0===p.get("logging_enabled")&&_(!0)),b){var n=v.apply(null,e);b(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,s.__spread([e],t))}},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,s.__spread(e));m.error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,s.__spread(e));throw m.error(n),new Error(n)},N=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+v.apply(void 0,s.__spread(e));m.warn(n)},A=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",D="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===T||t===D)return-1;if(t===T||e===D)return 1;var n=G(e),r=G(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},I=function(e,t){return e===t?0:e<t?-1:1},M=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+a.stringify(t))},R=function(e){if("object"!=typeof e||null===e)return a.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=a.stringify(t[i]),r+=":",r+=R(e[t[i]]);return r+"}"},k=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function P(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F,j,L,B,U,V,q,z,H,$,W=function(e){var t,n,r,i,o;a.assert(!A(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},Q=new RegExp("^-?(0*)\\d{1,10}$"),G=function(e){if(Q.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},K=function(e){try{e()}catch(t){setTimeout((function(){throw N("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},Z=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},Y=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),J=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=a.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=a.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),X=function(){function e(e,t,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(a.assert("string"==typeof e,"typeof type must == string"),a.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return P(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),ee=function(e){var t=te(e),n=t.namespace;return"firebase"===t.domain&&S(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===t.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&N("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new X(t.host,t.secure,n,"ws"===t.scheme||"wss"===t.scheme,"",n!==t.subdomain),path:new Y(t.pathString)}},te=function(e){var t="",n="",r="",i="",o="",a=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,d)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=s.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):N("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=e.length;var p=t.split(".");3===p.length?(n=p[1],o=r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,l).toLowerCase()&&(n="localhost"),"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}},ne=/[\[\].#$\/\u0000-\u001F\u007F]/,re=/[\[\].#$\u0000-\u001F\u007F]/,ie=function(e){return"string"==typeof e&&0!==e.length&&!ne.test(e)},oe=function(e){return"string"==typeof e&&0!==e.length&&!re.test(e)},se=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!A(e)||e&&"object"==typeof e&&a.contains(e,".sv")},ae=function(e,t,n,r,i){i&&void 0===n||ue(a.errorPrefix(e,t,i),n,r)},ue=function(e,t,n){var r=n instanceof Y?new J(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(A(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>10485760/3&&a.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(P(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!ie(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),ue(e,n,r),r.pop()})),i&&o)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ce=function(e,t,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];P(n,(function(e,t){var n=new Y(e);if(ue(o,t,r.child(n)),".priority"===n.getBack()&&!se(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ie(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Y.comparePaths);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&s.contains(r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},le=function(e,t,n,r){if(!r||void 0!==n){if(A(n))throw new Error(a.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!se(n))throw new Error(a.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},he=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},de=function(e,t,n,r){if(!(r&&void 0===n||ie(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},fe=function(e,t,n,r){if(!(r&&void 0===n||oe(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pe=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fe(e,t,n,r)},me=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ge=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ie(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),oe(e)}(r))throw new Error(a.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ye=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a boolean.")},ve=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),me("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),me("OnDisconnect.set",this.path_),ae("OnDisconnect.set",1,e,this.path_,!1),a.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),me("OnDisconnect.setWithPriority",this.path_),ae("OnDisconnect.setWithPriority",1,e,this.path_,!1),le("OnDisconnect.setWithPriority",2,t,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),me("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,N("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ce("OnDisconnect.update",1,e,this.path_,!1),a.validateCallback("OnDisconnect.update",2,t,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),be=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),we=(F="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j=0,L=[],function(e){var t,n=e===j;j=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=F.charAt(e%64),e=Math.floor(e/64);a.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===L[t];t--)L[t]=0;L[t]++}else for(t=0;t<12;t++)L[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=F.charAt(L[t]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),_e=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),xe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new _e(T,e),r=new _e(T,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return _e.MIN},e}(),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return B},set:function(e){B=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return O(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return _e.MIN},t.prototype.maxPost=function(){return new _e(D,B)},t.prototype.makePost=function(e,t){return a.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new _e(e,B)},t.prototype.toString=function(){return".key"},t}(xe),Ce=new Ee,Se=function(e){return"number"==typeof e?"number:"+W(e):"string:"+e},Ne=function(e){if(e.isLeafNode()){var t=e.val();a.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&a.contains(t,".sv"),"Priority must be a string or number.")}else a.assert(e===U||e.isEmpty(),"priority of unexpected type.");a.assert(e===U||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ae=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,a.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ne(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return V},set:function(e){V=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Se(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?W(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(a.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Te=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return _e.MIN},t.prototype.maxPost=function(){return new _e(D,new Ae("[PRIORITY-POST]",z))},t.prototype.makePost=function(e,t){var n=q(e);return new _e(t,new Ae("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(xe)),De=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Oe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Me.EMPTY_NODE,this.right=null!=o?o:Me.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Me.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Me.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ie=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Oe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Me=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Oe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new De(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new De(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new De(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new De(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ie,e}(),Re=Math.log(2),ke=function(){function e(e){this.count=parseInt(Math.log(e+1)/Re,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Pe=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,s,a=r-t;if(0===a)return null;if(1===a)return o=e[t],s=n?n(o):o,new Oe(s,o.node,Oe.BLACK,null,null);var u=parseInt(a/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],s=n?n(o):o,new Oe(s,o.node,Oe.BLACK,c,l)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var c=i(o+1,a),l=e[o],h=n?n(l):l;u(new Oe(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?a(h,Oe.BLACK):(a(h,Oe.BLACK),a(h,Oe.RED))}return o}(new ke(e.length));return new Me(r||t,o)},Fe={},je=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return a.assert(Fe&&Te,"ChildrenNode.ts has not been loaded"),H=H||new e({".priority":Fe},{".priority":Te})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Me?t:null},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){a.assert(t!==Ce,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,u=n.getIterator(_e.Wrap),c=u.getNext();c;)o=o||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=o?Pe(i,t.getCompare()):Fe;var l=t.toString(),h=s.__assign({},this.indexSet_);h[l]=t;var d=s.__assign({},this.indexes_);return d[l]=r,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(a.map(this.indexes_,(function(e,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,"Missing index implementation for "+i),e===Fe){if(o.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(_e.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),Pe(s,o.getCompare())}return Fe}var l=n.get(t.name),h=e;return l&&(h=h.remove(new _e(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.indexes_,(function(e){if(e===Fe)return e;var r=n.get(t.name);return r?e.remove(new _e(t.name,r)):e})),this.indexSet_)},e}();function Le(e,t){return O(e.name,t.name)}function Be(e,t){return O(e,t)}var Ue=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ne(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return $||($=new e(new Me(Be),null,je.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||$},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?$:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new _e(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?$:this.priorityNode_;return new e(i,s,o)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;a.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Te,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Se(this.getPriority().val())+":"),this.forEachChild(Te,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new _e(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new _e(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new _e(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,_e.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,_e.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ve?-1:0},e.prototype.withIndex=function(t){if(t===Ce||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ce||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Te),r=t.getIterator(Te),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ce?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ve=new(function(e){function t(){return e.call(this,new Me(Be),Ue.EMPTY_NODE,je.Default)||this}return s.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Ue.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ue));function qe(e,t){if(void 0===t&&(t=null),null===e)return Ue.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),a.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ae(e,qe(t));if(e instanceof Array){var n=Ue.EMPTY_NODE;return P(e,(function(t,r){if(a.contains(e,t)&&"."!==t.substring(0,1)){var i=qe(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(qe(t))}var r=[],i=!1;if(P(e,(function(e,t){if("."!==e.substring(0,1)){var n=qe(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new _e(e,n)))}})),0===r.length)return Ue.EMPTY_NODE;var o=Pe(r,Le,(function(e){return e.name}),Be);if(i){var s=Pe(r,Te.getCompare());return new Ue(o,qe(t),new je({".priority":s},{".priority":Te}))}return new Ue(o,qe(t),je.Default)}Object.defineProperties(_e,{MIN:{value:new _e(T,Ue.EMPTY_NODE)},MAX:{value:new _e(D,Ve)}}),Ee.__EMPTY_NODE=Ue.EMPTY_NODE,Ae.__childrenNodeConstructor=Ue,U=Ve,function(e){z=e}(Ve),function(e){q=e}(qe);var ze,He=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return _e.MIN},t.prototype.maxPost=function(){return _e.MAX},t.prototype.makePost=function(e,t){var n=qe(e);return new _e(t,n)},t.prototype.toString=function(){return".value"},t}(xe)),$e=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,a.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=qe(e),r=Ue.EMPTY_NODE.updateChild(this.indexPath_,n);return new _e(t,r)},t.prototype.maxPost=function(){var e=Ue.EMPTY_NODE.updateChild(this.indexPath_,Ve);return new _e(D,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(xe),We=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),fe("DataSnapshot.child",1,t,!1);var n=new Y(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Te)},e.prototype.hasChild=function(e){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),fe("DataSnapshot.hasChild",1,e,!1);var t=new Y(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Te))}))},e.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Qe=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},e}(),Ge=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ke=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Qe("value",this,new We(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ge(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Ze=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return a.contains(this.callbacks_,t="children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ge(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Qe(e.type,this,new We(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||t.callbacks_[s]&&this.callbacks_[a]&&t.callbacks_[s]!==this.callbacks_[a])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Ye=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(ze,"Reference.ts has not been loaded"),ze},set:function(e){ze=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ce){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==D)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Te){if(null!=t&&!se(t)||null!=n&&!se(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(e.getIndex()instanceof $e||e.getIndex()===He,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),he("Query.on",1,t,!1),a.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[t]=n,this.onChildEvent(s,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Ke(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Ze(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){a.validateArgCount("Query.off",0,3,arguments.length),he("Query.off",1,e,!0),a.validateCallback("Query.off",2,t,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new Ke(o,null,n||null)}else e&&(t&&((i={})[e]=t),r=new Ze(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),he("Query.once",1,t,!1),a.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new a.Deferred;c.promise.catch((function(){}));var l=function(e){u&&(u=!1,o.off(t,l),n&&n.bind(s.context)(e),c.resolve(e))};return this.on(t,l,(function(e){o.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');fe("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Y(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new $e(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Ce);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Te);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(He);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.startAt",0,2,arguments.length),ae("Query.startAt",1,t,this.path,!0),de("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.endAt",0,2,arguments.length),ae("Query.endAt",1,t,this.path,!0),de("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),ae("Query.equalTo",1,e,this.path,!1),de("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=R(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return r&&i&&o},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,a.validateCallback(e,3,r.cancel,!0),r.context=n,a.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(a.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Je=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Xe=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),et=function(e,t,n){return e&&"object"==typeof e?(a.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?tt(e[".sv"],t,n):"object"==typeof e[".sv"]?nt(e[".sv"],t):void a.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},tt=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:a.assert(!1,"Unexpected server value: "+e)}},nt=function(e,t,n){e.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&a.assert(!1,"Unexpected increment value: "+r);var i=t.node();if(a.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},rt=function(e,t,n,r){return ot(t,new Xe(n,e),r)},it=function(e,t,n){return ot(e,new Je(t),n)};function ot(e,t,n){var r,i=e.getPriority().val(),o=et(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=et(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new Ae(a,qe(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ae(o))),u.forEachChild(Te,(function(e,i){var o=ot(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var st,at,ut=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Te,(function(e,t){n.remember(new Y(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();return e=e.popFront(),this.children.has(r)&&this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new Y(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}(),ct=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({}),lt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,a.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),ht=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ct.ACK_USER_WRITE,this.source=lt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Y(t));return new e(Y.Empty,n,this.revert)}return a.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),dt=function(){function e(e,t){void 0===t&&(st||(st=new Me(I)),t=st),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return P(t,(function(e,t){n=n.set(new Y(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Y.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new Y(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r,i=t.getFront(),o=(this.children.get(i)||e.Empty).setTree(t.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(Y.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Y.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Y.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(Y.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),ft=function(){function e(e,t){this.source=e,this.path=t,this.type=ct.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,Y.Empty):new e(this.source,this.path.popFront())},e}(),pt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ct.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,Y.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),mt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ct.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new Y(t));return n.isEmpty()?null:n.value?new pt(this.source,Y.Empty,n.value):new e(this.source,Y.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),gt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),yt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new gt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new gt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new gt(Ue.EMPTY_NODE,!1,!1),new gt(Ue.EMPTY_NODE,!1,!1)),e}(),vt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),bt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){a.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(vt.childRemovedChange(t,s)):a.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(vt.childAddedChange(t,n)):o.trackChildChange(vt.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Te,(function(e,r){t.hasChild(e)||n.trackChildChange(vt.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(Te,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(vt.childChangedChange(t,r,i))}else n.trackChildChange(vt.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Ue.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),wt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;a.assert(t===vt.CHILD_ADDED||t===vt.CHILD_CHANGED||t===vt.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t===vt.CHILD_ADDED&&i===vt.CHILD_REMOVED)this.changeMap.set(n,vt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t===vt.CHILD_REMOVED&&i===vt.CHILD_ADDED)this.changeMap.delete(n);else if(t===vt.CHILD_REMOVED&&i===vt.CHILD_CHANGED)this.changeMap.set(n,vt.childRemovedChange(n,r.oldSnap));else if(t===vt.CHILD_CHANGED&&i===vt.CHILD_ADDED)this.changeMap.set(n,vt.childAddedChange(n,e.snapshotNode));else{if(t!==vt.CHILD_CHANGED||i!==vt.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,vt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),_t=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),xt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new gt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Et=function(){return function(e,t){this.viewCache=e,this.changes=t}}(),Ct=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){a.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,s,u=new wt;if(n.type===ct.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(t,c.path,c.snap,r,i,u):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(t,c.path,c.snap,r,i,s,u))}else if(n.type===ct.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(t,l.path,l.children,r,i,u):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,l.path,l.children,r,i,s,u))}else if(n.type===ct.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(t,h.path,r,i,u):this.ackUserWrite_(t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ct.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,u)}var d=u.getChanges();return e.maybeAddValueEvent_(t,o,d),new Et(o,d)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(vt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s=void 0,u=void 0;if(t.isEmpty())if(a.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof Ue?c:Ue.EMPTY_NODE);s=this.filter_.updateFullNode(e.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var d=t.getFront();if(".priority"===d){a.assert(1===t.getLength(),"Can't have a priority with additional path components");var f=o.getNode();u=e.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(t,f,u);s=null!=p?this.filter_.updatePriority(f,p):o.getNode()}else{var m=t.popFront(),g=void 0;if(o.isCompleteForChild(d)){u=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),u);g=null!=y?o.getNode().getImmediateChild(d).updateChild(m,y):o.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,e.getServerCache());s=null!=g?this.filter_.updateChild(o.getNode(),d,g,m,r,i):o.getNode()}}return e.updateEventSnap(s,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,s){var a,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var d=t.popFront(),f=u.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?c.updatePriority(u.getNode(),f):c.updateChild(u.getNode(),h,f,d,_t,null)}var p=e.updateServerSnap(a,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),m=new xt(r,p,i);return this.generateEventCacheAfterServerEvent_(p,t,r,m,s)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var s,a,u=e.getEventCache(),c=new xt(r,e,i);if(t.isEmpty())a=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),s=e.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)a=this.filter_.updatePriority(e.getEventCache().getNode(),n),s=e.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=t.popFront(),d=u.getNode().getImmediateChild(l),f=void 0;if(h.isEmpty())f=n;else{var p=c.getCompleteChild(l);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Ue.EMPTY_NODE}if(d.equals(f))s=e;else{var m=this.filter_.updateChild(u.getNode(),l,f,h,c,o);s=e.updateEventSnap(m,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,s){var a=this,u=t;return r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,s){var a=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:dt.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal((function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new Y(t),h,r,i,o,s)}})),u.children.inorderTraversal((function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),d=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new Y(t),d,r,i,o,s)}})),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var s=e.getServerCache().isFiltered(),a=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,a.getNode().getChild(t),r,i,s,o);if(t.isEmpty()){var u=dt.Empty;return a.getNode().forEachChild(Ce,(function(e,t){u=u.set(new Y(e),t)})),this.applyServerMerge_(e,t,u,r,i,s,o)}return e}var c=dt.Empty;return n.foreach((function(e,n){var r=t.child(e);a.isCompleteForPath(r)&&(c=c.set(e,a.getNode().getChild(r)))})),this.applyServerMerge_(e,t,c,r,i,s,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,_t,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var s=new xt(n,e,r),u=e.getEventCache().getNode(),c=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();a.assert(h instanceof Ue,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var d=t.getFront(),f=n.calcCompleteChild(d,e.getServerCache());null==f&&e.getServerCache().isCompleteForChild(d)&&(f=u.getImmediateChild(d)),(c=null!=f?this.filter_.updateChild(u,d,f,t.popFront(),s,i):e.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(u,d,Ue.EMPTY_NODE,t.popFront(),s,i):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Y.Empty),e.updateEventSnap(c,o,this.filter_.filtersNodes())},e}(),St=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===vt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(vt.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,vt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,vt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,vt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,vt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,vt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,s=n.filter((function(e){return e.type===t}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw a.assertionError("Should only compare child_ events.");var n=new _e(e.childName,e.snapshotNode),r=new _e(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),Nt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new bt(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ct(i);var o=t.getServerCache(),s=t.getEventCache(),a=r.updateFullNode(Ue.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ue.EMPTY_NODE,s.getNode(),null),c=new gt(a,o.isFullyInitialized(),r.filtersNodes()),l=new gt(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new yt(l,c),this.eventGenerator_=new St(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){a.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t=t,r);i&&n.push(i)}))}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===ct.MERGE&&null!==e.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Te,(function(e,t){n.push(vt.childAddedChange(e,t))})),t.isFullyInitialized()&&n.push(vt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){return this.eventGenerator_.generateEventsForChanges(e,t,n?[n]:this.eventRegistrations_)},e}(),At=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(at,"Reference.ts has not been loaded"),at},set:function(e){a.assert(!at,"__referenceConstructor has already been defined"),at=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,o=e.source.queryId;if(null!==o){var u=this.views.get(o);return a.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(e,t,n)}var c=[];try{for(var l=s.__values(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(e,t,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof Ue?(a=n.calcCompleteEventChildren(r),u=!1):(a=Ue.EMPTY_NODE,u=!1);var c=new yt(new gt(a,u,!1),new gt(r,i,!1));s=new Nt(e,c),this.views.set(o,s)}return s.addEventRegistration(t),s.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,o,a=t.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===a)try{for(var h=s.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var f,p=s.__read(d.value,2),m=p[0];c=c.concat((f=p[1]).removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(m),f.getQuery().getQueryParams().loadsAllData()||u.push(f.getQuery()))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(f=this.views.get(a))&&(c=c.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(a),f.getQuery().getQueryParams().loadsAllData()||u.push(f.getQuery())));return l&&!this.hasCompleteView()&&u.push(new e.__referenceConstructor(t.repo,t.path)),{removed:u,events:c}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=s.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=s.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(e)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=s.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),Tt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new dt(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=Y.relativePath(i,t);return o=o.updateChild(s,n),new e(this.writeTree_.set(i,o))}var a=new dt(n);return new e(this.writeTree_.setTree(t,a))},e.prototype.addWrites=function(e,t){var n=this;return P(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,dt.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(Y.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Te,(function(t,n){e.push(new _e(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new _e(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new dt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(t.child(n),o,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r}(Y.Empty,this.writeTree_,e)},e.Empty=new e(new dt(null)),e}(),Dt=function(){function e(){this.visibleWrites_=Tt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Ot(e,this)},e.prototype.addOverwrite=function(e,t,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),s--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):P(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})),!0))},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Y.Empty)?e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t).apply(n||Ue.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(t);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(Y.Empty)?a.apply(n||Ue.EMPTY_NODE):null},e.prototype.calcCompleteEventChildren=function(e,t){var n=Ue.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Te,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Te,(function(e,t){var r=i.childCompoundWrite(new Y(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(e),u=a.getCompleteNode(Y.Empty);if(null!=u)s=u;else{if(null==t)return[];s=a.apply(t)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&c.length<r;)0!==l(d,n)&&c.push(d),d=h.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,Y.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Tt.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,u=void 0;if(o.snap)n.contains(s)?(u=Y.relativePath(n,s),r=r.addWrite(u,o.snap)):s.contains(n)&&(u=Y.relativePath(s,n),r=r.addWrite(Y.Empty,o.snap.getChild(u)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=Y.relativePath(n,s),r=r.addWrites(u,o.children);else if(s.contains(n))if((u=Y.relativePath(s,n)).isEmpty())r=r.addWrites(Y.Empty,o.children);else{var c=a.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(Y.Empty,l)}}}}}return r},e}(),Ot=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),It=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=dt.Empty,this.pendingWriteTree_=new Dt,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new pt(lt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=dt.fromObject(t);return this.applyOperationToSyncPoints_(new mt(lt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=dt.Empty;return null!=n.snap?r=r.set(Y.Empty,!0):P(n.children,(function(e,t){r=r.set(new Y(e),t)})),this.applyOperationToSyncPoints_(new ht(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new pt(lt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=dt.fromObject(t);return this.applyOperationToSyncPoints_(new mt(lt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new ft(lt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,u=Y.relativePath(s,t),c=new pt(lt.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,u=Y.relativePath(s,t),c=dt.fromObject(n),l=new mt(lt.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,s=i.queryId,a=Y.relativePath(o,t),u=new ft(lt.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Y.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(Y.Empty)):(u=new At,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=Ue.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(Y.Empty);n&&(i=i.updateImmediateChild(e,n))})));var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);a.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var d=this.pendingWriteTree_.childWrites(r),f=u.addEventRegistration(t,n,d,i,s);if(!c&&!o){var p=u.viewForQuery(t);f=f.concat(this.setupListener_(t,p))}return f},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===t.queryIdentifier()||s.viewExistsForQuery(t))){var u=s.removeEventRegistration(t,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(e){return e.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var m=f[p],g=m.getQuery(),y=this.createListenerForView_(m);this.listenProvider_.startListening(e.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(e.queryForListening_(t),null):c.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}))),this.removeTags_(c)}return a},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=Y.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),P(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)a.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),P(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||Ue.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return a.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Y(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Y.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(Y.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Y.Empty));var o=[],s=e.path.getFront(),a=e.operationForChild(s),u=t.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(Y.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Y.Empty));var s=[];return t.children.inorderTraversal((function(t,o){var a=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(e,r,n))),s},e.nextQueryTag_=1,e}(),Mt=function(){function e(){this.rootNode_=Ue.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Rt=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';N(e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),kt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),a.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return a.deepCopy(this.counters_)},e}(),Pt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new kt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Ft=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=s.__assign({},e);return this.last_&&P(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ft(e);var n=1e4+2e4*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;P(t,(function(t,i){i>0&&a.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Lt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Bt(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Bt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();b&&x("event: "+t.toString()),K(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Ut=function(){function e(e){this.allowedEvents_=e,this.listeners_={},a.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=s.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){a.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Vt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return s.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Ut),qt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return s.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Ut),zt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&K((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Ht=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=Pt.getCollection(t),this.urlFn=function(e){return t.connectionURL("long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(a.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new $t((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.__read(e,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.__read(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(a.isNodeSdk()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=a.base64Encode(t),r=k(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=a.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),$t=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){x("frame writing exception"),u.stack&&x(u.stack),x(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;a.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Wt="",Qt=null;"undefined"!=typeof MozWebSocket?Qt=MozWebSocket:"undefined"!=typeof WebSocket&&(Qt=WebSocket);var Gt=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Pt.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Wt+"/"+process.platform+"/"+(a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Qt(this.connURL,[],r)}else this.mySock=new Qt(this.connURL)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Qt&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=a.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(a.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=k(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Kt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Ht,Gt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Gt&&Gt.isAvailable(),o=i&&!Gt.previouslyFailed();if(t.webSocketOnly&&(i||N("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Gt];else{var a=this.transports_=[];try{for(var u=s.__values(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Zt=function(){function e(e,t,n,r,i,o,s){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Kt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=M("t",e),n=M("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=M("t",e),n=M("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=M("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?C("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&N("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Yt=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Jt=function(e){function t(n,r,i,o,s,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=E("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Vt.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&qt.getInstance().on("online",c.onOnline_,c),c}return s.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r.queryObject(),s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&a.contains(e,"w")){var n=a.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();N("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||a.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=a.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):C("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())};this.realtime_={close:l,sendRequest:function(e){a.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(t){u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,c=new Zt(i,o.repoInfo_,e,n,r,(function(e){N(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(e){o.log_("Failed to get token: "+e),u||(a.CONSTANTS.NODE_ADMIN&&N(e),l())}))}},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new Y(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=s.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";a.CONSTANTS.NODE_ADMIN?t="admin_node":a.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+Wt.replace(/\./g,"-")]=1,a.isMobileCordova()?e["framework.cordova"]=1:a.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=qt.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Yt),Xt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return s.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(a.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,r),a.safeGet(o.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+a.querystring(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=a.jsonEval(u.responseText)}catch(t){N("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&N("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(Yt),en=function(){function e(e,t,n,r){var i=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ut,this.persistentConnection_=null;var o=new Rt(n,r);if(this.stats_=Pt.getCollection(e),t||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Xt(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(s)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}this.persistentConnection_=new Jt(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(e){i.server_.refreshAuthToken(e)})),this.statsReporter_=Pt.getOrCreateReporter(e,(function(){return new jt(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Mt,this.infoSyncTree_=new It({startListening:function(e,t,n,r){var o=[],s=i.infoData_.getNode(e.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new It({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,(function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new Y(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var s=a.map(t,(function(e){return qe(e)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=qe(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=a.map(t,(function(e){return qe(e)}));o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=qe(t);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;P(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new Y("/.info/"+e),r=qe(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),s=qe(t,n),a=this.serverSyncTree_.calcCompleteEventCache(e),u=it(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(e.toString(),s.val(!0),(function(t,n){var o="ok"===t;o||N("set at "+e+" failed: "+t);var s=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(e,s),i.callOnCompleteCallback(r,t,n)}));var h=this.abortTransactions_(e);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),s={};if(P(t,(function(t,n){i=!1,s[t]=rt(e.child(t),qe(n),r.serverSyncTree_,o)})),i)x("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(e,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||N("update at "+e+" failed: "+t);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,t,i)})),P(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new ut;this.onDisconnect_.forEachTree(Y.Empty,(function(r,i){var o=rt(r,i,e.serverSyncTree_,t);n.remember(r,o)}));var r=[];n.forEachTree(Y.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new ut,this.eventQueue_.raiseEventsForChangedPath(Y.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=qe(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=qe(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(a.isEmpty(t))return x("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&P(t,(function(t,n){var i=qe(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Ft(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);P(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),x.apply(void 0,s.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&K((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!0,configurable:!0}),e}(),tn=function(){function e(t){this.indexedFilter_=new bt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new _e(t,n))||(n=Ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Ue.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ue.EMPTY_NODE);var i=this;return t.forEachChild(Te,(function(e,t){i.matches(new _e(e,t))||(r=r.updateImmediateChild(e,Ue.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),nn=function(){function e(e){this.rangedFilter_=new tn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new _e(t,n))||(n=Ue.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ue.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Ue.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Ue.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Ue.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var u=e;a.assert(u.numChildren()===this.limit_,"");var c=new _e(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(vt.childChangedChange(t,n,d)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt.childRemovedChange(t,d));var m=u.updateImmediateChild(t,Ue.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(vt.childAddedChange(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}return n.isEmpty()?e:h&&o(l,c)>=0?(null!=i&&(i.trackChildChange(vt.childRemovedChange(l.name,l.node)),i.trackChildChange(vt.childAddedChange(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Ue.EMPTY_NODE)):e},e}(),rn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Te&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Te},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new bt(this.getIndex()):this.hasLimit()?new nn(this):new tn(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Te?t=n.PRIORITY_INDEX:this.index_===He?t=n.VALUE_INDEX:this.index_===Ce?t=n.KEY_INDEX:(a.assert(this.index_ instanceof $e,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=a.stringify(t),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),on=function(e){function t(t,n){if(!(t instanceof en))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,rn.DEFAULT,!1)||this}return s.__extends(t,e),t.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof Y||(null===this.path.getFront()?pe("Reference.child",1,e,!1):fe("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){a.validateArgCount("Reference.set",1,2,arguments.length),me("Reference.set",this.path),ae("Reference.set",1,e,this.path,!1),a.validateCallback("Reference.set",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(a.validateArgCount("Reference.update",1,2,arguments.length),me("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,N("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ce("Reference.update",1,e,this.path,!1),a.validateCallback("Reference.update",2,t,!0);var i=new a.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),me("Reference.setWithPriority",this.path),ae("Reference.setWithPriority",1,e,this.path,!1),le("Reference.setWithPriority",2,t,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return a.validateArgCount("Reference.remove",0,1,arguments.length),me("Reference.remove",this.path),a.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),me("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,e,!1),a.validateCallback("Reference.transaction",2,t,!0),ye("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new be(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){a.validateArgCount("Reference.setPriority",1,2,arguments.length),me("Reference.setPriority",this.path),le("Reference.setPriority",1,e,!1),a.validateCallback("Reference.setPriority",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){a.validateArgCount("Reference.push",0,2,arguments.length),me("Reference.push",this.path),ae("Reference.push",1,e,this.path,!0),a.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=we(r),o=this.child(i),s=this.child(i);return n=null!=e?o.set(e,t).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return me("Reference.onDisconnect",this.path),new ve(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(Ye);Ye.__referenceConstructor=on,At.__referenceConstructor=on;var sn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),an=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new sn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof Y?t:new Y(t),r=this,i=n.getFront();null!==i;)r=new e(i,r,a.safeGet(r.node_.children,i)||new sn),i=(n=n.popFront()).getFront();return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){a.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;P(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new Y(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=a.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}(),un=function(e){return e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT",e}({});en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactionsInit_=function(){this.transactionQueueTree_=new an},en.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new on(this,e);o.on("value",i);var s={path:e,update:t,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new We(s.currentInputSnapshot,new on(this,s.path),Te);s.onComplete(null,!1,l)}}else{ue("transaction failed: Data returned ",c,s.path),s.status=un.RUN;var h=this.transactionQueueTree_.subTree(e),d=h.getValue()||[];d.push(s),h.setValue(d);var f=void 0;"object"==typeof c&&null!==c&&a.contains(c,".priority")?(f=a.safeGet(c,".priority"),a.assert(se(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(e)||Ue.EMPTY_NODE).getPriority().val(),f=f;var p=this.generateServerValues(),m=qe(c,f),y=it(m,u,p);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(e,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,v),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Ue.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===un.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},en.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),o=i,s=i.hash(),u=0;u<t.length;u++){var c=t[u];a.assert(c.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=un.SENT,c.retryCount++;var l=Y.relativePath(e,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var h=o.val(!0),d=e;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<t.length;s++){if(t[s].status=un.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[s].currentWriteId)),t[s].onComplete){var a=t[s].currentOutputSnapshotResolved,u=new on(n,t[s].path),c=new We(a,u,Te);o.push(t[s].onComplete.bind(null,null,!0,c))}t[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i),s=0;s<o.length;s++)K(o[s])}else{if("datastale"===r)for(s=0;s<t.length;s++)t[s].status=t[s].status===un.SENT_NEEDS_ABORT?un.NEEDS_ABORT:un.RUN;else for(N("transaction at "+d.toString()+" failed: "+r),s=0;s<t.length;s++)t[s].status=un.NEEDS_ABORT,t[s].abortReason=r;n.rerunTransactions_(e)}}),s)},en.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},en.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter((function(e){return e.status===un.RUN})).map((function(e){return e.currentWriteId})),o=0;o<e.length;o++){var s=e[o],u=Y.relativePath(t,s.path),c=!1,l=void 0;if(a.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===un.NEEDS_ABORT)c=!0,l=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===un.RUN)if(s.retryCount>=en.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var d=e[o].update(h.val());if(void 0!==d){ue("transaction failed: Data returned ",d,s.path);var f=qe(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(f=f.updatePriority(h.getPriority()));var p=s.currentWriteId,m=this.generateServerValues(),g=it(f,h,m);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],c&&(e[o].status=un.COMPLETED,setTimeout(e[o].unwatcher,Math.floor(0)),e[o].onComplete))if("nodata"===l){var y=new on(this,e[o].path),v=new We(e[o].currentInputSnapshot,y,Te);n.push(e[o].onComplete.bind(null,null,!1,v))}else n.push(e[o].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)K(n[o]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=e.getFront();null!==t&&null===n.getValue();)n=n.subTree(t),t=(e=e.popFront()).getFront();return n},en.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},en.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},en.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==un.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},en.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},en.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)t[o].status===un.SENT_NEEDS_ABORT||(t[o].status===un.SENT?(a.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=un.SENT_NEEDS_ABORT,t[o].abortReason="set"):(a.assert(t[o].status===un.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete&&n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r),o=0;o<n.length;o++)K(n[o])}};var cn,ln=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return cn||(cn=new e),cn},e.prototype.interrupt=function(){var e,t,n,r;try{for(var i=s.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var i=s.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,s.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.databaseFromApp=function(e,t,n){var r=n||e.options.databaseURL;void 0===r&&S("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=ee(r),o=i.repoInfo,s=void 0;return"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s&&(o=(i=ee(r="http://"+s+"?ns="+o.namespace)).repoInfo),ge("Invalid Firebase Database URL",1,i),i.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,e,t).database},e.prototype.deleteRepo=function(e){var t=a.safeGet(this.repos_,e.app.name);t&&a.safeGet(t,e.repoInfo_.toURLString())===e||S("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t,n){var r=a.safeGet(this.repos_,t.name);r||(this.repos_[t.name]=r={});var i=a.safeGet(r,e.toURLString());return i&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new en(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),hn=function(){function e(e){this.repo_=e,e instanceof en||S("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(e,Y.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),e instanceof on?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),a.validateArgCount(t,1,1,arguments.length);var n=ee(e);ge(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&S(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&S("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),dn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.database.checkDeleted_("delete"),ln.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),fn=Object.freeze({__proto__:null,forceLongPolling:function(){Gt.forceDisallow(),Ht.forceAllow()},forceWebSockets:function(){Ht.forceDisallow()},isWebSocketsAvailable:function(){return Gt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),pn=Jt;Jt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Jt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var mn=Object.freeze({__proto__:null,DataConnection:pn,RealTimeConnection:Zt,hijackHash:function(e){var t=Jt.prototype.put;return Jt.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Jt.prototype.put=t}},ConnectionTarget:X,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){ln.getInstance().forceRestClient(e)}}),gn=hn.ServerValue;function yn(t){Wt=t.SDK_VERSION;var n=t.INTERNAL.registerComponent(new c.Component("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return ln.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:on,Query:Ye,Database:hn,DataSnapshot:We,enableLogging:_,INTERNAL:fn,ServerValue:gn,TEST_ACCESS:mn}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.6.1"),a.isNodeSdk()&&(e.exports=n)}yn(o),t.DataSnapshot=We,t.Database=hn,t.OnDisconnect=ve,t.Query=Ye,t.Reference=on,t.ServerValue=gn,t.enableLogging=_,t.registerDatabase=yn},QSgb:function(e,t,n){var r;!function(i){"use strict";var o,s,a,u=9e15,c="0123456789abcdef",l="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},f=!0,p="[DecimalError] Invalid argument: ",m=Math.floor,g=Math.pow,y=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,v=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,b=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,w=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_=1e7,x=l.length-1,E=h.length-1,C={name:"[object Decimal]"};function S(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=F(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=F(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function N(e,t,n){if(e!==~~e||e<t||e>n)throw Error(p+e)}function A(e,t,n,r){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=g(10,7-t),a=e[i]%o|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[i+1]/o/100|0)==g(10,t-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(r||n<4)&&9999==a||!r&&n>3&&4999==a):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==g(10,t-3)-1,s}function T(e,t,n){for(var r,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=c.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}C.absoluteValue=C.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),O(e)},C.ceil=function(){return O(new this.constructor(this),this.e+1,2)},C.comparedTo=C.cmp=function(e){var t,n,r,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,u=o.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(t=0,n=(r=s.length)<(i=a.length)?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},C.cosine=C.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.rounding,r.precision=(e=r.precision)+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i=t.d.length;i<32?r=(1/W(4,n=Math.ceil(i/3))).toString():(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=$(e,1,t.times(r),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}(r,Q(r,n)),r.precision=e,r.rounding=t,O(2==a||3==a?n.neg():n,e,t,!0)):new r(1):new r(NaN)},C.cubeRoot=C.cbrt=function(){var e,t,n,r,i,o,s,a,u,c,l=this,h=l.constructor;if(!l.isFinite()||l.isZero())return new h(l);for(f=!1,(o=l.s*g(l.s*l,1/3))&&Math.abs(o)!=1/0?r=new h(o.toString()):(n=S(l.d),(o=((e=l.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=g(n,1/3),e=m((e+1)/3)-(e%3==(e<0?-1:2)),(r=new h(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),s=(e=h.precision)+3;;)if(c=(u=(a=r).times(a).times(a)).plus(l),r=D(c.plus(l).times(a),c.plus(u),s+2,1),S(a.d).slice(0,s)===(n=S(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(O(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(O(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}s+=4,i=1}return f=!0,O(r,e,h.rounding,t)},C.decimalPlaces=C.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-m(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},C.dividedBy=C.div=function(e){return D(this,new this.constructor(e))},C.dividedToIntegerBy=C.divToInt=function(e){var t=this.constructor;return O(D(this,new t(e),0,1,1),t.precision,t.rounding)},C.equals=C.eq=function(e){return 0===this.cmp(e)},C.floor=function(){return O(new this.constructor(this),this.e+1,3)},C.greaterThan=C.gt=function(e){return this.cmp(e)>0},C.greaterThanOrEqualTo=C.gte=function(e){var t=this.cmp(e);return 1==t||0===t},C.hyperbolicCosine=C.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;r=s.rounding,s.precision=(n=s.precision)+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?t=(1/W(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=$(s,1,o.times(t),new s(1),!0);for(var u,c=e,l=new s(8);c--;)u=o.times(o),o=a.minus(u.times(l.minus(u.times(l))));return O(o,s.precision=n,s.rounding=r,!0)},C.hyperbolicSine=C.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(n=o.rounding,o.precision=(t=o.precision)+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=$(o,2,i,i,!0);else{e=1.4*Math.sqrt(r),i=$(o,2,i=i.times(1/W(5,e=e>16?16:0|e)),i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=t,o.rounding=n,O(i,t,n,!0)},C.hyperbolicTangent=C.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.rounding,r.precision=(e=r.precision)+7,r.rounding=1,D(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},C.inverseCosine=C.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?k(n,i,o):new n(0):new n(NaN):t.isZero()?k(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=k(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},C.inverseHyperbolicCosine=C.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.rounding,r.precision=(e=r.precision)+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,f=!1,n=n.times(n).minus(1).sqrt().plus(n),f=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},C.inverseHyperbolicSine=C.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.rounding,r.precision=(e=r.precision)+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,f=!1,n=n.times(n).plus(1).sqrt().plus(n),f=!0,r.precision=e,r.rounding=t,n.ln())},C.inverseHyperbolicTangent=C.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?O(new o(i),e,t,!0):(o.precision=n=r-i.e,i=D(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},C.inverseSine=C.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=k(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},C.inverseTangent=C.atan=function(){var e,t,n,r,i,o,s,a,u,c=this,l=c.constructor,h=l.precision,d=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&h+4<=E)return(s=k(l,h+4,d).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(h+4<=E)return(s=k(l,h+4,d).times(.5)).s=c.s,s}for(l.precision=a=h+10,l.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(f=!1,t=Math.ceil(a/7),r=1,u=c.times(c),s=new l(c),i=c;-1!==e;)if(i=i.times(u),o=s.minus(i.div(r+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(r+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),f=!0,O(s,l.precision=h,l.rounding=d,!0)},C.isFinite=function(){return!!this.d},C.isInteger=C.isInt=function(){return!!this.d&&m(this.e/7)>this.d.length-2},C.isNaN=function(){return!this.s},C.isNegative=C.isNeg=function(){return this.s<0},C.isPositive=C.isPos=function(){return this.s>0},C.isZero=function(){return!!this.d&&0===this.d[0]},C.lessThan=C.lt=function(e){return this.cmp(e)<0},C.lessThanOrEqualTo=C.lte=function(e){return this.cmp(e)<1},C.logarithm=C.log=function(e){var t,n,r,i,o,s,a,u,c=this.constructor,l=c.precision,h=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new c(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(f=!1,s=V(this,a=l+5),r=t?R(c,a+10):V(e,a),A((u=D(s,r,a,1)).d,i=l,h))do{if(s=V(this,a+=10),r=t?R(c,a+10):V(e,a),u=D(s,r,a,1),!o){+S(u.d).slice(i+1,i+15)+1==1e14&&(u=O(u,l+1,0));break}}while(A(u.d,i+=10,h));return f=!0,O(u,l,h)},C.minus=C.sub=function(e){var t,n,r,i,o,s,a,u,c,l,h,d,p=this,g=p.constructor;if(e=new g(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new g(e.d||p.s!==e.s?p:NaN):e=new g(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(d=e.d,a=g.precision,u=g.rounding,!(c=p.d)[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!c[0])return new g(3===u?-0:0);e=new g(p)}return f?O(e,a,u):e}if(n=m(e.e/7),l=m(p.e/7),c=c.slice(),o=l-n){for((h=o<0)?(t=c,o=-o,s=d.length):(t=d,n=l,s=c.length),o>(r=Math.max(Math.ceil(a/7),s)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((h=(r=c.length)<(s=d.length))&&(s=r),r=0;r<s;r++)if(c[r]!=d[r]){h=c[r]<d[r];break}o=0}for(h&&(t=c,c=d,d=t,e.s=-e.s),r=d.length-(s=c.length);r>0;--r)c[s++]=0;for(r=d.length;r>o;){if(c[--r]<d[r]){for(i=r;i&&0===c[--i];)c[i]=_-1;--c[i],c[r]+=_}c[r]-=d[r]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=M(c,n),f?O(e,a,u):e):new g(3===u?-0:0)},C.modulo=C.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?O(new r(n),r.precision,r.rounding):(f=!1,9==r.modulo?(t=D(n,e.abs(),0,3,1)).s*=e.s:t=D(n,e,0,r.modulo,1),t=t.times(e),f=!0,n.minus(t))},C.naturalExponential=C.exp=function(){return U(this)},C.naturalLogarithm=C.ln=function(){return V(this)},C.negated=C.neg=function(){var e=new this.constructor(this);return e.s=-e.s,O(e)},C.plus=C.add=function(e){var t,n,r,i,o,s,a,u,c,l,h=this,d=h.constructor;if(e=new d(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new d(e.d||h.s===e.s?h:NaN)):e=new d(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=e.d,a=d.precision,u=d.rounding,!(c=h.d)[0]||!l[0])return l[0]||(e=new d(h)),f?O(e,a,u):e;if(o=m(h.e/7),r=m(e.e/7),c=c.slice(),i=o-r){for(i<0?(n=c,i=-i,s=l.length):(n=l,r=o,s=c.length),i>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=c.length)-(i=l.length)<0&&(i=s,n=l,l=c,c=n),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/_|0,c[i]%=_;for(t&&(c.unshift(t),++r),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=M(c,r),f?O(e,a,u):e},C.precision=C.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(p+e);return n.d?(t=P(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},C.round=function(){var e=this,t=e.constructor;return O(new t(e),e.e+1,t.rounding)},C.sine=C.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.rounding,r.precision=(e=r.precision)+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return $(e,2,t,t);n=1.4*Math.sqrt(r),t=$(e,2,t=t.times(1/W(5,n=n>16?16:0|n)),t);for(var i,o=new e(5),s=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(r,Q(r,n)),r.precision=e,r.rounding=t,O(a>2?n.neg():n,e,t,!0)):new r(NaN)},C.squareRoot=C.sqrt=function(){var e,t,n,r,i,o,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(f=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=S(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=m((u+1)/2)-(u<0||u%2),r=new l(t=c==1/0?"1e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new l(c.toString()),n=(u=l.precision)+3;;)if(r=(o=r).plus(D(s,o,n+2,1)).times(.5),S(o.d).slice(0,n)===(t=S(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(O(r,u+1,1),e=!r.times(r).eq(s));break}if(!i&&(O(o,u+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}return f=!0,O(r,u,l.rounding,e)},C.tangent=C.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.rounding,r.precision=(e=r.precision)+10,r.rounding=1,(n=n.sin()).s=1,n=D(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,O(2==a||4==a?n.neg():n,e,t,!0)):new r(NaN)},C.times=C.mul=function(e){var t,n,r,i,o,s,a,u,c,l=this,h=l.constructor,d=l.d,p=(e=new h(e)).d;if(e.s*=l.s,!(d&&d[0]&&p&&p[0]))return new h(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:d&&p?0*e.s:e.s/0);for(n=m(l.e/7)+m(e.e/7),(u=d.length)<(c=p.length)&&(o=d,d=p,p=o,s=u,u=c,c=s),o=[],r=s=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)a=o[i]+p[r]*d[i-r-1]+t,o[i--]=a%_|0,t=a/_|0;o[i]=(o[i]+t)%_|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=M(o,n),f?O(e,h.precision,h.rounding):e},C.toBinary=function(e,t){return G(this,2,e,t)},C.toDecimalPlaces=C.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(N(e,0,1e9),void 0===t?t=r.rounding:N(t,0,8),O(n,e+n.e+1,t))},C.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=I(r,!0):(N(e,0,1e9),void 0===t?t=i.rounding:N(t,0,8),n=I(r=O(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},C.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=I(i):(N(e,0,1e9),void 0===t?t=o.rounding:N(t,0,8),n=I(r=O(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},C.toFraction=function(e){var t,n,r,i,o,s,a,u,c,l,h,d,m=this,y=m.d,v=m.constructor;if(!y)return new v(m);if(c=n=new v(1),r=u=new v(0),o=(t=new v(r)).e=P(y)-m.e-1,t.d[0]=g(10,(s=o%7)<0?7+s:s),null==e)e=o>0?t:c;else{if(!(a=new v(e)).isInt()||a.lt(c))throw Error(p+a);e=a.gt(t)?o>0?t:c:a}for(f=!1,a=new v(S(y)),l=v.precision,v.precision=o=7*y.length*2;h=D(a,t,0,1,1),1!=(i=n.plus(h.times(r))).cmp(e);)n=r,r=i,c=u.plus(h.times(i=c)),u=i,t=a.minus(h.times(i=t)),a=i;return i=D(e.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=m.s,d=D(c,r,o,1).minus(m).abs().cmp(D(u,n,o,1).minus(m).abs())<1?[c,r]:[u,n],v.precision=l,f=!0,d},C.toHexadecimal=C.toHex=function(e,t){return G(this,16,e,t)},C.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:N(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(f=!1,n=D(n,e,0,t,1).times(e),f=!0,O(n)):(e.s=n.s,n=e),n},C.toNumber=function(){return+this},C.toOctal=function(e,t){return G(this,8,e,t)},C.toPower=C.pow=function(e){var t,n,r,i,o,s,a=this,u=a.constructor,c=+(e=new u(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new u(g(+a,c));if((a=new u(a)).eq(1))return a;if(r=u.precision,o=u.rounding,e.eq(1))return O(a,r,o);if((t=m(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=j(u,a,n,r),e.s<0?new u(1).div(i):O(i,r,o);if((s=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(n=g(+a,c))&&isFinite(n)?new u(n+"").e:m(c*(Math.log("0."+S(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(f=!1,u.rounding=a.s=1,n=Math.min(12,(t+"").length),(i=U(e.times(V(a,r+n)),r)).d&&A((i=O(i,r+5,1)).d,r,o)&&+S((i=O(U(e.times(V(a,(t=r+10)+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=O(i,r+1,0)),i.s=s,f=!0,u.rounding=o,O(i,r,o))},C.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=I(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(N(e,1,1e9),void 0===t?t=i.rounding:N(t,0,8),n=I(r=O(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},C.toSignificantDigits=C.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(N(e,1,1e9),void 0===t?t=n.rounding:N(t,0,8)),O(new n(this),e,t)},C.toString=function(){var e=this,t=e.constructor,n=I(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},C.truncated=C.trunc=function(){return O(new this.constructor(this),this.e+1,1)},C.valueOf=C.toJSON=function(){var e=this,t=e.constructor,n=I(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var D=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)e[o]=(r=e[o]*t+i)%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,e[n]=(i=e[n]<t[n]?1:0)*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a,u,c){var l,h,d,f,p,g,y,v,b,w,x,E,C,S,N,A,T,D,I,M,R=r.constructor,k=r.s==i.s?1:-1,P=r.d,F=i.d;if(!(P&&P[0]&&F&&F[0]))return new R(r.s&&i.s&&(P?!F||P[0]!=F[0]:F)?P&&0==P[0]||!F?0*k:k/0:NaN);for(c?(p=1,h=r.e-i.e):(c=_,h=m(r.e/(p=7))-m(i.e/p)),I=F.length,T=P.length,w=(b=new R(k)).d=[],d=0;F[d]==(P[d]||0);d++);if(F[d]>(P[d]||0)&&h--,null==o?(S=o=R.precision,a=R.rounding):S=u?o+(r.e-i.e)+1:o,S<0)w.push(1),g=!0;else{if(S=S/p+2|0,d=0,1==I){for(f=0,F=F[0],S++;(d<T||f)&&S--;d++)w[d]=(N=f*c+(P[d]||0))/F|0,f=N%F|0;g=f||d<T}else{for((f=c/(F[0]+1)|0)>1&&(F=e(F,f,c),P=e(P,f,c),I=F.length,T=P.length),A=I,E=(x=P.slice(0,I)).length;E<I;)x[E++]=0;(M=F.slice()).unshift(0),D=F[0],F[1]>=c/2&&++D;do{f=0,(l=t(F,x,I,E))<0?(C=x[0],I!=E&&(C=C*c+(x[1]||0)),(f=C/D|0)>1?(f>=c&&(f=c-1),1==(l=t(y=e(F,f,c),x,v=y.length,E=x.length))&&(f--,n(y,I<v?M:F,v,c))):(0==f&&(l=f=1),y=F.slice()),(v=y.length)<E&&y.unshift(0),n(x,y,E,c),-1==l&&(l=t(F,x,I,E=x.length))<1&&(f++,n(x,I<E?M:F,E,c)),E=x.length):0===l&&(f++,x=[0]),w[d++]=f,l&&x[0]?x[E++]=P[A]||0:(x=[P[A]],E=1)}while((A++<T||void 0!==x[0])&&S--);g=void 0!==x[0]}w[0]||w.shift()}if(1==p)b.e=h,s=g;else{for(d=1,f=w[0];f>=10;f/=10)d++;b.e=d+h*p-1,O(b,u?o+b.e+1:o,a,g)}return b}}();function O(e,t,n,r){var i,o,s,a,u,c,l,h,d,p=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,a=h[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=7,u=(l=h[d=0])/g(10,i-(s=t)-1)%10|0;else if((d=Math.ceil((o+1)/7))>=(a=h.length)){if(!r)break e;for(;a++<=d;)h.push(0);l=u=0,i=1,s=(o%=7)-7+1}else{for(l=a=h[d],i=1;a>=10;a/=10)i++;u=(s=(o%=7)-7+i)<0?0:l/g(10,i-s-1)%10|0}if(r=r||t<0||void 0!==h[d+1]||(s<0?l:l%g(10,i-s-1)),c=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?s>0?l/g(10,i-s):0:h[d-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(h[0]=g(10,(7-(t-=e.e+1)%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==o?(h.length=d,a=1,d--):(h.length=d+1,a=g(10,7-o),h[d]=s>0?(l/g(10,i-s)%g(10,s)|0)*a:0),c)for(;;){if(0==d){for(o=1,s=h[0];s>=10;s/=10)o++;for(s=h[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,h[0]==_&&(h[0]=1));break}if(h[d]+=a,h[d]!=_)break;h[d--]=0,a=1}for(o=h.length;0===h[--o];)h.pop()}return f&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function I(e,t,n){if(!e.isFinite())return q(e);var r,i=e.e,o=S(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+F(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+F(-i-1)+o,n&&(r=n-s)>0&&(o+=F(r))):i>=s?(o+=F(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+F(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=F(r))),o}function M(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function R(e,t,n){if(t>x)throw f=!0,n&&(e.precision=n),Error("[DecimalError] Precision limit exceeded");return O(new e(l),t,1,!0)}function k(e,t,n){if(t>E)throw Error("[DecimalError] Precision limit exceeded");return O(new e(h),t,n,!0)}function P(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function F(e){for(var t="";e--;)t+="0";return t}function j(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/7+4);for(f=!1;;){if(n%2&&K((o=o.times(t)).d,s)&&(i=!0),0===(n=m(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}K((t=t.times(t)).d,s)}return f=!0,o}function L(e){return 1&e.d[e.d.length-1]}function B(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function U(e,t){var n,r,i,o,s,a,u,c=0,l=0,h=0,d=e.constructor,p=d.rounding,m=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(f=!1,u=m):u=t,a=new d(.03125);e.e>-2;)e=e.times(a),h+=5;for(u+=r=Math.log(g(2,h))/Math.LN10*2+5|0,n=o=s=new d(1),d.precision=u;;){if(o=O(o.times(e),u,1),n=n.times(++l),S((a=s.plus(D(o,n,u,1))).d).slice(0,u)===S(s.d).slice(0,u)){for(i=h;i--;)s=O(s.times(s),u,1);if(null!=t)return d.precision=m,s;if(!(c<3&&A(s.d,u-r,p,c)))return O(s,d.precision=m,p,f=!0);d.precision=u+=10,n=o=a=new d(1),l=0,c++}s=a}}function V(e,t){var n,r,i,o,s,a,u,c,l,h,d,p=1,m=e,g=m.d,y=m.constructor,v=y.rounding,b=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(f=!1,l=b):l=t,y.precision=l+=10,r=(n=S(g)).charAt(0),!(Math.abs(o=m.e)<15e14))return c=R(y,l+2,b).times(o+""),m=V(new y(r+"."+n.slice(1)),l-10).plus(c),y.precision=b,null==t?O(m,b,v,f=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=S((m=m.times(e)).d)).charAt(0),p++;for(o=m.e,r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),h=m,u=s=m=D(m.minus(1),m.plus(1),l,1),d=O(m.times(m),l,1),i=3;;){if(s=O(s.times(d),l,1),S((c=u.plus(D(s,new y(i),l,1))).d).slice(0,l)===S(u.d).slice(0,l)){if(u=u.times(2),0!==o&&(u=u.plus(R(y,l+2,b).times(o+""))),u=D(u,new y(p),l,1),null!=t)return y.precision=b,u;if(!A(u.d,l-10,v,a))return O(u,y.precision=b,v,f=!0);y.precision=l+=10,c=s=m=D(h.minus(1),h.plus(1),l,1),d=O(m.times(m),l,1),i=a=1}u=c,i+=2}}function q(e){return String(e.s*e.s/0)}function z(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function H(e,t){var n,r,i,s,a,u,c,l,h;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(v.test(t))n=16,t=t.toLowerCase();else if(y.test(t))n=2;else{if(!b.test(t))throw Error(p+t);n=8}for((s=t.search(/p/i))>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),r=e.constructor,(a=s>=0)&&(s=(u=(t=t.replace(".","")).length)-s,i=j(r,new r(n),s,2*s)),s=h=(l=T(t,n,_)).length-1;0===l[s];--s)l.pop();return s<0?new r(0*e.s):(e.e=M(l,h),e.d=l,f=!1,a&&(e=D(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?g(2,c):o.pow(2,c))),f=!0,e)}function $(e,t,n,r,i){var o,s,a,u,c=e.precision,l=Math.ceil(c/7);for(f=!1,u=n.times(n),a=new e(r);;){if(s=D(a.times(u),new e(t++*t++),c,1),a=i?r.plus(s):r.minus(s),r=D(s.times(u),new e(t++*t++),c,1),void 0!==(s=a.plus(r)).d[l]){for(o=l;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=s,s=o}return f=!0,s.d.length=l+1,s}function W(e,t){for(var n=e;--t;)n*=e;return n}function Q(e,t){var n,r=t.s<0,i=k(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return a=r?4:1,t;if((n=t.divToInt(i)).isZero())a=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return a=L(n)?r?2:3:r?4:1,t;a=L(n)?r?1:4:r?3:2}return t.minus(i).abs()}function G(e,t,n,r){var i,o,a,u,l,h,d,f,p,m=e.constructor,g=void 0!==n;if(g?(N(n,1,1e9),void 0===r?r=m.rounding:N(r,0,8)):(n=m.precision,r=m.rounding),e.isFinite()){for(g?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(d=I(e)).indexOf("."))>=0&&(d=d.replace(".",""),(p=new m(1)).e=d.length-a,p.d=T(I(p),10,i),p.e=p.d.length),o=l=(f=T(d,10,i)).length;0==f[--l];)f.pop();if(f[0]){if(a<0?o--:((e=new m(e)).d=f,e.e=o,f=(e=D(e,p,n,r,0,i)).d,o=e.e,h=s),a=f[n],u=i/2,h=h||void 0!==f[n+1],h=r<4?(void 0!==a||h)&&(0===r||r===(e.s<0?3:2)):a>u||a===u&&(4===r||h||6===r&&1&f[n-1]||r===(e.s<0?8:7)),f.length=n,h)for(;++f[--n]>i-1;)f[n]=0,n||(++o,f.unshift(1));for(l=f.length;!f[l-1];--l);for(a=0,d="";a<l;a++)d+=c.charAt(f[a]);if(g){if(l>1)if(16==t||8==t){for(a=16==t?4:3,--l;l%a;l++)d+="0";for(l=(f=T(d,i,t)).length;!f[l-1];--l);for(a=1,d="1.";a<l;a++)d+=c.charAt(f[a])}else d=d.charAt(0)+"."+d.slice(1);d=d+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)d="0"+d;d="0."+d}else if(++o>l)for(o-=l;o--;)d+="0";else o<l&&(d=d.slice(0,o)+"."+d.slice(o))}else d=g?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=q(e);return e.s<0?"-"+d:d}function K(e,t){if(e.length>t)return e.length=t,!0}function Z(e){return new this(e).abs()}function Y(e){return new this(e).acos()}function J(e){return new this(e).acosh()}function X(e,t){return new this(e).plus(t)}function ee(e){return new this(e).asin()}function te(e){return new this(e).asinh()}function ne(e){return new this(e).atan()}function re(e){return new this(e).atanh()}function ie(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?k(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=k(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(D(e,t,o,1)),t=k(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(D(e,t,o,1)):(n=k(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function oe(e){return new this(e).cbrt()}function se(e){return O(e=new this(e),e.e+1,2)}function ae(e){if(!e||"object"!=typeof e)throw Error("[DecimalError] Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=d[n]),void 0!==(r=e[n])){if(!(m(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(p+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=d[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(p+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[n]=!0}else this[n]=!1}return this}function ue(e){return new this(e).cos()}function ce(e){return new this(e).cosh()}function le(e,t){return new this(e).div(t)}function he(e){return new this(e).exp()}function de(e){return O(e=new this(e),e.e+1,3)}function fe(){var e,t,n=new this(0);for(f=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return f=!0,new this(1/0);n=t}return f=!0,n.sqrt()}function pe(e){return e instanceof o||e&&"[object Decimal]"===e.name||!1}function me(e){return new this(e).ln()}function ge(e,t){return new this(e).log(t)}function ye(e){return new this(e).log(2)}function ve(e){return new this(e).log(10)}function be(){return B(this,arguments,"lt")}function we(){return B(this,arguments,"gt")}function _e(e,t){return new this(e).mod(t)}function xe(e,t){return new this(e).mul(t)}function Ee(e,t){return new this(e).pow(t)}function Ce(e){var t,n,r,i,o=0,s=new this(1),a=[];if(void 0===e?e=this.precision:N(e,1,1e9),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=r/4}else for(;o<r;)a[o++]=1e7*Math.random()|0;for(e%=7,(r=a[--o])&&e&&(i=g(10,7-e),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return s.e=n,s.d=a,s}function Se(e){return O(e=new this(e),e.e+1,this.rounding)}function Ne(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ae(e){return new this(e).sin()}function Te(e){return new this(e).sinh()}function De(e){return new this(e).sqrt()}function Oe(e,t){return new this(e).sub(t)}function Ie(e){return new this(e).tan()}function Me(e){return new this(e).tanh()}function Re(e){return O(e=new this(e),e.e+1,1)}(o=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,e instanceof o)return i.s=e.s,void(f?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(f?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):z(i,e.toString())}if("string"!==r)throw Error(p+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),w.test(e)?z(i,e):H(i,e)}if(o.prototype=C,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=ae,o.clone=e,o.isDecimal=pe,o.abs=Z,o.acos=Y,o.acosh=J,o.add=X,o.asin=ee,o.asinh=te,o.atan=ne,o.atanh=re,o.atan2=ie,o.cbrt=oe,o.ceil=se,o.cos=ue,o.cosh=ce,o.div=le,o.exp=he,o.floor=de,o.hypot=fe,o.ln=me,o.log=ge,o.log10=ve,o.log2=ye,o.max=be,o.min=we,o.mod=_e,o.mul=xe,o.pow=Ee,o.random=Ce,o.round=Se,o.sign=Ne,o.sin=Ae,o.sinh=Te,o.sqrt=De,o.sub=Oe,o.tan=Ie,o.tanh=Me,o.trunc=Re,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(d)).default=o.Decimal=o,l=new o(l),h=new o(h),void 0===(r=(function(){return o}).call(t,n,t,e))||(e.exports=r)}()},R4gy:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},o={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},s=function(e,t){return r({},e,t)};e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preserveFormatting,a=void 0!==n&&n,u=t.escapeMapFn,c=void 0===u?s:u,l=String(e),h="",d=c(r({},i),a?r({},o):{}),f=Object.keys(d),p=function(){var e=!1;f.forEach((function(t,n){e||l.length>=t.length&&l.slice(0,t.length)===t&&(h+=d[f[n]],l=l.slice(t.length,l.length),e=!0)})),e||(h+=l.slice(0,1),l=l.slice(1,l.length))};l;)p();return h}},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),a=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=a,t.Provider=s},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=e=>{if(e&&"function"==typeof e[s.a])return l=e,e=>{const t=l[s.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.a),e);if(e&&"function"==typeof e[o.a])return t=e,e=>{const n=t[o.a]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=Object(c.a)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},UBlB:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return x})),n.d(t,"__importDefault",(function(){return E})),n.d(t,"__classPrivateFieldGet",(function(){return C})),n.d(t,"__classPrivateFieldSet",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return Object(i.a)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(t)(Object(s.a)(e,n))}},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.14.2","app"),e.exports=i},XBat:function(e,t,n){"use strict";var r=n("fXoL"),i=n("NOGY"),o=n("ofXK"),s=["owl"],a=["*"],u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=n("fXoL"),h=n("NOGY"),d=function(){function e(e){this.differs=e,this.carouselClasses="",this.options={}}return Object.defineProperty(e.prototype,"items",{set:function(e){this._items=e,e&&!this.differ&&(this.differ=this.differs.find(e).create(null))},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this.differ){var e=this.differ.diff(this._items);if(e){var t=!1,n=function(){t=!0};e.forEachAddedItem(n),e.forEachMovedItem(n),e.forEachRemovedItem(n),t&&this.reInit()}}},e.prototype.reInit=function(){var e=this;this.$owlChild.$owl&&this.$owlChild.$owl.css("display","none"),setTimeout((function(){if(e.$owlChild.destroyOwl(),e.$owlChild.$owl){var t=e._items&&e._items.length;t&&t<=e.$owlChild.currentSlideIndex&&(e.$owlChild.currentSlideIndex=t),e.$owlChild.$owl.css("display","block")}e.$owlChild.initOwl()}),0)},e.prototype.refresh=function(){this.trigger("refresh.owl.carousel")},e.prototype.next=function(e){this.trigger("next.owl.carousel",e)},e.prototype.previous=function(e){this.trigger("prev.owl.carousel",e)},e.prototype.to=function(e){this.trigger("to.owl.carousel",e)},e.prototype.trigger=function(e,t){this.$owlChild.trigger(e,t)},u([l.ViewChild("owl"),c("design:type",h.OwlChild)],e.prototype,"$owlChild",void 0),u([l.Input(),c("design:type",Object)],e.prototype,"carouselClasses",void 0),u([l.Input(),c("design:type",Object)],e.prototype,"options",void 0),u([l.Input(),c("design:type",Array),c("design:paramtypes",[Array])],e.prototype,"items",null),(e=u([c("design:paramtypes",[l.IterableDiffers])],e)).\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(r.IterableDiffers))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["owl-carousel"]],viewQuery:function(e,t){var n;1&e&&r.\u0275\u0275viewQuery(s,!0),2&e&&r.\u0275\u0275queryRefresh(n=r.\u0275\u0275loadQuery())&&(t.$owlChild=n.first)},inputs:{carouselClasses:"carouselClasses",options:"options",items:"items"},ngContentSelectors:a,decls:3,vars:2,consts:[[3,"ngClass","options"],["owl",""]],template:function(e,t){1&e&&(r.\u0275\u0275projectionDef(),r.\u0275\u0275elementStart(0,"owl-carousel-child",0,1),r.\u0275\u0275projection(2),r.\u0275\u0275elementEnd()),2&e&&r.\u0275\u0275property("ngClass",t.carouselClasses)("options",t.options)},directives:[i.OwlChild,o.NgClass],encapsulation:2}),e}();t.OwlCarousel=d},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new a.a(this,e))}asObservable(){const e=new r.a;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):o.a.EMPTY}}},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(e,t,n,s,a=new r.a(e,n,s)){if(!a.closed)return t instanceof o.a?t.subscribe(a):Object(i.a)(t)(a)}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(e=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},djRN:function(e,t,n){"use strict";var r,i;void 0===(i="function"==typeof(r=function(){function e(){return!0}function t(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],o={name:"any",test:e},s=[],a=[],u={types:i,conversions:a,ignore:s};function c(e){var t=j(u.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return o;var n=j(u.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function l(e){return e===o?999:u.types.indexOf(e)}function h(e){var t=j(u.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function d(e){return e.map((function(e){var t=e.types.map(v);return(e.restParam?"...":"")+t.join("|")})).join(",")}function f(e){var t=k(e);return!!t&&t.restParam}function p(e){return e.types.some((function(e){return null!=e.conversion}))}function m(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var n=c(t.types[0].name).test,r=c(t.types[1].name).test;return function(e){return n(e)||r(e)}}var i=t.types.map((function(e){return c(e.name).test}));return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function g(e,t){return t<e.params.length?e.params[t]:f(e.params)?k(e.params):null}function y(e,t,n){var r=g(e,t);return(r?n?r.types.filter(b):r.types:[]).map(v)}function v(e){return e.name}function b(e){return null==e.conversion}function w(e,t){var n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}(L(e,(function(e){return y(e,t,!1)})));return-1!==n.indexOf("any")?["any"]:n}function _(e,t,n){var r,i,o,s=e||"unnamed",a=n;for(o=0;o<t.length;o++){var u=a.filter((function(e){var n=m(g(e,o));return(o<e.params.length||f(e.params))&&n(t[o])}));if(0===u.length){if((i=w(a,o)).length>0){var c=h(t[o]);return(r=new TypeError("Unexpected type of argument in function "+s+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+o+")")).data={category:"wrongType",fn:s,index:o,actual:c,expected:i},r}}else a=u}var l=a.map((function(e){return f(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,l))return i=w(a,o),(r=new TypeError("Too few arguments in function "+s+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:s,index:t.length,expected:i},r;var d=Math.max.apply(null,l);return t.length>d?((r=new TypeError("Too many arguments in function "+s+" (expected: "+d+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:s,index:t.length,expectedLength:d},r):((r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+s+".")).data={category:"mismatch",actual:t.map(h)},r)}function x(e){for(var t=999,n=0;n<e.types.length;n++)b(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function E(e){for(var t=999,n=0;n<e.types.length;n++)b(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function C(e,t){var n;return 0!=(n=e.restParam-t.restParam)||0!=(n=p(e)-p(t))||0!=(n=x(e)-x(t))?n:E(e)-E(t)}function S(e,t){var n,r,i=Math.min(e.params.length,t.params.length);if(0!=(r=e.params.some(p)-t.params.some(p)))return r;for(n=0;n<i;n++)if(0!=(r=p(e.params[n])-p(t.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=C(e.params[n],t.params[n])))return r;return e.params.length-t.params.length}function N(e){var t,n,r,i,o=[],s=[];switch(e.types.forEach((function(e){e.conversion&&(o.push(c(e.conversion.from).test),s.push(e.conversion.convert))})),s.length){case 0:return function(e){return e};case 1:return t=o[0],r=s[0],function(e){return t(e)?r(e):e};case 2:return t=o[0],n=o[1],r=s[0],i=s[1],function(e){return t(e)?r(e):n(e)?i(e):e};default:return function(e){for(var t=0;t<s.length;t++)if(o[t](e))return s[t](e);return e}}}function A(e,t){return function e(n,r,i){if(r<n.length){var o,s=n[r],a=t?s.types.filter(b):s.types;if(s.restParam){var u=a.filter(b);o=u.length<a.length?[u,a]:[a]}else o=a.map((function(e){return[e]}));return L(o,(function(t){return e(n,r+1,i.concat([t]))}))}return[i.map((function(e,t){return{types:e,restParam:t===n.length-1&&f(n)}}))]}(e,0,[])}function T(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(e){return function(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(O).map((function(e,t,r){var i=function(e,t){var n=0===e.indexOf("..."),r=(n?e.length>3?e.slice(3):"any":e).split("|").map(O).filter(I).filter(D),i=function(e,t){var n={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)})),Object.keys(n).map((function(e){return n[e]}))}(t,r),o=r.map((function(e){var t=c(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}})),s=i.map((function(e){var n=c(e.from);return{name:e.from,typeIndex:l(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:o.concat(s),restParam:n}}(e,n);if(i.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i}))),r.some(R)?null:{params:r,fn:t}}(e,r[e],u.conversions)})).filter(M).forEach((function(e){var t=j(i,(function(t){return function(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++)if(!F(y(e,r,!0),y(t,r,!0)))return!1;var i=e.params.length,o=t.params.length,s=f(e.params),a=f(t.params);return s?a?i===o:o>=i:a?i>=o:i===o}(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+d(t.params)+'" and "'+d(e.params)+'".');i.push(e)}));var o=L(i,(function(e){return(e?A(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter(M);o.sort(S);var s=o[0]&&o[0].params.length<=2&&!f(o[0].params),a=o[1]&&o[1].params.length<=2&&!f(o[1].params),h=o[2]&&o[2].params.length<=2&&!f(o[2].params),g=o[3]&&o[3].params.length<=2&&!f(o[3].params),v=o[4]&&o[4].params.length<=2&&!f(o[4].params),b=o[5]&&o[5].params.length<=2&&!f(o[5].params),w=s&&a&&h&&g&&v&&b,x=o.map((function(e){return function(e){var t,n,r,i;if(f(e)){var o=(t=(i=e,i.slice(0,i.length-1)).map(m)).length,s=m(k(e));return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return function(e){for(var t=o;t<e.length;t++)if(!s(e[t]))return!1;return!0}(e)&&e.length>=o+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=m(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=m(e[0]),r=m(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(m),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}(e.params)})),E=s?m(o[0].params[0]):t,C=a?m(o[1].params[0]):t,T=h?m(o[2].params[0]):t,B=g?m(o[3].params[0]):t,U=v?m(o[4].params[0]):t,V=b?m(o[5].params[0]):t,q=s?m(o[0].params[1]):t,z=a?m(o[1].params[1]):t,H=h?m(o[2].params[1]):t,$=g?m(o[3].params[1]):t,W=v?m(o[4].params[1]):t,Q=b?m(o[5].params[1]):t,G=o.map((function(e){return function(e,t){var n=t;if(e.some(p)){var r=f(e),i=e.map(N);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)e[o]=i[o](arguments[o]);return r&&(e[n]=arguments[n].map(i[n])),t.apply(this,e)}}var o=n;if(f(e)){var s=e.length-1;o=function(){return n.apply(this,P(arguments,0,s).concat([P(arguments,s)]))}}return o}(e.params,e.fn)})),K=s?G[0]:n,Z=a?G[1]:n,Y=h?G[2]:n,J=g?G[3]:n,X=v?G[4]:n,ee=b?G[5]:n,te=s?o[0].params.length:-1,ne=a?o[1].params.length:-1,re=h?o[2].params.length:-1,ie=g?o[3].params.length:-1,oe=v?o[4].params.length:-1,se=b?o[5].params.length:-1,ae=w?6:0,ue=o.length,ce=function(){for(var t=ae;t<ue;t++)if(x[t](arguments))return G[t].apply(this,arguments);throw _(e,arguments,o)},le=function e(t,n){return arguments.length===te&&E(t)&&q(n)?K.apply(e,arguments):arguments.length===ne&&C(t)&&z(n)?Z.apply(e,arguments):arguments.length===re&&T(t)&&H(n)?Y.apply(e,arguments):arguments.length===ie&&B(t)&&$(n)?J.apply(e,arguments):arguments.length===oe&&U(t)&&W(n)?X.apply(e,arguments):arguments.length===se&&V(t)&&Q(n)?ee.apply(e,arguments):ce.apply(e,arguments)};try{Object.defineProperty(le,"name",{value:e})}catch(he){}return le.signatures=function(e){var t={};return e.forEach((function(e){e.params.some(p)||A(e.params,!0).forEach((function(n){t[d(n)]=e.fn}))})),t}(o),le}function D(e){return-1===u.ignore.indexOf(e)}function O(e){return e.trim()}function I(e){return!!e}function M(e){return null!==e}function R(e){return 0===e.types.length}function k(e){return e[e.length-1]}function P(e,t,n){return Array.prototype.slice.call(e,t,n)}function F(e,t){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}function j(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function L(e,t){return Array.prototype.concat.apply([],e.map(t))}function B(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw i.data={actual:r.name,expected:t},i}}return t}function U(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var o=e[i];if("object"==typeof o.signatures)for(var s in o.signatures)o.signatures.hasOwnProperty(s)&&(r(s,o.signatures[s]),n[s]=o.signatures[s]);else{if("string"!=typeof o.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;r(o.signature,o),n[o.signature]=o}}return n}return(u=T("typed",{"string, Object":T,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return T(B(t),e)},"...Function":function(e){return T(B(e),U(e))},"string, ...Function":function(e,t){return T(e,U(t))}})).create=r,u.types=i,u.conversions=a,u.ignore=s,u.convert=function(e,t){var n=h(e);if(t===n)return e;for(var r=0;r<u.conversions.length;r++){var i=u.conversions[r];if(i.from===n&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var i=n.join(","),o=e.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}()})?r.apply(t,[]):r)||(e.exports=i)},fXoL:function(e,t,n){"use strict";n.r(t),n.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return Sa})),n.d(t,"APP_BOOTSTRAP_LISTENER",(function(){return iy})),n.d(t,"APP_ID",(function(){return Jg})),n.d(t,"APP_INITIALIZER",(function(){return Zg})),n.d(t,"ApplicationInitStatus",(function(){return Yg})),n.d(t,"ApplicationModule",(function(){return Vv})),n.d(t,"ApplicationRef",(function(){return tv})),n.d(t,"Attribute",(function(){return _})),n.d(t,"COMPILER_OPTIONS",(function(){return Cy})),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",(function(){return Jn})),n.d(t,"ChangeDetectionStrategy",(function(){return Oe})),n.d(t,"ChangeDetectorRef",(function(){return ys})),n.d(t,"Compiler",(function(){return Ey})),n.d(t,"CompilerFactory",(function(){return Sy})),n.d(t,"Component",(function(){return Pg})),n.d(t,"ComponentFactory",(function(){return dh})),n.d(t,"ComponentFactoryResolver",(function(){return gh})),n.d(t,"ComponentRef",(function(){return hh})),n.d(t,"ContentChild",(function(){return Ta})),n.d(t,"ContentChildren",(function(){return Aa})),n.d(t,"DEFAULT_CURRENCY_CODE",(function(){return uy})),n.d(t,"DebugElement",(function(){return Rv})),n.d(t,"DebugEventListener",(function(){return pv})),n.d(t,"DebugNode",(function(){return Mv})),n.d(t,"DefaultIterableDiffer",(function(){return Mh})),n.d(t,"Directive",(function(){return kg})),n.d(t,"ElementRef",(function(){return bh})),n.d(t,"EmbeddedViewRef",(function(){return fv})),n.d(t,"ErrorHandler",(function(){return Yn})),n.d(t,"EventEmitter",(function(){return Dm})),n.d(t,"Host",(function(){return w})),n.d(t,"HostBinding",(function(){return Bg})),n.d(t,"HostListener",(function(){return Ug})),n.d(t,"INJECTOR",(function(){return re})),n.d(t,"Inject",(function(){return g})),n.d(t,"InjectFlags",(function(){return x})),n.d(t,"Injectable",(function(){return js})),n.d(t,"InjectionToken",(function(){return ne})),n.d(t,"Injector",(function(){return na})),n.d(t,"Input",(function(){return jg})),n.d(t,"IterableDiffers",(function(){return Uh})),n.d(t,"KeyValueDiffers",(function(){return Vh})),n.d(t,"LOCALE_ID",(function(){return ay})),n.d(t,"MissingTranslationStrategy",(function(){return hy})),n.d(t,"ModuleWithComponentFactories",(function(){return py})),n.d(t,"NO_ERRORS_SCHEMA",(function(){return Xn})),n.d(t,"NgModule",(function(){return Qg})),n.d(t,"NgModuleFactory",(function(){return we})),n.d(t,"NgModuleFactoryLoader",(function(){return rv})),n.d(t,"NgModuleRef",(function(){return be})),n.d(t,"NgProbeToken",(function(){return Qy})),n.d(t,"NgZone",(function(){return Ty})),n.d(t,"Optional",(function(){return y})),n.d(t,"Output",(function(){return Lg})),n.d(t,"PACKAGE_ROOT_URL",(function(){return oy})),n.d(t,"PLATFORM_ID",(function(){return ry})),n.d(t,"PLATFORM_INITIALIZER",(function(){return ny})),n.d(t,"Pipe",(function(){return Fg})),n.d(t,"PlatformRef",(function(){return Xy})),n.d(t,"Query",(function(){return Na})),n.d(t,"QueryList",(function(){return Im})),n.d(t,"ReflectiveInjector",(function(){return Ea})),n.d(t,"ReflectiveKey",(function(){return aa})),n.d(t,"Renderer2",(function(){return Ch})),n.d(t,"RendererFactory2",(function(){return xh})),n.d(t,"RendererStyleFlags2",(function(){return Eh})),n.d(t,"ResolvedReflectiveFactory",(function(){return ma})),n.d(t,"Sanitizer",(function(){return Ah})),n.d(t,"SecurityContext",(function(){return Vr})),n.d(t,"Self",(function(){return v})),n.d(t,"SimpleChange",(function(){return Xl})),n.d(t,"SkipSelf",(function(){return b})),n.d(t,"SystemJsNgModuleLoader",(function(){return lv})),n.d(t,"SystemJsNgModuleLoaderConfig",(function(){return uv})),n.d(t,"TRANSLATIONS",(function(){return cy})),n.d(t,"TRANSLATIONS_FORMAT",(function(){return ly})),n.d(t,"TemplateRef",(function(){return $h})),n.d(t,"Testability",(function(){return Fy})),n.d(t,"TestabilityRegistry",(function(){return jy})),n.d(t,"Type",(function(){return ws})),n.d(t,"VERSION",(function(){return Dh})),n.d(t,"Version",(function(){return Th})),n.d(t,"ViewChild",(function(){return Oa})),n.d(t,"ViewChildren",(function(){return Da})),n.d(t,"ViewContainerRef",(function(){return Gh})),n.d(t,"ViewEncapsulation",(function(){return Re})),n.d(t,"ViewRef",(function(){return dv})),n.d(t,"WrappedValue",(function(){return qa})),n.d(t,"asNativeElements",(function(){return yv})),n.d(t,"assertPlatform",(function(){return Zy})),n.d(t,"createPlatform",(function(){return Gy})),n.d(t,"createPlatformFactory",(function(){return Ky})),n.d(t,"defineInjectable",(function(){return N})),n.d(t,"destroyPlatform",(function(){return Yy})),n.d(t,"enableProdMode",(function(){return yr})),n.d(t,"forwardRef",(function(){return B})),n.d(t,"getDebugNode",(function(){return Tv})),n.d(t,"getModuleFactory",(function(){return sv})),n.d(t,"getPlatform",(function(){return Jy})),n.d(t,"inject",(function(){return pe})),n.d(t,"isDevMode",(function(){return gr})),n.d(t,"platformCore",(function(){return kv})),n.d(t,"resolveForwardRef",(function(){return U})),n.d(t,"setTestabilityGetter",(function(){return By})),n.d(t,"\u0275ALLOW_MULTIPLE_PLATFORMS",(function(){return Wy})),n.d(t,"\u0275APP_ID_RANDOM_PROVIDER",(function(){return ey})),n.d(t,"\u0275ChangeDetectorStatus",(function(){return Ie})),n.d(t,"\u0275CodegenComponentFactoryResolver",(function(){return yh})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return _y})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return by})),n.d(t,"\u0275Compiler_compileModuleAsync__POST_R3__",(function(){return yy})),n.d(t,"\u0275Compiler_compileModuleSync__POST_R3__",(function(){return my})),n.d(t,"\u0275ComponentFactory",(function(){return dh})),n.d(t,"\u0275Console",(function(){return sy})),n.d(t,"\u0275DEFAULT_LOCALE_ID",(function(){return op})),n.d(t,"\u0275EMPTY_ARRAY",(function(){return Hd})),n.d(t,"\u0275EMPTY_MAP",(function(){return $d})),n.d(t,"\u0275INJECTOR_IMPL__POST_R3__",(function(){return ea})),n.d(t,"\u0275INJECTOR_SCOPE",(function(){return Us})),n.d(t,"\u0275LifecycleHooksFeature",(function(){return ql})),n.d(t,"\u0275LocaleDataIndex",(function(){return ip})),n.d(t,"\u0275NG_COMP_DEF",(function(){return K})),n.d(t,"\u0275NG_DIR_DEF",(function(){return Z})),n.d(t,"\u0275NG_ELEMENT_ID",(function(){return te})),n.d(t,"\u0275NG_INJ_DEF",(function(){return M})),n.d(t,"\u0275NG_MOD_DEF",(function(){return J})),n.d(t,"\u0275NG_PIPE_DEF",(function(){return Y})),n.d(t,"\u0275NG_PROV_DEF",(function(){return I})),n.d(t,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return jf})),n.d(t,"\u0275NO_CHANGE",(function(){return Si})),n.d(t,"\u0275NgModuleFactory",(function(){return im})),n.d(t,"\u0275NoopNgZone",(function(){return Py})),n.d(t,"\u0275ReflectionCapabilities",(function(){return Ns})),n.d(t,"\u0275Render3ComponentFactory",(function(){return Qf})),n.d(t,"\u0275Render3ComponentRef",(function(){return Gf})),n.d(t,"\u0275Render3NgModuleRef",(function(){return rm})),n.d(t,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return vs})),n.d(t,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return Vg})),n.d(t,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return qg})),n.d(t,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return Ls})),n.d(t,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return Gg})),n.d(t,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",(function(){return zg})),n.d(t,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return wh})),n.d(t,"\u0275SWITCH_IVY_ENABLED__POST_R3__",(function(){return dy})),n.d(t,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return Sh})),n.d(t,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return Wh})),n.d(t,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return Kh})),n.d(t,"\u0275_sanitizeHtml",(function(){return Br})),n.d(t,"\u0275_sanitizeStyle",(function(){return Hr})),n.d(t,"\u0275_sanitizeUrl",(function(){return _r})),n.d(t,"\u0275allowSanitizationBypassAndThrow",(function(){return ar})),n.d(t,"\u0275and",(function(){return qv})),n.d(t,"\u0275angular_packages_core_core_a",(function(){return V})),n.d(t,"\u0275angular_packages_core_core_b",(function(){return he})),n.d(t,"\u0275angular_packages_core_core_ba",(function(){return Tt})),n.d(t,"\u0275angular_packages_core_core_bb",(function(){return It})),n.d(t,"\u0275angular_packages_core_core_bc",(function(){return jt})),n.d(t,"\u0275angular_packages_core_core_bd",(function(){return Jt})),n.d(t,"\u0275angular_packages_core_core_bf",(function(){return gm})),n.d(t,"\u0275angular_packages_core_core_bg",(function(){return ym})),n.d(t,"\u0275angular_packages_core_core_bh",(function(){return vm})),n.d(t,"\u0275angular_packages_core_core_bi",(function(){return bm})),n.d(t,"\u0275angular_packages_core_core_bj",(function(){return wm})),n.d(t,"\u0275angular_packages_core_core_bk",(function(){return Zr})),n.d(t,"\u0275angular_packages_core_core_bl",(function(){return p})),n.d(t,"\u0275angular_packages_core_core_bm",(function(){return m})),n.d(t,"\u0275angular_packages_core_core_bn",(function(){return E})),n.d(t,"\u0275angular_packages_core_core_bp",(function(){return u})),n.d(t,"\u0275angular_packages_core_core_bq",(function(){return Ai})),n.d(t,"\u0275angular_packages_core_core_c",(function(){return ye})),n.d(t,"\u0275angular_packages_core_core_d",(function(){return Ca})),n.d(t,"\u0275angular_packages_core_core_e",(function(){return da})),n.d(t,"\u0275angular_packages_core_core_f",(function(){return va})),n.d(t,"\u0275angular_packages_core_core_g",(function(){return Xg})),n.d(t,"\u0275angular_packages_core_core_h",(function(){return fs})),n.d(t,"\u0275angular_packages_core_core_i",(function(){return ps})),n.d(t,"\u0275angular_packages_core_core_j",(function(){return iv})),n.d(t,"\u0275angular_packages_core_core_k",(function(){return mv})),n.d(t,"\u0275angular_packages_core_core_l",(function(){return gv})),n.d(t,"\u0275angular_packages_core_core_m",(function(){return Dv})),n.d(t,"\u0275angular_packages_core_core_n",(function(){return Oh})),n.d(t,"\u0275angular_packages_core_core_o",(function(){return jh})),n.d(t,"\u0275angular_packages_core_core_p",(function(){return Pv})),n.d(t,"\u0275angular_packages_core_core_q",(function(){return Fv})),n.d(t,"\u0275angular_packages_core_core_r",(function(){return jv})),n.d(t,"\u0275angular_packages_core_core_s",(function(){return Bv})),n.d(t,"\u0275angular_packages_core_core_t",(function(){return Uv})),n.d(t,"\u0275angular_packages_core_core_u",(function(){return sp})),n.d(t,"\u0275angular_packages_core_core_v",(function(){return Of})),n.d(t,"\u0275angular_packages_core_core_w",(function(){return ad})),n.d(t,"\u0275angular_packages_core_core_x",(function(){return Wf})),n.d(t,"\u0275angular_packages_core_core_y",(function(){return jn})),n.d(t,"\u0275angular_packages_core_core_z",(function(){return Ct})),n.d(t,"\u0275bypassSanitizationTrustHtml",(function(){return cr})),n.d(t,"\u0275bypassSanitizationTrustResourceUrl",(function(){return fr})),n.d(t,"\u0275bypassSanitizationTrustScript",(function(){return hr})),n.d(t,"\u0275bypassSanitizationTrustStyle",(function(){return lr})),n.d(t,"\u0275bypassSanitizationTrustUrl",(function(){return dr})),n.d(t,"\u0275ccf",(function(){return of})),n.d(t,"\u0275clearOverrides",(function(){return gw})),n.d(t,"\u0275clearResolutionOfComponentResourcesQueue",(function(){return Pa})),n.d(t,"\u0275cmf",(function(){return yw})),n.d(t,"\u0275compileComponent",(function(){return yg})),n.d(t,"\u0275compileDirective",(function(){return vg})),n.d(t,"\u0275compileNgModule",(function(){return ag})),n.d(t,"\u0275compileNgModuleDefs",(function(){return ug})),n.d(t,"\u0275compileNgModuleFactory__POST_R3__",(function(){return zy})),n.d(t,"\u0275compilePipe",(function(){return Mg})),n.d(t,"\u0275createInjector",(function(){return Ws})),n.d(t,"\u0275crt",(function(){return fd})),n.d(t,"\u0275defaultIterableDiffers",(function(){return zh})),n.d(t,"\u0275defaultKeyValueDiffers",(function(){return Hh})),n.d(t,"\u0275detectChanges",(function(){return gu})),n.d(t,"\u0275devModeEqual",(function(){return Va})),n.d(t,"\u0275did",(function(){return Af})),n.d(t,"\u0275eld",(function(){return zv})),n.d(t,"\u0275findLocaleData",(function(){return Xf})),n.d(t,"\u0275flushModuleScopingQueueAsMuchAsPossible",(function(){return og})),n.d(t,"\u0275getComponentViewDefinitionFactory",(function(){return sf})),n.d(t,"\u0275getDebugNodeR2",(function(){return Ov})),n.d(t,"\u0275getDebugNode__POST_R3__",(function(){return Av})),n.d(t,"\u0275getDirectives",(function(){return Tl})),n.d(t,"\u0275getHostElement",(function(){return Ol})),n.d(t,"\u0275getInjectableDef",(function(){return T})),n.d(t,"\u0275getLContext",(function(){return ii})),n.d(t,"\u0275getLocaleCurrencyCode",(function(){return ep})),n.d(t,"\u0275getLocalePluralCase",(function(){return tp})),n.d(t,"\u0275getModuleFactory__POST_R3__",(function(){return ov})),n.d(t,"\u0275getSanitizationBypassType",(function(){return ur})),n.d(t,"\u0275global",(function(){return W})),n.d(t,"\u0275initServicesIfNeeded",(function(){return Ib})),n.d(t,"\u0275inlineInterpolate",(function(){return qd})),n.d(t,"\u0275interpolate",(function(){return Vd})),n.d(t,"\u0275isBoundToModule__POST_R3__",(function(){return $y})),n.d(t,"\u0275isDefaultChangeDetectionStrategy",(function(){return Me})),n.d(t,"\u0275isListLikeIterable",(function(){return za})),n.d(t,"\u0275isObservable",(function(){return Bu})),n.d(t,"\u0275isPromise",(function(){return Lu})),n.d(t,"\u0275ivyEnabled",(function(){return fy})),n.d(t,"\u0275looseIdentical",(function(){return Ua})),n.d(t,"\u0275makeDecorator",(function(){return d})),n.d(t,"\u0275markDirty",(function(){return yu})),n.d(t,"\u0275mod",(function(){return Yd})),n.d(t,"\u0275mpd",(function(){return Zd})),n.d(t,"\u0275ncd",(function(){return Xv})),n.d(t,"\u0275nov",(function(){return yf})),n.d(t,"\u0275overrideComponentView",(function(){return mw})),n.d(t,"\u0275overrideProvider",(function(){return pw})),n.d(t,"\u0275pad",(function(){return nb})),n.d(t,"\u0275patchComponentDefWithScope",(function(){return fg})),n.d(t,"\u0275pid",(function(){return Tf})),n.d(t,"\u0275pod",(function(){return rb})),n.d(t,"\u0275ppd",(function(){return tb})),n.d(t,"\u0275prd",(function(){return Df})),n.d(t,"\u0275publishDefaultGlobalUtils",(function(){return Fl})),n.d(t,"\u0275publishGlobalUtil",(function(){return jl})),n.d(t,"\u0275qud",(function(){return Gv})),n.d(t,"\u0275registerLocaleData",(function(){return Jf})),n.d(t,"\u0275registerModuleFactory",(function(){return Xp})),n.d(t,"\u0275registerNgModuleType",(function(){return tm})),n.d(t,"\u0275renderComponent",(function(){return Ll})),n.d(t,"\u0275resetCompiledComponents",(function(){return hg})),n.d(t,"\u0275resetJitOptions",(function(){return tg})),n.d(t,"\u0275resolveComponentResources",(function(){return Ia})),n.d(t,"\u0275setClassMetadata",(function(){return Yp})),n.d(t,"\u0275setCurrentInjector",(function(){return ce})),n.d(t,"\u0275setDocument",(function(){return st})),n.d(t,"\u0275setLocaleId",(function(){return Zp})),n.d(t,"\u0275store",(function(){return xu})),n.d(t,"\u0275stringify",(function(){return F})),n.d(t,"\u0275ted",(function(){return ob})),n.d(t,"\u0275transitiveScopesFor",(function(){return pg})),n.d(t,"\u0275unregisterLocaleData",(function(){return rp})),n.d(t,"\u0275unv",(function(){return dd})),n.d(t,"\u0275unwrapSafeValue",(function(){return sr})),n.d(t,"\u0275vid",(function(){return ub})),n.d(t,"\u0275whenRendered",(function(){return zl})),n.d(t,"\u0275\u0275CopyDefinitionFeature",(function(){return Jl})),n.d(t,"\u0275\u0275InheritDefinitionFeature",(function(){return $l})),n.d(t,"\u0275\u0275NgOnChangesFeature",(function(){return eh})),n.d(t,"\u0275\u0275ProvidersFeature",(function(){return lh})),n.d(t,"\u0275\u0275advance",(function(){return Ti})),n.d(t,"\u0275\u0275attribute",(function(){return Ya})),n.d(t,"\u0275\u0275attributeInterpolate1",(function(){return au})),n.d(t,"\u0275\u0275attributeInterpolate2",(function(){return uu})),n.d(t,"\u0275\u0275attributeInterpolate3",(function(){return cu})),n.d(t,"\u0275\u0275attributeInterpolate4",(function(){return lu})),n.d(t,"\u0275\u0275attributeInterpolate5",(function(){return hu})),n.d(t,"\u0275\u0275attributeInterpolate6",(function(){return du})),n.d(t,"\u0275\u0275attributeInterpolate7",(function(){return fu})),n.d(t,"\u0275\u0275attributeInterpolate8",(function(){return pu})),n.d(t,"\u0275\u0275attributeInterpolateV",(function(){return mu})),n.d(t,"\u0275\u0275classMap",(function(){return Cc})),n.d(t,"\u0275\u0275classMapInterpolate1",(function(){return Gc})),n.d(t,"\u0275\u0275classMapInterpolate2",(function(){return Kc})),n.d(t,"\u0275\u0275classMapInterpolate3",(function(){return Zc})),n.d(t,"\u0275\u0275classMapInterpolate4",(function(){return Yc})),n.d(t,"\u0275\u0275classMapInterpolate5",(function(){return Jc})),n.d(t,"\u0275\u0275classMapInterpolate6",(function(){return Xc})),n.d(t,"\u0275\u0275classMapInterpolate7",(function(){return el})),n.d(t,"\u0275\u0275classMapInterpolate8",(function(){return tl})),n.d(t,"\u0275\u0275classMapInterpolateV",(function(){return nl})),n.d(t,"\u0275\u0275classProp",(function(){return _c})),n.d(t,"\u0275\u0275componentHostSyntheticListener",(function(){return Vu})),n.d(t,"\u0275\u0275container",(function(){return vu})),n.d(t,"\u0275\u0275containerRefreshEnd",(function(){return _u})),n.d(t,"\u0275\u0275containerRefreshStart",(function(){return wu})),n.d(t,"\u0275\u0275contentQuery",(function(){return Hm})),n.d(t,"\u0275\u0275defaultStyleSanitizer",(function(){return Jr})),n.d(t,"\u0275\u0275defineComponent",(function(){return je})),n.d(t,"\u0275\u0275defineDirective",(function(){return $e})),n.d(t,"\u0275\u0275defineInjectable",(function(){return S})),n.d(t,"\u0275\u0275defineInjector",(function(){return A})),n.d(t,"\u0275\u0275defineNgModule",(function(){return qe})),n.d(t,"\u0275\u0275definePipe",(function(){return We})),n.d(t,"\u0275\u0275directiveInject",(function(){return Cu})),n.d(t,"\u0275\u0275disableBindings",(function(){return At})),n.d(t,"\u0275\u0275element",(function(){return Iu})),n.d(t,"\u0275\u0275elementContainer",(function(){return ku})),n.d(t,"\u0275\u0275elementContainerEnd",(function(){return Ru})),n.d(t,"\u0275\u0275elementContainerStart",(function(){return Mu})),n.d(t,"\u0275\u0275elementEnd",(function(){return Ou})),n.d(t,"\u0275\u0275elementStart",(function(){return Du})),n.d(t,"\u0275\u0275embeddedViewEnd",(function(){return Fu})),n.d(t,"\u0275\u0275embeddedViewStart",(function(){return Pu})),n.d(t,"\u0275\u0275enableBindings",(function(){return Nt})),n.d(t,"\u0275\u0275getCurrentView",(function(){return ju})),n.d(t,"\u0275\u0275getFactoryOf",(function(){return Wn})),n.d(t,"\u0275\u0275getInheritedFactory",(function(){return Qn})),n.d(t,"\u0275\u0275hostProperty",(function(){return _l})),n.d(t,"\u0275\u0275i18n",(function(){return Lp})),n.d(t,"\u0275\u0275i18nApply",(function(){return zp})),n.d(t,"\u0275\u0275i18nAttributes",(function(){return Bp})),n.d(t,"\u0275\u0275i18nEnd",(function(){return kp})),n.d(t,"\u0275\u0275i18nExp",(function(){return qp})),n.d(t,"\u0275\u0275i18nPostprocess",(function(){return Rp})),n.d(t,"\u0275\u0275i18nStart",(function(){return Tp})),n.d(t,"\u0275\u0275inject",(function(){return de})),n.d(t,"\u0275\u0275injectAttribute",(function(){return Su})),n.d(t,"\u0275\u0275injectPipeChangeDetectorRef",(function(){return Jm})),n.d(t,"\u0275\u0275invalidFactory",(function(){return Nu})),n.d(t,"\u0275\u0275invalidFactoryDep",(function(){return fe})),n.d(t,"\u0275\u0275listener",(function(){return Uu})),n.d(t,"\u0275\u0275loadQuery",(function(){return Qm})),n.d(t,"\u0275\u0275namespaceHTML",(function(){return on})),n.d(t,"\u0275\u0275namespaceMathML",(function(){return rn})),n.d(t,"\u0275\u0275namespaceSVG",(function(){return nn})),n.d(t,"\u0275\u0275nextContext",(function(){return $u})),n.d(t,"\u0275\u0275pipe",(function(){return _m})),n.d(t,"\u0275\u0275pipeBind1",(function(){return xm})),n.d(t,"\u0275\u0275pipeBind2",(function(){return Em})),n.d(t,"\u0275\u0275pipeBind3",(function(){return Cm})),n.d(t,"\u0275\u0275pipeBind4",(function(){return Sm})),n.d(t,"\u0275\u0275pipeBindV",(function(){return Nm})),n.d(t,"\u0275\u0275projection",(function(){return Zu})),n.d(t,"\u0275\u0275projectionDef",(function(){return Qu})),n.d(t,"\u0275\u0275property",(function(){return Au})),n.d(t,"\u0275\u0275propertyInterpolate",(function(){return Yu})),n.d(t,"\u0275\u0275propertyInterpolate1",(function(){return Ju})),n.d(t,"\u0275\u0275propertyInterpolate2",(function(){return Xu})),n.d(t,"\u0275\u0275propertyInterpolate3",(function(){return ec})),n.d(t,"\u0275\u0275propertyInterpolate4",(function(){return tc})),n.d(t,"\u0275\u0275propertyInterpolate5",(function(){return nc})),n.d(t,"\u0275\u0275propertyInterpolate6",(function(){return rc})),n.d(t,"\u0275\u0275propertyInterpolate7",(function(){return ic})),n.d(t,"\u0275\u0275propertyInterpolate8",(function(){return oc})),n.d(t,"\u0275\u0275propertyInterpolateV",(function(){return sc})),n.d(t,"\u0275\u0275pureFunction0",(function(){return om})),n.d(t,"\u0275\u0275pureFunction1",(function(){return sm})),n.d(t,"\u0275\u0275pureFunction2",(function(){return am})),n.d(t,"\u0275\u0275pureFunction3",(function(){return um})),n.d(t,"\u0275\u0275pureFunction4",(function(){return cm})),n.d(t,"\u0275\u0275pureFunction5",(function(){return lm})),n.d(t,"\u0275\u0275pureFunction6",(function(){return hm})),n.d(t,"\u0275\u0275pureFunction7",(function(){return dm})),n.d(t,"\u0275\u0275pureFunction8",(function(){return fm})),n.d(t,"\u0275\u0275pureFunctionV",(function(){return pm})),n.d(t,"\u0275\u0275queryRefresh",(function(){return Um})),n.d(t,"\u0275\u0275reference",(function(){return Eu})),n.d(t,"\u0275\u0275resolveBody",(function(){return An})),n.d(t,"\u0275\u0275resolveDocument",(function(){return Nn})),n.d(t,"\u0275\u0275resolveWindow",(function(){return Sn})),n.d(t,"\u0275\u0275restoreView",(function(){return Ot})),n.d(t,"\u0275\u0275sanitizeHtml",(function(){return $r})),n.d(t,"\u0275\u0275sanitizeResourceUrl",(function(){return Gr})),n.d(t,"\u0275\u0275sanitizeScript",(function(){return Kr})),n.d(t,"\u0275\u0275sanitizeStyle",(function(){return Wr})),n.d(t,"\u0275\u0275sanitizeUrl",(function(){return Qr})),n.d(t,"\u0275\u0275sanitizeUrlOrResourceUrl",(function(){return Yr})),n.d(t,"\u0275\u0275select",(function(){return Di})),n.d(t,"\u0275\u0275setComponentScope",(function(){return Le})),n.d(t,"\u0275\u0275setNgModuleScope",(function(){return ze})),n.d(t,"\u0275\u0275staticContentQuery",(function(){return $m})),n.d(t,"\u0275\u0275staticViewQuery",(function(){return Vm})),n.d(t,"\u0275\u0275styleMap",(function(){return xc})),n.d(t,"\u0275\u0275styleMapInterpolate1",(function(){return rl})),n.d(t,"\u0275\u0275styleMapInterpolate2",(function(){return il})),n.d(t,"\u0275\u0275styleMapInterpolate3",(function(){return ol})),n.d(t,"\u0275\u0275styleMapInterpolate4",(function(){return sl})),n.d(t,"\u0275\u0275styleMapInterpolate5",(function(){return al})),n.d(t,"\u0275\u0275styleMapInterpolate6",(function(){return ul})),n.d(t,"\u0275\u0275styleMapInterpolate7",(function(){return cl})),n.d(t,"\u0275\u0275styleMapInterpolate8",(function(){return ll})),n.d(t,"\u0275\u0275styleMapInterpolateV",(function(){return hl})),n.d(t,"\u0275\u0275styleProp",(function(){return wc})),n.d(t,"\u0275\u0275stylePropInterpolate1",(function(){return dl})),n.d(t,"\u0275\u0275stylePropInterpolate2",(function(){return fl})),n.d(t,"\u0275\u0275stylePropInterpolate3",(function(){return pl})),n.d(t,"\u0275\u0275stylePropInterpolate4",(function(){return ml})),n.d(t,"\u0275\u0275stylePropInterpolate5",(function(){return gl})),n.d(t,"\u0275\u0275stylePropInterpolate6",(function(){return yl})),n.d(t,"\u0275\u0275stylePropInterpolate7",(function(){return vl})),n.d(t,"\u0275\u0275stylePropInterpolate8",(function(){return bl})),n.d(t,"\u0275\u0275stylePropInterpolateV",(function(){return wl})),n.d(t,"\u0275\u0275styleSanitizer",(function(){return bc})),n.d(t,"\u0275\u0275template",(function(){return bu})),n.d(t,"\u0275\u0275templateRefExtractor",(function(){return Ym})),n.d(t,"\u0275\u0275text",(function(){return jc})),n.d(t,"\u0275\u0275textInterpolate",(function(){return Lc})),n.d(t,"\u0275\u0275textInterpolate1",(function(){return Bc})),n.d(t,"\u0275\u0275textInterpolate2",(function(){return Uc})),n.d(t,"\u0275\u0275textInterpolate3",(function(){return Vc})),n.d(t,"\u0275\u0275textInterpolate4",(function(){return qc})),n.d(t,"\u0275\u0275textInterpolate5",(function(){return zc})),n.d(t,"\u0275\u0275textInterpolate6",(function(){return Hc})),n.d(t,"\u0275\u0275textInterpolate7",(function(){return $c})),n.d(t,"\u0275\u0275textInterpolate8",(function(){return Wc})),n.d(t,"\u0275\u0275textInterpolateV",(function(){return Qc})),n.d(t,"\u0275\u0275updateSyntheticHostBinding",(function(){return xl})),n.d(t,"\u0275\u0275viewQuery",(function(){return qm}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(e){return{toString:e}.toString()}const c="__annotations__",l="__parameters__",h="__prop__metadata__";function d(e,t,n,r,i){return u(()=>{const o=f(t);function s(...e){if(this instanceof s)return o.call(this,...e),this;const t=new s(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(c)?n[c]:Object.defineProperty(n,c,{value:[]})[c]).push(t),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function f(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function p(e,t,n){return u(()=>{const r=f(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(l)?e[l]:Object.defineProperty(e,l,{value:[]})[l];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function m(e,t,n,r){return u(()=>{const i=f(t);function o(...e){if(this instanceof o)return i.apply(this,e),this;const t=new o(...e);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(h)?o[h]:Object.defineProperty(o,h,{value:{}})[h];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(t),r&&r(n,i,...e)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const g=p("Inject",e=>({token:e})),y=p("Optional"),v=p("Self"),b=p("SkipSelf"),w=p("Host"),_=p("Attribute",e=>({attributeName:e}));var x=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function E(e){for(let t in e)if(e[t]===E)return t;throw Error("Could not find renamed property on target object.")}function C(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const N=S;function A(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function T(e){return D(e,e[I])||D(e,e[k])}function D(e,t){return t&&t.token===e?t:null}function O(e){return e&&(e.hasOwnProperty(M)||e.hasOwnProperty(P))?e[M]:null}const I=E({"\u0275prov":E}),M=E({"\u0275inj":E}),R=E({"\u0275provFallback":E}),k=E({ngInjectableDef:E}),P=E({ngInjectorDef:E});function F(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(F).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function j(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const L=E({__forward_ref__:E});function B(e){return e.__forward_ref__=B,e.toString=function(){return F(this())},e}function U(e){return V(e)?e():e}function V(e){return"function"==typeof e&&e.hasOwnProperty(L)&&e.__forward_ref__===B}const q="undefined"!=typeof globalThis&&globalThis,z="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,W=q||$||z||H;var Q=function(e){return e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid",e}({});function G(){const e=W.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const K=E({"\u0275cmp":E}),Z=E({"\u0275dir":E}),Y=E({"\u0275pipe":E}),J=E({"\u0275mod":E}),X=E({"\u0275loc":E}),ee=E({"\u0275fac":E}),te=E({__NG_ELEMENT_ID__:E});class ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const re=new ne("INJECTOR",-1),ie={},oe=/\n/gm,se=E({provide:String,useValue:E});let ae,ue=void 0;function ce(e){const t=ue;return ue=e,t}function le(e){const t=ae;return ae=e,t}function he(e,t=x.Default){if(void 0===ue)throw new Error("inject() must be called from an injection context");return null===ue?me(e,void 0,t):ue.get(e,t&x.Optional?null:void 0,t)}function de(e,t=x.Default){return(ae||he)(U(e),t)}function fe(e){throw new Error("invalid")}const pe=de;function me(e,t,n){const r=T(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&x.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${F(e)}]`)}function ge(e){const t=[];for(let n=0;n<e.length;n++){const r=U(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=x.Default;for(let t=0;t<r.length;t++){const i=r[t];i instanceof y||"Optional"===i.ngMetadataName||i===y?n|=x.Optional:i instanceof b||"SkipSelf"===i.ngMetadataName||i===b?n|=x.SkipSelf:i instanceof v||"Self"===i.ngMetadataName||i===v?n|=x.Self:e=i instanceof g||i===g?i.token:i}t.push(de(e,n))}else t.push(de(r))}return t}class ye{get(e,t=ie){if(t===ie){const t=new Error(`NullInjectorError: No provider for ${F(e)}!`);throw t.name="NullInjectorError",t}return t}}const ve={"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":A,"\u0275\u0275inject":de,"\u0275\u0275getFactoryOf":function e(t){const n=t;if(V(t))return()=>{const t=e(U(n));return t?t():null};const r=T(n)||O(n);return r&&void 0!==r.factory?r.factory:null},"\u0275\u0275invalidFactoryDep":fe};class be{}class we{}function _e(e,t){for(let n=0;n<e.length;n++)t.push(e[n])}function xe(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),xe(r,t)):t!==e&&t.push(r)}return t}function Ee(e,t){e.forEach(e=>Array.isArray(e)?Ee(e,t):t(e))}function Ce(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Se(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ne(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Ae(e,t,n){let r=De(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Te(e,t){const n=De(e,t);if(n>=0)return e[1|n]}function De(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=e[n<<1];if(t===o)return n<<1;o>t?i=n:r=n+1}return~(i<<1)}(e,t)}const Oe=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Ie=function(){var e={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return e[e.CheckOnce]="CheckOnce",e[e.Checked]="Checked",e[e.CheckAlways]="CheckAlways",e[e.Detached]="Detached",e[e.Errored]="Errored",e[e.Destroyed]="Destroyed",e}();function Me(e){return null==e||e===Oe.Default}const Re=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),ke={},Pe=[];let Fe=0;function je(e){return u(()=>{const t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Pe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Re.Emulated,id:"c",styles:e.styles||Pe,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,s=e.features,a=e.pipes;return i.id+=Fe++,i.inputs=He(e.inputs,r),i.outputs=He(e.outputs),s&&s.forEach(e=>e(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Be):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Ue):null,i})}function Le(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(Be),r.pipeDefs=()=>n.map(Ue)}function Be(e){return Qe(e)||Ge(e)}function Ue(e){return Ke(e)}const Ve={};function qe(e){const t={type:e.type,bootstrap:e.bootstrap||Pe,declarations:e.declarations||Pe,imports:e.imports||Pe,exports:e.exports||Pe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&u(()=>{Ve[e.id]=e.type}),t}function ze(e,t){return u(()=>{const n=Ye(e,!0);n.declarations=t.declarations||Pe,n.imports=t.imports||Pe,n.exports=t.exports||Pe})}function He(e,t){if(null==e)return ke;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const $e=je;function We(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Qe(e){return e[K]||null}function Ge(e){return e[Z]||null}function Ke(e){return e[Y]||null}function Ze(e,t){return e.hasOwnProperty(ee)?e[ee]:null}function Ye(e,t){const n=e[J]||null;if(!n&&!0===t)throw new Error(`Type ${F(e)} does not have '\u0275mod' property.`);return n}function Je(e){return Array.isArray(e)&&"object"==typeof e[1]}function Xe(e){return Array.isArray(e)&&!0===e[1]}function et(e){return 0!=(8&e.flags)}function tt(e){return 2==(2&e.flags)}function nt(e){return 1==(1&e.flags)}function rt(e){return null!==e.template}function it(e){return 0!=(512&e[2])}let ot=void 0;function st(e){ot=e}function at(){return void 0!==ot?ot:"undefined"!=typeof document?document:void 0}function ut(e){return!!e.listen}const ct={createRenderer:(e,t)=>at()};function lt(e){for(;Array.isArray(e);)e=e[0];return e}function ht(e,t){return lt(t[e+19])}function dt(e,t){return lt(t[e.index])}function ft(e,t){const n=e.index;return-1!==n?lt(t[n]):null}function pt(e,t){return e.data[t+19]}function mt(e,t){return e[t+19]}function gt(e,t){const n=t[e];return Je(n)?n:n[0]}function yt(e){return e.__ngContext__||null}function vt(e){const t=yt(e);return t?Array.isArray(t)?t:t.lView:null}function bt(e){return 4==(4&e[2])}function wt(e){return 128==(128&e[2])}function _t(e,t){return null===e||null==t?null:e[t]}function xt(e){e[18]=0}function Et(e){return e[2]>>1}const Ct={lFrame:Gt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function St(){return Ct.bindingsEnabled}function Nt(){Ct.bindingsEnabled=!0}function At(){Ct.bindingsEnabled=!1}function Tt(){return Ct.lFrame.lView}function Dt(){return Ct.lFrame.tView}function Ot(e){Ct.lFrame.contextLView=e}function It(){return Ct.lFrame.previousOrParentTNode}function Mt(e,t){Ct.lFrame.previousOrParentTNode=e,Ct.lFrame.isParent=t}function Rt(){return Ct.lFrame.isParent}function kt(){Ct.lFrame.isParent=!1}function Pt(){return Ct.checkNoChangesMode}function Ft(e){Ct.checkNoChangesMode=e}function jt(){const e=Ct.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Lt(){return Ct.lFrame.bindingIndex}function Bt(e){return Ct.lFrame.bindingIndex=e}function Ut(){return Ct.lFrame.bindingIndex++}function Vt(e){const t=Ct.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function qt(e,t){const n=Ct.lFrame;n.bindingIndex=n.bindingRootIndex=e,n.currentDirectiveIndex=t}function zt(){return Ct.lFrame.currentQueryIndex}function Ht(e){Ct.lFrame.currentQueryIndex=e}function $t(e,t){const n=Qt();Ct.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Wt(e,t){const n=Qt(),r=e[1];Ct.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function Qt(){const e=Ct.lFrame,t=null===e?null:e.child;return null===t?Gt(e):t}function Gt(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Kt(){const e=Ct.lFrame;return Ct.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const Zt=Kt;function Yt(){const e=Kt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Jt(e){return(Ct.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ct.lFrame.contextLView))[8]}function Xt(){return Ct.lFrame.selectedIndex}function en(e){Ct.lFrame.selectedIndex=e}function tn(){const e=Ct.lFrame;return pt(e.tView,e.selectedIndex)}function nn(){Ct.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function rn(){Ct.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function on(){Ct.lFrame.currentNamespace=null}function sn(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}}function an(e,t,n){ln(e,t,3,n)}function un(e,t,n,r){(3&e[2])===n&&ln(e,t,n,r)}function cn(e,t){let n=e[2];(3&n)===t&&(n&=1023,n+=1,e[2]=n)}function ln(e,t,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(hn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function hn(e,t,n,r){const i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];i?e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,o.call(s)):o.call(s)}class dn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function fn(e,t,n){const r=ut(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];mn(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function pn(e){return 3===e||4===e||6===e}function mn(e){return 64===e.charCodeAt(0)}function gn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||yn(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function yn(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const n=e[o++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function vn(e){return-1!==e}function bn(e){return 32767&e}function wn(e){return e>>16}function _n(e,t){let n=wn(e),r=t;for(;n>0;)r=r[15],n--;return r}function xn(e){return"string"==typeof e?e:null==e?"":""+e}function En(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():xn(e)}const Cn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W))();function Sn(e){return{name:"window",target:e.ownerDocument.defaultView}}function Nn(e){return{name:"document",target:e.ownerDocument}}function An(e){return{name:"body",target:e.ownerDocument.body}}function Tn(e){return e instanceof Function?e():e}let Dn=!0;function On(e){const t=Dn;return Dn=e,t}let In=0;function Mn(e,t){const n=kn(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Rn(r.data,e),Rn(t,null),Rn(r.blueprint,null));const i=Pn(e,t),o=e.injectorIndex;if(vn(i)){const e=bn(i),n=_n(i,t),r=n[1].data;for(let i=0;i<8;i++)t[o+i]=n[e+i]|r[e+i]}return t[o+8]=i,o}function Rn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function kn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Pn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[6],r=1;for(;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Fn(e,t,n){!function(e,t,n){let r="string"!=typeof n?n[te]:n.charCodeAt(0)||0;null==r&&(r=n[te]=In++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=t.data;128&i?s?a?u[e+7]|=o:u[e+6]|=o:a?u[e+5]|=o:u[e+4]|=o:s?a?u[e+3]|=o:u[e+2]|=o:a?u[e+1]|=o:u[e]|=o}(e,t,n)}function jn(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(pn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}function Ln(e,t,n,r=x.Default,i){if(null!==e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[te];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof i){$t(t,e);try{const e=i();if(null!=e||r&x.Optional)return e;throw new Error(`No provider for ${En(n)}!`)}finally{Zt()}}else if("number"==typeof i){if(-1===i)return new $n(e,t);let o=null,s=kn(e,t),a=-1,u=r&x.Host?t[16][6]:null;for((-1===s||r&x.SkipSelf)&&(a=-1===s?Pn(e,t):t[s+8],Hn(r,!1)?(o=t[1],s=bn(a),t=_n(a,t)):s=-1);-1!==s;){a=t[s+8];const e=t[1];if(zn(i,s,e.data)){const e=Un(s,t,n,o,r,u);if(e!==Bn)return e}Hn(r,t[1].data[s+8]===u)&&zn(i,s,t)?(o=e,s=bn(a),t=_n(a,t)):s=-1}}}if(r&x.Optional&&void 0===i&&(i=null),0==(r&(x.Self|x.Host))){const e=t[9],o=le(void 0);try{return e?e.get(n,i,r&x.Optional):me(n,i,r&x.Optional)}finally{le(o)}}if(r&x.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${En(n)}]`)}const Bn={};function Un(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],u=Vn(a,s,n,null==r?tt(a)&&Dn:r!=s&&3===a.type,i&x.Host&&o===a);return null!==u?qn(t,s,u,a):Bn}function Vn(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=65535&o,u=e.directiveStart,c=o>>16,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=s[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=s[u];if(e&&rt(e)&&e.type===n)return u}return null}function qn(e,t,n,r){let i=e[n];const o=t.data;if(i instanceof dn){const s=i;if(s.resolving)throw new Error("Circular dep for "+En(o[n]));const a=On(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=le(s.injectImpl)),$t(e,r);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{onChanges:r,onInit:i,doCheck:o}=t;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&le(u),On(a),s.resolving=!1,Zt()}}return i}function zn(e,t,n){const r=64&e,i=32&e;let o;return o=128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t],!!(o&1<<e)}function Hn(e,t){return!(e&x.Self||e&x.Host&&t)}class $n{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Ln(this._tNode,this._lView,e,void 0,t)}}function Wn(e){const t=e;if(V(e))return()=>{const e=Wn(U(t));return e?e():null};let n=Ze(t);if(null===n){const e=O(t);n=e&&e.factory}return n||null}function Qn(e){return u(()=>{const t=Object.getPrototypeOf(e.prototype).constructor,n=t[ee]||Wn(t);return null!==n?n:e=>new e})}function Gn(e){return e.ngDebugContext}function Kn(e){return e.ngOriginalError}function Zn(e,...t){e.error(...t)}class Yn{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Zn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Gn(e)?Gn(e):this._findContext(Kn(e)):null}_findOriginalError(e){let t=Kn(e);for(;t&&Kn(t);)t=Kn(t);return t}}const Jn={name:"custom-elements"},Xn={name:"no-errors-schema"};class er{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class tr extends er{getTypeName(){return"HTML"}}class nr extends er{getTypeName(){return"Style"}}class rr extends er{getTypeName(){return"Script"}}class ir extends er{getTypeName(){return"URL"}}class or extends er{getTypeName(){return"ResourceURL"}}function sr(e){return e instanceof er?e.changingThisBreaksApplicationSecurity:e}function ar(e,t){const n=ur(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function ur(e){return e instanceof er&&e.getTypeName()||null}function cr(e){return new tr(e)}function lr(e){return new nr(e)}function hr(e){return new rr(e)}function dr(e){return new ir(e)}function fr(e){return new or(e)}let pr=!0,mr=!1;function gr(){return mr=!0,pr}function yr(){if(mr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1}class vr{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let t=this.inertDocument.body;if(null==t){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),t=this.inertDocument.createElement("body"),e.appendChild(t)}t.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!t.querySelector||t.querySelector("svg")?(t.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=t.querySelector&&t.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const br=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,wr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _r(e){return(e=String(e)).match(br)||e.match(wr)?e:(gr()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function xr(e){return(e=String(e)).split(",").map(e=>_r(e.trim())).join(", ")}function Er(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Cr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Sr=Er("area,br,col,hr,img,wbr"),Nr=Er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ar=Er("rp,rt"),Tr=Cr(Ar,Nr),Dr=Cr(Sr,Cr(Nr,Er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cr(Ar,Er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tr),Or=Er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ir=Er("srcset"),Mr=Cr(Or,Ir,Er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rr=Er("script,style,template");class kr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Dr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Rr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Mr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;Or[i]&&(o=_r(o)),Ir[i]&&(o=xr(o)),this.buf.push(" ",t,'="',jr(o),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Dr.hasOwnProperty(t)&&!Sr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(jr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fr=/([^\#-~ |!])/g;function jr(e){return e.replace(/&/g,"&amp;").replace(Pr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Fr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lr;function Br(e,t){let n=null;try{Lr=Lr||new vr(e);let r=t?String(t):"";n=Lr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Lr.getInertBodyElement(r)}while(r!==o);const s=new kr,a=s.sanitizeChildren(Ur(n)||n);return gr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Ur(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ur(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Vr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),qr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),zr=/^url\(([^)]+)\)$/;function Hr(e){if(!(e=String(e).trim()))return"";const t=e.match(zr);return t&&_r(t[1])===t[1]||e.match(qr)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(gr()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}function $r(e){const t=ei();return t?t.sanitize(Vr.HTML,e)||"":ar(e,"HTML")?sr(e):Br(at(),xn(e))}function Wr(e){const t=ei();return t?t.sanitize(Vr.STYLE,e)||"":ar(e,"Style")?sr(e):Hr(xn(e))}function Qr(e){const t=ei();return t?t.sanitize(Vr.URL,e)||"":ar(e,"URL")?sr(e):_r(xn(e))}function Gr(e){const t=ei();if(t)return t.sanitize(Vr.RESOURCE_URL,e)||"";if(ar(e,"ResourceURL"))return sr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Kr(e){const t=ei();if(t)return t.sanitize(Vr.SCRIPT,e)||"";if(ar(e,"Script"))return sr(e);throw new Error("unsafe value used in a script context")}function Zr(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Gr:Qr}function Yr(e,t,n){return Zr(t,n)(e)}const Jr=function(e,t,n){if(void 0===t&&void 0===n)return Wr(e);let r=!0;return 1&(n=n||3)&&(r=Xr(e)),2&n?r?Wr(t):sr(t):r};function Xr(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"border-image-source"===e||"borderImageSource"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}function ei(){const e=Tt();return e&&e[12]}function ti(e){return"ng-reflect-"+e.replace(/[$@]/g,"_").replace(ni,(...e)=>"-"+e[1].toLowerCase())}const ni=/([A-Z])/g;function ri(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ii(e){let t=yt(e);if(t){if(Array.isArray(t)){const r=t;let i,o=void 0,s=void 0;if((n=e)&&n.constructor&&n.constructor.\u0275cmp){if(i=li(r,e),-1==i)throw new Error("The provided component was not found in the application");o=e}else if(function(e){return e&&e.constructor&&e.constructor.\u0275dir}(e)){if(i=function(e,t){let n=e[1].firstChild;for(;n;){const r=n.directiveEnd;for(let i=n.directiveStart;i<r;i++)if(e[i]===t)return n.index;n=ci(n)}return-1}(r,e),-1==i)throw new Error("The provided directive was not found in the application");s=hi(i,r,!1)}else if(i=ui(r,e),-1==i)return null;const a=lt(r[i]),u=yt(a),c=u&&!Array.isArray(u)?u:oi(r,i,a);if(o&&void 0===c.component&&(c.component=o,ai(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let e=0;e<s.length;e++)ai(s[e],c)}ai(c.native,c),t=c}}else{const n=e;let r=n;for(;r=r.parentNode;){const e=yt(r);if(e){let r;if(r=Array.isArray(e)?e:e.lView,!r)return null;const i=ui(r,n);if(i>=0){const e=lt(r[i]),n=oi(r,i,e);ai(e,n),t=n;break}}}}var n;return t||null}function oi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function si(e){let t,n=yt(e);if(Array.isArray(n)){const r=li(n,e);t=gt(r,n);const i=oi(n,r,t[0]);i.component=e,ai(e,i),ai(i.native,i)}else t=gt(n.nodeIndex,n.lView);return t}function ai(e,t){e.__ngContext__=t}function ui(e,t){let n=e[1].firstChild;for(;n;){if(ft(n,e)===t)return n.index;n=ci(n)}return-1}function ci(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function li(e,t){const n=e[1].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(gt(i,e)[8]===t)return i}else if(gt(19,e)[8]===t)return 19;return-1}function hi(e,t,n){const r=t[1].data[e];let i=r.directiveStart;return 0==i?Pe:(!n&&2&r.flags&&i++,t.slice(i,r.directiveEnd))}function di(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function fi(){throw new Error("Cannot mix multi providers and regular providers")}function pi(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}function mi(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==pi(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function gi(e){return 0===e.type&&"ng-template"!==e.tagName}function yi(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function vi(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(pn(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!yi(e,u,n)||""===u&&1===t.length){if(bi(r))return!1;s=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!mi(e.attrs,c,n)){if(bi(r))return!1;s=!0}continue}const l=wi(8&r?"class":u,i,gi(e),n);if(-1===l){if(bi(r))return!1;s=!0;continue}if(""!==c){let e;e=l>o?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==pi(t,c,0)||2&r&&c!==e){if(bi(r))return!1;s=!0}}}}else{if(!s&&!bi(r)&&!bi(u))return!1;if(s&&bi(u))continue;s=!1,r=u|1&r}}return bi(r)||s}function bi(e){return 0==(1&e)}function wi(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function _i(e,t,n=!1){for(let r=0;r<t.length;r++)if(vi(e,t[r],n))return!0;return!1}function xi(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function Ei(e,t){return e?":not("+t.trim()+")":t}function Ci(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const t=e[++n];i+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||bi(s)||(t+=Ei(o,i),i=""),r=s,o=o||!bi(r);n++}return""!==i&&(t+=Ei(o,i)),t}const Si={};function Ni(e){const t=e[3];return Xe(t)?t[3]:t}function Ai(e){return function(e){let t=Je(e)?e:vt(e);for(;t&&!(512&t[2]);)t=Ni(t);return t}(e)[8]}function Ti(e){Oi(Dt(),Tt(),Xt()+e,Pt())}function Di(e){Oi(Dt(),Tt(),e,Pt())}function Oi(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&an(t,r,n)}else{const r=e.preOrderHooks;null!==r&&un(t,r,0,n)}en(n)}const Ii={marker:"element"},Mi={marker:"comment"};function Ri(e,t){return e<<17|t<<2}function ki(e){return e>>17&32767}function Pi(e){return 2|e}function Fi(e){return(131068&e)>>2}function ji(e,t){return-131069&e|t<<2}function Li(e){return 1|e}const Bi=(()=>Promise.resolve(null))();function Ui(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=e.data[o];Ht(i),n.contentQueries(2,t[o],o)}}}function Vi(e,t,n){return ut(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function qi(e,t,n,r,i,o,s,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,xt(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function zi(e,t,n,r,i,o){const s=n+19,a=e.data[s]||function(e,t,n,r,i,o){const s=It(),a=Rt(),u=a?s:s&&s.parent,c=e.data[n]=to(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(e,t,s,r,i,o);return Mt(a,!0),a}function Hi(e,t,n,r){let i=e.node;return null==i&&(e.node=i=to(0,t,2,n,null,null)),r[6]=i}function $i(e,t,n){Wt(t,t[6]);try{const r=e.viewQuery;null!==r&&Ao(1,r,n);const i=e.template;null!==i&&Gi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ui(e,t),e.staticViewQueries&&Ao(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)_o(e,t[n])}(t,o)}finally{t[2]&=-5,Yt()}}function Wi(e,t,n,r){const i=t[2];if(256==(256&i))return;Wt(t,t[6]);const o=Pt();try{xt(t),Bt(e.bindingStartIndex),null!==n&&Gi(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&an(t,n,null)}else{const n=e.preOrderHooks;null!==n&&un(t,n,0,null),cn(t,0)}if(function(e){let t=e[13];for(;null!==t;){let n;if(Xe(t)&&(n=t[2])>>1==-1){for(let e=9;e<t.length;e++){const n=t[e],r=n[1];wt(n)&&Wi(r,n,r.template,n[8])}0!=(1&n)&&bo(t,e[16])}t=t[4]}}(t),null!==e.contentQueries&&Ui(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&an(t,n)}else{const n=e.contentHooks;null!==n&&un(t,n,1),cn(t,1)}!function(e,t){try{const n=e.expandoInstructions;if(null!==n){let r=e.expandoStartIndex,i=-1,o=-1;for(let e=0;e<n.length;e++){const s=n[e];"number"==typeof s?s<=0?(o=0-s,en(o),r+=9+n[++e],i=r):r+=s:(null!==s&&(qt(r,i),s(2,t[i])),i++)}}}finally{en(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)wo(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&Ao(2,u,r),!o)if(s){const n=e.viewCheckHooks;null!==n&&an(t,n)}else{const n=e.viewHooks;null!==n&&un(t,n,2),cn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73)}finally{Yt()}}function Qi(e,t,n,r){const i=t[10],o=!Pt(),s=bt(t);try{o&&!s&&i.begin&&i.begin(),s&&$i(e,t,r),Wi(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function Gi(e,t,n,r,i){const o=Xt();try{en(-1),2&r&&t.length>19&&Oi(e,t,0,Pt()),n(r,i)}finally{en(o)}}function Ki(e,t,n){if(et(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Zi(e,t,n){St()&&(function(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Mn(n,t),ai(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const r=e.data[a],o=rt(r);o&&po(t,n,r);const u=qn(t,e,a,n);ai(u,t),null!==s&&go(0,a-i,u,r,0,s),o&&(gt(n.index,t)[8]=u)}}(e,t,n,dt(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-19;try{en(a);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ao(r,i):s&&o.push(null)}}finally{en(-1)}}(e,t,n))}function Yi(e,t,n=dt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Ji(e){return e.tView||(e.tView=Xi(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts))}function Xi(e,t,n,r,i,o,s,a,u,c){const l=19+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Si);return n}(l,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c}}function eo(e,t,n){if(ut(e))return e.selectRootElement(t,n===Re.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}function to(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function no(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ro(e,t,n,r,i,o,s,a){const u=dt(t,n);let c,l=t.inputs;!a&&null!=l&&(c=l[r])?(Ro(e,n,c,r,i),tt(t)&&function(e,t){const n=gt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.tagName||"",r):i,ut(o)?o.setProperty(u,r,i):mn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function io(e,t,n,r){let i=!1;if(St()){const o=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];_i(n,s.selectors,!1)&&(i||(i=[]),Fn(Mn(n,t),e,s.type),rt(s)?(2&n.flags&&di(n),co(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,ho(n,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}uo(e,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=gn(n.mergedAttrs,c.hostAttrs),fo(e,t,c),lo(e.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-19),a=!0),u||!c.onChanges&&!c.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-19),u=!0),oo(e,c),r+=c.hostVars}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,o=[];let s=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||gi(t)?null:yo(n,i);o.push(c),s=no(n,u,s),a=no(e.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),so(e,t,r)}s&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new Error(`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,s)}return n.mergedAttrs=gn(n.mergedAttrs,n.attrs),i}function oo(e,t){const n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function so(e,t,n){for(let r=0;r<n;r++)t.push(Si),e.blueprint.push(Si),e.data.push(null)}function ao(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function uo(e,t,n){const r=19-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function co(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function lo(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;rt(t)&&(n[""]=e)}}function ho(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function fo(e,t,n){e.data.push(n);const r=n.factory||(n.factory=Ze(n.type)),i=new dn(r,rt(n),null);e.blueprint.push(i),t.push(i)}function po(e,t,n){const r=dt(t,e),i=Ji(n),o=e[10],s=xo(e,qi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=s}function mo(e,t,n,r,i,o){const s=dt(e,t),a=t[11];if(null==r)ut(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const t=null==i?xn(r):i(r,e.tagName||"",n);ut(a)?a.setAttribute(s,n,t,o):o?s.setAttributeNS(o,n,t):s.setAttribute(n,t)}}function go(e,t,n,r,i,o){const s=o[t];if(null!==s){const e=r.setInput;for(let t=0;t<s.length;){const i=s[t++],o=s[t++],a=s[t++];null!==e?r.setInput(n,a,i,o):n[o]=a}}}function yo(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function vo(e,t,n,r){return new Array(e,!0,-2,t,null,null,r,n,null)}function bo(e,t){const n=e[5];for(let r=0;r<n.length;r++){const e=n[r],i=e[3][3][16];if(i!==t&&0==(16&i[2])){const t=e[1];Wi(t,e,t.template,e[8])}}}function wo(e,t){const n=gt(t,e);if(wt(n)&&80&n[2]){const e=n[1];Wi(e,n,e.template,n[8])}}function _o(e,t){const n=gt(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),$i(r,n,n[8])}function xo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Eo(e){for(;e;){e[2]|=64;const t=Ni(e);if(it(e)&&!t)return e;e=t}return null}function Co(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=vt(n),i=r[1];Qi(i,r,i.template,n)}}function So(e,t,n){const r=t[10];r.begin&&r.begin();try{Wi(e,t,e.template,n)}catch(i){throw Mo(t,i),i}finally{r.end&&r.end()}}function No(e){Co(e[8])}function Ao(e,t,n){Ht(0),t(e,n)}const To=Bi;function Do(e){return e[7]||(e[7]=[])}function Oo(e){return e.cleanup||(e.cleanup=[])}function Io(e,t){return function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(t[e.index])[11]}function Mo(e,t){const n=e[9],r=n?n.get(Yn,null):null;r&&r.handleError(t)}function Ro(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ko(e,t,n){const r=ht(t,e),i=e[11];ut(i)?i.setValue(r,n):r.textContent=n}function Po(e,t){const n=t[3];return-1===e.index?Xe(n)?n:null:n}function Fo(e,t){const n=Po(e,t);return n?Yo(t[11],n[7]):null}function jo(e,t,n,r,i){if(null!=r){let o,s=!1;Xe(r)?o=r:Je(r)&&(s=!0,r=r[0]);const a=lt(r);0===e&&null!==n?null==i?Ko(t,n,a):Go(t,n,a,i||null):1===e&&null!==n?Go(t,n,a,i||null):2===e?ts(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){const o=n[7];o!==lt(n)&&jo(t,e,r,o,i);for(let s=9;s<n.length;s++){const i=n[s];rs(i[1],i,e,t,r,o)}}(t,e,o,n,i)}}function Lo(e,t){return ut(t)?t.createText(e):t.createTextNode(e)}function Bo(e,t,n,r){const i=Fo(e.node,t);i&&rs(e,t,t[11],n?1:2,i,r)}function Uo(e,t,n,r){const i=9+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-9?(t[4]=n[i],Ce(n,9+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[5],r=t[3][3][16];16!=(16&r[2])&&t[16]!==r&&(e[2]|=1),null===n?e[5]=[t]:n.push(t)}(s,t);const a=t[5];null!==a&&a.insertView(e),t[2]|=128}function Vo(e,t){const n=e[5],r=n.indexOf(t);n.splice(r,1)}function qo(e,t){if(e.length<=9)return;const n=9+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Vo(i,r),t>0&&(e[n-1][4]=r[4]);const o=Se(e,9+t);Bo(r[1],r,!1,null);const s=o[5];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function zo(e,t){const n=qo(e,t);n&&Ho(n[1],n)}function Ho(e,t){if(!(256&t[2])){const n=t[11];ut(n)&&n.destroyNode&&rs(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Wo(e[1],e);for(;t;){let n=null;if(Je(t))n=t[13];else{const e=t[9];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Je(t)&&Wo(t[1],t),t=$o(t,e);null===t&&(t=e),Je(t)&&Wo(t[1],t),n=t&&t[4]}t=n}}(t)}}function $o(e,t){let n;return Je(e)&&(n=e[6])&&2===n.type?Po(n,e):e[3]===t?null:e[3]}function Wo(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof dn)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(t):lt(t[i]),s=e[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?e[a]():e[-a].unsubscribe(),r+=2}else n[r].call(e[n[r+1]]);t[7]=null}}(e,t);const n=t[6];n&&3===n.type&&ut(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&Xe(t[3])){r!==t[3]&&Vo(r,t);const n=t[5];null!==n&&n.detachView(e)}}}function Qo(e,t,n){let r=t.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){const e=n[6];return 2===e.type?Fo(e,n):n[0]}if(t&&5===t.type&&4&t.flags)return dt(t,n).parentNode;if(2&r.flags){const t=e.data,n=t[t[r.index].directiveStart].encapsulation;if(n!==Re.ShadowDom&&n!==Re.Native)return null}return dt(r,n)}function Go(e,t,n,r){ut(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Ko(e,t,n){ut(e)?e.appendChild(t,n):t.appendChild(n)}function Zo(e,t,n,r){null!==r?Go(e,t,n,r):Ko(e,t,n)}function Yo(e,t){return ut(e)?e.parentNode(t):t.parentNode}function Jo(e,t){if(2===e.type){const n=Po(e,t);return null===n?null:es(n.indexOf(t,9)-9,n)}return 4===e.type||5===e.type?dt(e,t):null}function Xo(e,t,n,r){const i=Qo(e,r,t);if(null!=i){const e=t[11],o=Jo(r.parent||t[6],t);if(Array.isArray(n))for(let t=0;t<n.length;t++)Zo(e,i,n[t],o);else Zo(e,i,n,o)}}function es(e,t){const n=9+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return function e(t,n){if(null!==n){const r=n.type;if(3===r)return dt(n,t);if(0===r)return es(-1,t[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return e(t,r);{const e=t[n.index];return Xe(e)?es(-1,e):lt(e)}}{const r=t[16],i=r[6],o=Ni(r),s=i.projection[n.projection];return null!=s?e(o,s):e(t,n.next)}}return null}(e,r)}return t[7]}function ts(e,t,n){const r=Yo(e,t);r&&function(e,t,n,r){ut(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ns(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===t&&(a&&ai(lt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(ns(e,t,n.child,r,i,o,!1),jo(t,e,i,a,o)):1===u?os(e,t,r,n,i,o):jo(t,e,i,a,o)),n=s?n.projectionNext:n.next}}function rs(e,t,n,r,i,o){ns(n,r,e.node.child,t,i,o,!1)}function is(e,t,n){os(t[11],0,t,n,Qo(e,n,t),Jo(n.parent||t[6],t))}function os(e,t,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)jo(t,e,i,a[u],o);else ns(e,t,a,s[3],i,o,!0)}function ss(e,t,n){ut(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function as(e,t,n){ut(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}class us{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(lt(s)),Xe(s))for(let t=9;t<s.length;t++){const n=s[t],r=n[1].firstChild;null!==r&&e(n[1],n,r,i)}const a=r.type;if(4===a||5===a)e(t,n,r.child,i);else if(1===a){const t=n[16],o=t[6],s=Ni(t);let a=o.projection[r.projection];null!==a&&null!==s&&e(s[1],s,a,i,!0)}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ho(this._lView[1],this._lView)}onDestroy(e){var t,n,r;t=this._lView[1],r=e,Do(n=this._lView).push(r),t.firstCreatePass&&Oo(t).push(n[7].length-1,null)}markForCheck(){Eo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){So(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ft(!0);try{So(e,t,n)}finally{Ft(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,rs(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class cs extends us{constructor(e){super(e),this._view=e}detectChanges(){No(this._view)}checkNoChanges(){!function(e){Ft(!0);try{No(e)}finally{Ft(!1)}}(this._view)}get context(){return null}}let ls,hs,ds;function fs(e,t,n){return ls||(ls=class extends e{}),new ls(dt(t,n))}function ps(e,t,n,r){return hs||(hs=class extends e{constructor(e,t,n){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=qi(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(t)),$i(t,n,e);const i=new us(n);return i._tViewNode=n[6],i}}),0===n.type?new hs(r,n,fs(t,n,r)):null}function ms(e,t,n,r){let i;ds||(ds=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return fs(t,this._hostTNode,this._hostView)}get injector(){return new $n(this._hostTNode,this._hostView)}get parentInjector(){const e=Pn(this._hostTNode,this._hostView),t=_n(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let r=wn(e),i=t,o=t[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(e,this._hostView,this._hostTNode);return vn(e)&&null!=n?new $n(n,t):new $n(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-9}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){const e=o.get(be,null);e&&(i=e)}const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Xe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new ds(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t);return Uo(r,n,this._lContainer,i),Bo(r,n,!0,es(i,this._lContainer)),e.attachToViewContainerRef(this),Ce(this._lContainer[8],i,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1);zo(this._lContainer,t),Se(this._lContainer[8],t)}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=qo(this._lContainer,t);return n&&null!=Se(this._lContainer[8],t)?new us(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Xe(o))i=o,function(e,t){e[2]=-2}(i);else{let e;if(4===n.type)e=lt(o);else if(e=r[11].createComment(""),it(r)){const t=r[11],i=dt(n,r);Go(t,Yo(t,i),e,function(e,t){return ut(e)?e.nextSibling(t):t.nextSibling}(t,i))}else Xo(r[1],r,e,n);r[n.index]=i=vo(o,r,e,n),xo(r,i)}return new ds(i,n,r)}function gs(e=!1){return function(e,t,n){if(!n&&tt(e)){const n=gt(e.index,t);return new us(n,n)}return 3===e.type||0===e.type||4===e.type||5===e.type?new us(t[16],t):null}(It(),Tt(),e)}let ys=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>bs(),e})();const vs=gs,bs=vs,ws=Function;function _s(e){return"function"==typeof e}const xs=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Es=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Cs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ss=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class Ns{constructor(e){this._reflect=e||W.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Ne(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),xs.test(n)||Ss.test(n)||Es.test(n)&&!Cs.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&As(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(l)&&e[l],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return o||i?this._zipTypesAndAnnotations(o,i):Ne(e.length)}parameters(e){if(!_s(e))return[];const t=Ts(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?As(e.decorators):e.hasOwnProperty(c)?e[c]:null}annotations(e){if(!_s(e))return[];const t=Ts(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=As(t[e])}),n}return e.hasOwnProperty(h)?e[h]:null}propMetadata(e){if(!_s(e))return{};const t=Ts(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return _s(e)&&this._ownPropMetadata(e,Ts(e))||{}}hasLifecycleHook(e,t){return e instanceof ws&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+F(e)}resourceUri(e){return"./"+F(e)}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function As(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function Ts(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}let Ds=null;function Os(){return Ds=Ds||new Ns}function Is(e){return Ms(Os().parameters(e))}function Ms(e){const t=G();return e.map(e=>function(e,t){const n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)&&t.length>0)for(let i=0;i<t.length;i++){const o=t[i];if(void 0===o)continue;const s=Object.getPrototypeOf(o);if(o instanceof y||"Optional"===s.ngMetadataName)n.optional=!0;else if(o instanceof b||"SkipSelf"===s.ngMetadataName)n.skipSelf=!0;else if(o instanceof v||"Self"===s.ngMetadataName)n.self=!0;else if(o instanceof w||"Host"===s.ngMetadataName)n.host=!0;else if(o instanceof g)n.token=o.token;else if(o instanceof _){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else o===ys?(n.token=o,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}else void 0===t||Array.isArray(t)&&0===t.length?(n.token=void 0,n.resolved=Q.Invalid):r(t);return n}(t,e))}const Rs=E({provide:String,useValue:E});function ks(e){return void 0!==e.useClass}function Ps(e){return void 0!==e.useFactory}function Fs(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(ks(n)||Ps(n))&&void 0!==n.deps&&(r.userDeps=Ms(n.deps)),ks(n)?r.useClass=U(n.useClass):function(e){return Rs in e}(n)?r.useValue=U(n.useValue):Ps(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=U(n.useExisting)),r}const js=d("Injectable",void 0,void 0,void 0,(e,t)=>Bs(e,t)),Ls=function(e,t){let n=null,r=null;e.hasOwnProperty(I)||(Object.defineProperty(e,I,{get:()=>(null===n&&(n=G().compileInjectable(ve,`ng:///${e.name}/\u0275prov.js`,Fs(e,t))),n)}),e.hasOwnProperty(R)||(e[R]=()=>e[I])),e.hasOwnProperty(ee)||Object.defineProperty(e,ee,{get:()=>{if(null===r){const n=Fs(e,t),i=G();r=i.compileFactory(ve,`ng:///${e.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:Is(e),injectFn:"inject",target:i.R3FactoryTarget.Injectable})}return r},configurable:!0})},Bs=Ls,Us=new ne("Set Injector scope."),Vs={},qs={},zs=[];let Hs=void 0;function $s(){return void 0===Hs&&(Hs=new ye),Hs}function Ws(e,t=null,n=null,r){const i=Qs(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Qs(e,t=null,n=null,r){return new Gs(e,n,t||$s(),r)}class Gs{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Ee(t,n=>this.processProvider(n,e,t)),Ee([e],e=>this.processInjectorType(e,[],i)),this.records.set(re,Ys(void 0,this));const o=this.records.get(Us);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:F(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ie,n=x.Default){this.assertNotDestroyed();const r=ce(this);try{if(!(n&x.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof ne)&&T(e);t=n&&this.injectableDefInScope(n)?Ys(Ks(e),Vs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&x.Self?$s():this.parent).get(e,t=n&x.Optional&&t===ie?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(F(e)),r)throw o;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=F(t);if(Array.isArray(t))i=t.map(F).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):F(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(oe,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{ce(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(F(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=U(e)))return!1;let r=O(e);const i=null==r&&e.ngModule||void 0,o=void 0===i?e:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!s){let e;n.push(o);try{Ee(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Ee(r,e=>this.processProvider(e,n,r||zs))}}this.injectorDefTypes.add(o),this.records.set(o,Ys(r.factory,Vs));const a=r.providers;if(null!=a&&!s){const t=e;Ee(a,e=>this.processProvider(e,t,a))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Xs(e=U(e))?e:U(e&&e.provide);const i=function(e,t,n){return Js(e)?Ys(void 0,e.useValue):Ys(Zs(e,t,n),Vs)}(e,t,n);if(Xs(e)||!0!==e.multi){const e=this.records.get(r);e&&void 0!==e.multi&&fi()}else{let t=this.records.get(r);t?void 0===t.multi&&fi():(t=Ys(void 0,Vs,!0),t.factory=()=>ge(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===qs?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(F(e)):t.value===Vs&&(t.value=qs,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function Ks(e){const t=T(e),n=null!==t?t.factory:Ze(e);if(null!==n)return n;const r=O(e);if(null!==r)return r.factory;if(e instanceof ne)throw new Error(`Token ${F(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Ne(t,"?");throw new Error(`Can't resolve all parameters for ${F(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[I]||e[k]||e[R]&&e[R]());if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Zs(e,t,n){let r=void 0;if(Xs(e)){const t=U(e);return Ze(t)||Ks(t)}if(Js(e))r=()=>U(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...ge(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>de(U(e.useExisting));else{const i=U(e&&(e.useClass||e.provide));if(i||function(e,t,n){let r="";throw e&&t&&(r=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${F(e)}'`+r)}(t,n,e),!function(e){return!!e.deps}(e))return Ze(i)||Ks(i);r=()=>new i(...ge(e.deps))}var i;return r}function Ys(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Js(e){return null!==e&&"object"==typeof e&&se in e}function Xs(e){return"function"==typeof e}function ea(e,t,n){return Ws({name:n},t,e,n)}const ta=ea;let na=(()=>{class e{static create(e,t){return Array.isArray(e)?ta(e,t,""):ta(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=ie,e.NULL=new ye,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>de(re)}),e.__NG_ELEMENT_ID__=-1,e})();function ra(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>F(e.token)).join(" -> ")+")":""}function ia(e,t,n,r){const i=[t],o=n(i),s=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r.ngOriginalError=t,r}(o,r):Error(o);return s.addKey=oa,s.keys=i,s.injectors=[e],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function oa(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function sa(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];n.push(e&&0!=e.length?e.map(F).join(" "):"?")}return Error("Cannot resolve all parameters for '"+F(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+F(e)+"' is decorated with Injectable.")}class aa{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=F(this.token)}static get(e){return ca.get(U(e))}static get numberOfKeys(){return ca.numberOfKeys}}class ua{constructor(){this._allKeys=new Map}get(e){if(e instanceof aa)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new aa(e,aa.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}}const ca=new ua;class la{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}const ha=new la(new Ns);class da{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new da(e,!1,null)}}const fa=[];class pa{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class ma{constructor(e,t){this.factory=e,this.dependencies=t}}function ga(e){let t,n;if(e.useClass){const r=U(e.useClass);t=ha.factory(r),n=ba(r)}else e.useExisting?(t=e=>e,n=[da.fromKey(aa.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>wa(e,t,n))}return ba(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=fa);return new ma(t,n)}function ya(e){return new pa(aa.get(e.provide),[ga(e)],e.multi||!1)}function va(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new pa(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(function e(t,n){return t.forEach(t=>{if(t instanceof ws)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!Array.isArray(t))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t);e(t,n)}}),n}(e,[]).map(ya),new Map);return Array.from(t.values())}function ba(e){const t=ha.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw sa(e,t);return t.map(n=>wa(e,n,t))}function wa(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return _a(t instanceof g?t.token:t,i,null);let o=null;for(let s=0;s<t.length;++s){const e=t[s];e instanceof ws?r=e:e instanceof g?r=e.token:e instanceof y?i=!0:e instanceof v||e instanceof b?o=e:e instanceof ne&&(r=e)}if(r=U(r),null!=r)return _a(r,i,o);throw sa(e,n)}function _a(e,t,n){return new da(aa.get(e),t,n)}const xa={};class Ea{static resolve(e){return va(e)}static resolveAndCreate(e,t){const n=Ea.resolve(e);return Ea.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Ca(e,t)}}let Ca=(()=>{class e{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=xa}get(e,t=ie){return this._getByKey(aa.get(e),null,t)}resolveAndCreateChild(e){const t=Ea.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(t){const n=new e(t);return n.parent=this,n}resolveAndInstantiate(e){return this.instantiateResolved(Ea.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw ia(this,e.key,(function(e){return"Cannot instantiate cyclic dependency!"+ra(e)}));return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(s){throw s.addKey&&s.addKey(this,e.key),s}try{i=n(...r)}catch(s){throw ia(this,e.key,(function(e){const t=F(e[0].token);return`${o.message}: Error during instantiation of ${t}!${ra(e)}.`}),o=s)}var o;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:ie)}_getByKey(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof v?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===xa&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return xa}_throwOrNull(e,t){if(t!==ie)return t;throw function(e,t){return ia(e,t,(function(e){return`No provider for ${F(e[0].token)}!${ra(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==xa?n:this._throwOrNull(e,t)}_getByKeyDefault(t,n,r){let i;for(i=r instanceof b?this.parent:this;i instanceof e;){const e=i,n=e._getObjByKeyId(t.id);if(n!==xa)return n;i=e.parent}return null!==i?i.get(t.token,n):this._throwOrNull(t,n)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let r=0;r<e._providers.length;++r)n[r]=' "'+e.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=aa.get(na),e})();const Sa=new ne("AnalyzeForEntryComponents");class Na{}const Aa=m("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),Na),Ta=m("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Na),Da=m("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),Na),Oa=m("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Na);function Ia(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const i=e(t);n.set(t,r=i.then(Fa))}return r}return Ma.forEach((e,n)=>{const i=[];e.templateUrl&&i.push(r(e.templateUrl).then(t=>{e.template=t}));const o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((t,n)=>{s.push(""),i.push(r(t).then(r=>{s[a+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(e){Ra.delete(e)}(n));t.push(u)}),Pa(),Promise.all(t).then(()=>{})}let Ma=new Map;const Ra=new Set;function ka(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Pa(){const e=Ma;return Ma=new Map,e}function Fa(e){return"string"==typeof e?e:e.text()}function ja(e,t){let n=e.styles,r=e.classes,i=0;for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?i=e:1==i?r=j(r,e):2==i&&(n=j(n,e+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==r&&(e.classes=r)}let La=null;function Ba(){if(!La){const e=W.Symbol;if(e&&e.iterator)La=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(La=n)}}}return La}function Ua(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Va(e,t){const n=za(e),r=za(t);if(n&&r)return function(e,t,n){const r=e[Ba()](),i=t[Ba()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Va);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||Ua(e,t)}}class qa{constructor(e){this.wrapped=e}static wrap(e){return new qa(e)}static unwrap(e){return qa.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof qa}}function za(e){return!!Ha(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ba()in e)}function Ha(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $a(e,t,n){return e[t]=n}function Wa(e,t){return e[t]}function Qa(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ga(e,t,n,r){const i=Qa(e,t,n);return Qa(e,t+1,r)||i}function Ka(e,t,n,r,i){const o=Ga(e,t,n,r);return Qa(e,t+2,i)||o}function Za(e,t,n,r,i,o){const s=Ga(e,t,n,r);return Ga(e,t+2,i,o)||s}function Ya(e,t,n,r){const i=Tt();return Qa(i,Ut(),t)&&(Dt(),mo(tn(),i,e,t,n,r)),Ya}function Ja(e,t){let n=!1,r=Lt();for(let o=1;o<t.length;o+=2)n=Qa(e,r++,t[o])||n;if(Bt(r),!n)return Si;let i=t[0];for(let o=1;o<t.length;o+=2)i+=xn(t[o])+t[o+1];return i}function Xa(e,t,n,r){return Qa(e,Ut(),n)?t+xn(n)+r:Si}function eu(e,t,n,r,i,o){const s=Ga(e,Lt(),n,i);return Vt(2),s?t+xn(n)+r+xn(i)+o:Si}function tu(e,t,n,r,i,o,s,a){const u=Ka(e,Lt(),n,i,s);return Vt(3),u?t+xn(n)+r+xn(i)+o+xn(s)+a:Si}function nu(e,t,n,r,i,o,s,a,u,c){const l=Za(e,Lt(),n,i,s,u);return Vt(4),l?t+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c:Si}function ru(e,t,n,r,i,o,s,a,u,c,l,h){const d=Lt();let f=Za(e,d,n,i,s,u);return f=Qa(e,d+4,l)||f,Vt(5),f?t+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c+xn(l)+h:Si}function iu(e,t,n,r,i,o,s,a,u,c,l,h,d,f){const p=Lt();let m=Za(e,p,n,i,s,u);return m=Ga(e,p+4,l,d)||m,Vt(6),m?t+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c+xn(l)+h+xn(d)+f:Si}function ou(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m){const g=Lt();let y=Za(e,g,n,i,s,u);return y=Ka(e,g+4,l,d,p)||y,Vt(7),y?t+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c+xn(l)+h+xn(d)+f+xn(p)+m:Si}function su(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y){const v=Lt();let b=Za(e,v,n,i,s,u);return b=Za(e,v+4,l,d,p,g)||b,Vt(8),b?t+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c+xn(l)+h+xn(d)+f+xn(p)+m+xn(g)+y:Si}function au(e,t,n,r,i,o){const s=Tt(),a=Xa(s,t,n,r);return a!==Si&&mo(tn(),s,e,a,i,o),au}function uu(e,t,n,r,i,o,s,a){const u=Tt(),c=eu(u,t,n,r,i,o);return c!==Si&&mo(tn(),u,e,c,s,a),uu}function cu(e,t,n,r,i,o,s,a,u,c){const l=Tt(),h=tu(l,t,n,r,i,o,s,a);return h!==Si&&mo(tn(),l,e,h,u,c),cu}function lu(e,t,n,r,i,o,s,a,u,c,l,h){const d=Tt(),f=nu(d,t,n,r,i,o,s,a,u,c);return f!==Si&&mo(tn(),d,e,f,l,h),lu}function hu(e,t,n,r,i,o,s,a,u,c,l,h,d,f){const p=Tt(),m=ru(p,t,n,r,i,o,s,a,u,c,l,h);return m!==Si&&mo(tn(),p,e,m,d,f),hu}function du(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m){const g=Tt(),y=iu(g,t,n,r,i,o,s,a,u,c,l,h,d,f);return y!==Si&&mo(tn(),g,e,y,p,m),du}function fu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y){const v=Tt(),b=ou(v,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m);return b!==Si&&mo(tn(),v,e,b,g,y),fu}function pu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y,v,b){const w=Tt(),_=su(w,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y);return _!==Si&&mo(tn(),w,e,_,v,b),pu}function mu(e,t,n,r){const i=Tt(),o=Ja(i,t);return o!==Si&&mo(tn(),i,e,o,n,r),mu}function gu(e){const t=si(e);So(t[1],t,e)}function yu(e){!function(e,t){const n=0===e.flags;if(e.flags|=1,n&&e.clean==Bi){let t;e.clean=new Promise(e=>t=e),e.scheduler(()=>{if(1&e.flags&&(e.flags&=-2,Co(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=Bi,t(null)})}}(Eo(si(e))[8])}function vu(e){const t=Tt(),n=Dt(),r=function(e,t,n,r,i){const o=n+19,s=t[o]=t[11].createComment(""),a=zi(e,t[6],n,0,null,null),u=t[o]=vo(s,t,s,a);return Xo(e,t,s,a),ai(s,t),xo(t,u),a}(n,t,e);n.firstCreatePass&&(r.tViews=[]),kt()}function bu(e,t,n,r,i,o,s,a){const u=Tt(),c=Dt(),l=e+19,h=c.firstCreatePass?function(e,t,n,r,i,o,s,a,u){const c=t.consts,l=zi(t,n[6],e,0,s||null,_t(c,a));io(t,n,l,_t(c,u)),sn(t,l);const h=l.tViews=Xi(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),d=to(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,s):c.data[l];Mt(h,!1);const d=u[11].createComment("");Xo(c,u,d,h),ai(d,u),xo(u,u[l]=vo(d,u,d,h)),nt(h)&&Zi(c,u,h),null!=s&&Yi(u,h,a)}function wu(e){const t=Tt(),n=Dt();if(Mt(mt(n.data,e),!0),t[e+19][2]=0,!Pt())if(3==(3&t[2])){const e=n.preOrderCheckHooks;null!==e&&an(t,e,null)}else{const e=n.preOrderHooks;null!==e&&un(t,e,0,null),cn(t,0)}}function _u(){let e=It();Rt()?kt():(e=e.parent,Mt(e,!1));const t=Tt()[e.index],n=Et(t);for(;n<t.length-9;)zo(t,n)}function xu(e,t,n,r){const i=n+19;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}function Eu(e){return mt(Ct.lFrame.contextLView,e)}function Cu(e,t=x.Default){const n=Tt();return null==n?de(e,t):Ln(It(),n,U(e),t)}function Su(e){return jn(It(),e)}function Nu(){throw new Error("invalid")}function Au(e,t,n){const r=Tt();return Qa(r,Ut(),t)&&ro(Dt(),tn(),r,e,t,r[11],n,!1),Au}function Tu(e,t,n,r,i){const o=i?"class":"style";Ro(e,n,t.inputs[o],o,r)}function Du(e,t,n,r){const i=Tt(),o=Dt(),s=19+e,a=i[11],u=i[s]=Vi(t,a,Ct.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,s){const a=t.consts,u=_t(a,o),c=zi(t,n[6],e,3,i,u);return io(t,n,c,_t(a,s)),null!==c.mergedAttrs&&ja(c,c.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[s];Mt(c,!0);const l=c.mergedAttrs;null!==l&&fn(a,u,l);const h=c.classes;null!==h&&as(a,u,h);const d=c.styles;null!==d&&ss(a,u,d),Xo(o,i,u,c),0===Ct.lFrame.elementDepthCount&&ai(u,i),Ct.lFrame.elementDepthCount++,nt(c)&&(Zi(o,i,c),Ki(o,c,i)),null!==r&&Yi(i,c)}function Ou(){let e=It();Rt()?kt():(e=e.parent,Mt(e,!1));const t=e;Ct.lFrame.elementDepthCount--;const n=Dt();n.firstCreatePass&&(sn(n,e),et(e)&&n.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&Tu(n,t,Tt(),t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&Tu(n,t,Tt(),t.styles,!1)}function Iu(e,t,n,r){Du(e,t,n,r),Ou()}function Mu(e,t,n){const r=Tt(),i=Dt(),o=e+19,s=i.firstCreatePass?function(e,t,n,r,i){const o=t.consts,s=_t(o,r),a=zi(t,n[6],e,4,"ng-container",s);return null!==s&&ja(a,s),io(t,n,a,_t(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,i,r,t,n):i.data[o];Mt(s,!0);const a=r[o]=r[11].createComment("");Xo(i,r,a,s),ai(a,r),nt(s)&&(Zi(i,r,s),Ki(i,s,r)),null!=n&&Yi(r,s)}function Ru(){let e=It();const t=Dt();Rt()?kt():(e=e.parent,Mt(e,!1)),t.firstCreatePass&&(sn(t,e),et(e)&&t.queries.elementEnd(e))}function ku(e,t,n){Mu(e,t,n),Ru()}function Pu(e,t,n){const r=Tt(),i=It(),o=2===i.type?i.parent:i,s=r[o.index];let a=function(e,t,n){for(let r=t+9;r<e.length;r++){const t=e[r][1].id;if(t===n)return e[r];if(!(t<n))break;zo(e,r-9)}return null}(s,Et(s),e);if(a)Ct.lFrame.isParent=!0,Wt(a,a[1].node);else{a=qi(r,function(e,t,n,r){const i=Tt()[1],o=r.tViews;return(e>=o.length||null==o[e])&&(o[e]=Xi(2,e,null,t,n,i.directiveRegistry,i.pipeRegistry,null,null,i.consts)),o[e]}(e,t,n,o),null,16,null,null);const s=Rt()?i:i&&i.parent;Hi(a[1],s,e,a),Wt(a,a[1].node)}return s&&(bt(a)&&Uo(a[1],a,s,Et(s)),s[2]+=2),bt(a)?3:2}function Fu(){const e=Tt(),t=Dt(),n=e[6],r=e[8];bt(e)&&$i(t,e,r),Wi(t,e,t.template,r),Yt(),Mt(n,!1)}function ju(){return Tt()}function Lu(e){return!!e&&"function"==typeof e.then}function Bu(e){return!!e&&"function"==typeof e.subscribe}function Uu(e,t,n=!1,r){const i=Tt(),o=Dt(),s=It();return qu(o,i,i[11],s,e,t,n,r),Uu}function Vu(e,t,n=!1,r){const i=It(),o=Tt(),s=Io(i,o);return qu(Dt(),o,s,i,e,t,n,r),Vu}function qu(e,t,n,r,i,o,s=!1,a){const u=nt(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Do(t);let h=!0;if(3===r.type){const d=dt(r,t),f=a?a(d):ke,p=f.target||d,m=l.length,g=a?e=>a(lt(e[r.index])).target:r.index;if(ut(n)){let s=null;if(!a&&u&&(s=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const e=i[o];if(e===n&&i[o+1]===r){const e=t[7],n=i[o+2];return e.length>n?e[n]:null}"string"==typeof e&&(o+=2)}return null}(e,t,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Hu(r,t,o,!1);const e=n.listen(f.name||p,i,o);l.push(o,e),c&&c.push(i,g,m,m+1)}}else o=Hu(r,t,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,m,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,e),c&&c.push(i,r.index,s,-(s+1))}}}function zu(e,t,n){try{return!1!==t(n)}catch(r){return Mo(e,r),!1}}function Hu(e,t,n,r){return function i(o){if(o===Function)return n;const s=2&e.flags?gt(e.index,t):t;0==(32&t[2])&&Eo(s);let a=zu(t,n,o),u=i.__ngNextListenerFn__;for(;u;)a=zu(t,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function $u(e=1){return Jt(e)}function Wu(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?_i(e,o,!0):xi(r,o))return i}else n=i}return n}function Qu(e){const t=Tt()[16][6];if(!t.projection){const n=t.projection=Ne(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Wu(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}let Gu=!1;function Ku(e){Gu=e}function Zu(e,t=0,n){const r=Tt(),i=Dt(),o=zi(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),kt(),Gu||is(i,r,o)}function Yu(e,t,n){return Ju(e,"",t,"",n),Yu}function Ju(e,t,n,r,i){const o=Tt(),s=Xa(o,t,n,r);return s!==Si&&ro(Dt(),tn(),o,e,s,o[11],i,!1),Ju}function Xu(e,t,n,r,i,o,s){const a=Tt(),u=eu(a,t,n,r,i,o);return u!==Si&&ro(Dt(),tn(),a,e,u,a[11],s,!1),Xu}function ec(e,t,n,r,i,o,s,a,u){const c=Tt(),l=tu(c,t,n,r,i,o,s,a);return l!==Si&&ro(Dt(),tn(),c,e,l,c[11],u,!1),ec}function tc(e,t,n,r,i,o,s,a,u,c,l){const h=Tt(),d=nu(h,t,n,r,i,o,s,a,u,c);return d!==Si&&ro(Dt(),tn(),h,e,d,h[11],l,!1),tc}function nc(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=Tt(),p=ru(f,t,n,r,i,o,s,a,u,c,l,h);return p!==Si&&ro(Dt(),tn(),f,e,p,f[11],d,!1),nc}function rc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const m=Tt(),g=iu(m,t,n,r,i,o,s,a,u,c,l,h,d,f);return g!==Si&&ro(Dt(),tn(),m,e,g,m[11],p,!1),rc}function ic(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){const y=Tt(),v=ou(y,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m);return v!==Si&&ro(Dt(),tn(),y,e,v,y[11],g,!1),ic}function oc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y,v){const b=Tt(),w=su(b,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y);return w!==Si&&ro(Dt(),tn(),b,e,w,b[11],v,!1),oc}function sc(e,t,n){const r=Tt(),i=Ja(r,t);return i!==Si&&ro(Dt(),tn(),r,e,i,r[11],n,!1),sc}const ac=[];function uc(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?ki(o):Fi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=e[a+1];cc(e[a],t)&&(u=!0,e[a+1]=r?Li(n):Pi(n)),a=r?ki(n):Fi(n)}u&&(e[n+1]=r?Pi(o):Li(o))}function cc(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&De(e,t)>=0}const lc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hc(e){return e.substring(lc.key,lc.keyEnd)}function dc(e){return e.substring(lc.value,lc.valueEnd)}function fc(e,t){const n=lc.textEnd;return n===t?-1:(t=lc.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,lc.key=t,n),gc(e,t,n))}function pc(e,t){const n=lc.textEnd;let r=lc.key=gc(e,t,n);return n===r?-1:(r=lc.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90);)t++;return t}(e,r,n),r=yc(e,r,n),r=lc.value=gc(e,r,n),r=lc.valueEnd=function(e,t,n){let r=-1,i=-1,o=-1,s=t,a=s;for(;s<n;){const u=e.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=vc(e,u,s,n):t===s-4&&85===o&&82===i&&76===r&&40===u?a=s=vc(e,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(e,r,n),yc(e,r,n))}function mc(e){lc.key=0,lc.keyEnd=0,lc.value=0,lc.valueEnd=0,lc.textEnd=e.length}function gc(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function yc(e,t,n,r){return(t=gc(e,t,n))<n&&t++,t}function vc(e,t,n,r){let i=-1,o=n;for(;o<r;){const n=e.charCodeAt(o++);if(n==t&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function bc(e){!function(e){Ct.lFrame.currentSanitizer=e}(e)}function wc(e,t,n){return Nc(e,t,n,!1),wc}function _c(e,t){return Nc(e,t,null,!0),_c}function xc(e){Ac(Mc,Ec,e,!1)}function Ec(e,t){for(let n=function(e){return mc(e),pc(e,gc(e,0,lc.textEnd))}(t);n>=0;n=pc(t,n))Mc(e,hc(t),dc(t))}function Cc(e){Ac(Ae,Sc,e,!0)}function Sc(e,t){for(let n=function(e){return mc(e),fc(e,gc(e,0,lc.textEnd))}(t);n>=0;n=fc(t,n))Ae(e,hc(t),!0)}function Nc(e,t,n,r){const i=Tt(),o=Dt(),s=Vt(2);if(o.firstUpdatePass&&Dc(o,e,s,r),t!==Si&&Qa(i,s,t)){let a;null==n&&(a=function(){const e=Ct.lFrame;return null===e?null:e.currentSanitizer}())&&(n=a),Rc(o,o.data[Xt()+19],i,i[11],e,i[s+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=F(sr(e)))),e}(t,n),r,s)}}function Ac(e,t,n,r){const i=Dt(),o=Vt(2);i.firstUpdatePass&&Dc(i,null,o,r);const s=Tt();if(n!==Si&&Qa(s,o,n)){const a=i.data[Xt()+19];if(Fc(a,r)&&!Tc(i,o)){let e=r?a.classes:a.styles;null!==e&&(n=j(e,n||"")),Tu(i,a,s,n,r)}else!function(e,t,n,r,i,o,s,a){i===Si&&(i=ac);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p=null,m=void 0;l===h?(u+=2,c+=2,d!==f&&(p=h,m=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,m=f),null!==p&&Rc(e,t,n,r,p,m,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return ac;const r=[],i=sr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function Tc(e,t){return t>=e.expandoStartIndex}function Dc(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Xt()+19],s=Tc(e,n);Fc(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Ct.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ic(n=Oc(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Oc(i,e,t,n,r),null===o){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Fi(r))return e[ki(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Oc(null,e,t,n[1],r),n=Ic(n,t.attrs,r),function(e,t,n,r){e[ki(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else o=function(e,t,n){let r=void 0;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Ic(r,e[o].hostAttrs,n);return Ic(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=ki(s),u=Fi(s);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||De(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=ki(e[a+1]);e[r+1]=Ri(t,a),0!==t&&(e[t+1]=ji(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Ri(a,0),0!==a&&(e[a+1]=ji(e[a+1],r)),a=r;else e[r+1]=Ri(u,0),0===a?a=r:e[u+1]=ji(e[u+1],r),u=r;l&&(e[r+1]=Pi(e[r+1])),uc(e,c,r,!0),uc(e,c,r,!1),function(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&De(o,t)>=0&&(n[r+1]=Li(n[r+1]))}(t,c,e,r,o),s=Ri(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Oc(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ic(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ic(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ae(e,s,!!n||t[++o]))}return void 0===e?null:e}function Mc(e,t,n){Xr(t)&&(n=Wr(n)),Ae(e,t,n)}function Rc(e,t,n,r,i,o,s,a){if(3!==t.type)return;const u=e.data,c=u[a+1];Pc(1==(1&c)?kc(u,t,n,i,Fi(c),s):void 0)||(Pc(o)||function(e){return 2==(2&e)}(c)&&(o=kc(u,null,n,i,a,s)),function(e,t,n,r,i){const o=ut(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{const t=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,t):n.style.removeProperty(r):o?e.setStyle(n,r,i,t):n.style.setProperty(r,i)}}(r,s,ht(Xt(),n),i,o))}function kc(e,t,n,r,i,o){const s=null===t;let a=void 0;for(;i>0;){const t=e[i],o=Array.isArray(t),u=o?t[1]:t,c=null===u;let l=n[i+1];l===Si&&(l=c?ac:void 0);let h=c?Te(l,r):u===r?l:void 0;if(o&&!Pc(h)&&(h=Te(t,r)),Pc(h)&&(a=h,s))return a;const d=e[i+1];i=s?ki(d):Fi(d)}if(null!==t){let e=o?t.residualClasses:t.residualStyles;null!=e&&(a=Te(e,r))}return a}function Pc(e){return void 0!==e}function Fc(e,t){return 0!=(e.flags&(t?16:32))}function jc(e,t=""){const n=Tt(),r=Dt(),i=e+19,o=r.firstCreatePass?zi(r,n[6],e,3,null,null):r.data[i],s=n[i]=Lo(t,n[11]);Xo(r,n,s,o),Mt(o,!1)}function Lc(e){return Bc("",e,""),Lc}function Bc(e,t,n){const r=Tt(),i=Xa(r,e,t,n);return i!==Si&&ko(r,Xt(),i),Bc}function Uc(e,t,n,r,i){const o=Tt(),s=eu(o,e,t,n,r,i);return s!==Si&&ko(o,Xt(),s),Uc}function Vc(e,t,n,r,i,o,s){const a=Tt(),u=tu(a,e,t,n,r,i,o,s);return u!==Si&&ko(a,Xt(),u),Vc}function qc(e,t,n,r,i,o,s,a,u){const c=Tt(),l=nu(c,e,t,n,r,i,o,s,a,u);return l!==Si&&ko(c,Xt(),l),qc}function zc(e,t,n,r,i,o,s,a,u,c,l){const h=Tt(),d=ru(h,e,t,n,r,i,o,s,a,u,c,l);return d!==Si&&ko(h,Xt(),d),zc}function Hc(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=Tt(),p=iu(f,e,t,n,r,i,o,s,a,u,c,l,h,d);return p!==Si&&ko(f,Xt(),p),Hc}function $c(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const m=Tt(),g=ou(m,e,t,n,r,i,o,s,a,u,c,l,h,d,f,p);return g!==Si&&ko(m,Xt(),g),$c}function Wc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){const y=Tt(),v=su(y,e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g);return v!==Si&&ko(y,Xt(),v),Wc}function Qc(e){const t=Tt(),n=Ja(t,e);return n!==Si&&ko(t,Xt(),n),Qc}function Gc(e,t,n){Ac(Ae,Sc,Xa(Tt(),e,t,n),!0)}function Kc(e,t,n,r,i){Ac(Ae,Sc,eu(Tt(),e,t,n,r,i),!0)}function Zc(e,t,n,r,i,o,s){Ac(Ae,Sc,tu(Tt(),e,t,n,r,i,o,s),!0)}function Yc(e,t,n,r,i,o,s,a,u){Ac(Ae,Sc,nu(Tt(),e,t,n,r,i,o,s,a,u),!0)}function Jc(e,t,n,r,i,o,s,a,u,c,l){Ac(Ae,Sc,ru(Tt(),e,t,n,r,i,o,s,a,u,c,l),!0)}function Xc(e,t,n,r,i,o,s,a,u,c,l,h,d){Ac(Ae,Sc,iu(Tt(),e,t,n,r,i,o,s,a,u,c,l,h,d),!0)}function el(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){Ac(Ae,Sc,ou(Tt(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p),!0)}function tl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){Ac(Ae,Sc,su(Tt(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g),!0)}function nl(e){Ac(Ae,Sc,Ja(Tt(),e),!0)}function rl(e,t,n){xc(Xa(Tt(),e,t,n))}function il(e,t,n,r,i){xc(eu(Tt(),e,t,n,r,i))}function ol(e,t,n,r,i,o,s){xc(tu(Tt(),e,t,n,r,i,o,s))}function sl(e,t,n,r,i,o,s,a,u){xc(nu(Tt(),e,t,n,r,i,o,s,a,u))}function al(e,t,n,r,i,o,s,a,u,c,l){xc(ru(Tt(),e,t,n,r,i,o,s,a,u,c,l))}function ul(e,t,n,r,i,o,s,a,u,c,l,h,d){xc(iu(Tt(),e,t,n,r,i,o,s,a,u,c,l,h,d))}function cl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){xc(ou(Tt(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p))}function ll(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){xc(su(Tt(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g))}function hl(e){xc(Ja(Tt(),e))}function dl(e,t,n,r,i){return Nc(e,Xa(Tt(),t,n,r),i,!1),dl}function fl(e,t,n,r,i,o,s){return Nc(e,eu(Tt(),t,n,r,i,o),s,!1),fl}function pl(e,t,n,r,i,o,s,a,u){return Nc(e,tu(Tt(),t,n,r,i,o,s,a),u,!1),pl}function ml(e,t,n,r,i,o,s,a,u,c,l){return Nc(e,nu(Tt(),t,n,r,i,o,s,a,u,c),l,!1),ml}function gl(e,t,n,r,i,o,s,a,u,c,l,h,d){return Nc(e,ru(Tt(),t,n,r,i,o,s,a,u,c,l,h),d,!1),gl}function yl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){return Nc(e,iu(Tt(),t,n,r,i,o,s,a,u,c,l,h,d,f),p,!1),yl}function vl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){return Nc(e,ou(Tt(),t,n,r,i,o,s,a,u,c,l,h,d,f,p,m),g,!1),vl}function bl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y,v){return Nc(e,su(Tt(),t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y),v,!1),bl}function wl(e,t,n){return Nc(e,Ja(Tt(),t),n,!1),wl}function _l(e,t,n){const r=Tt();return Qa(r,Ut(),t)&&ro(Dt(),tn(),r,e,t,r[11],n,!0),_l}function xl(e,t,n){const r=Tt();if(Qa(r,Ut(),t)){const i=Dt(),o=tn();ro(i,o,r,e,t,Io(o,r),n,!0)}return xl}function El(e){Rl(e);const t=Dl(e,!1);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];return 2&n.flags?t[n.directiveStart]:null}(t.nodeIndex,t.lView)),t.component)}function Cl(e){Rl(e);const t=Dl(e,!1);return null===t?null:t.lView[8]}function Sl(e){const t=Dl(e,!1);if(null===t)return null;let n,r=t.lView;for(;null===r[0]&&(n=Ni(r));)r=n;return 512&r[2]?null:r[8]}function Nl(e){return[...Ai(e).components]}function Al(e){const t=Dl(e,!1);return null===t?na.NULL:new $n(t.lView[1].data[t.nodeIndex],t.lView)}function Tl(e){const t=Dl(e);return void 0===t.directives&&(t.directives=hi(t.nodeIndex,t.lView,!1)),null===t.directives?[]:[...t.directives]}function Dl(e,t=!0){const n=ii(e);if(!n&&t)throw new Error("Invalid ng target");return n}function Ol(e){return ii(e).native}function Il(e){Rl(e);const t=Dl(e,!1);if(null===t)return[];const n=t.lView,r=n[7],i=n[1].cleanup,o=[];if(i&&r)for(let s=0;s<i.length;){const t=i[s++],a=i[s++];if("string"==typeof t){const u=t,c=lt(n[a]),l=r[i[s++]],h=i[s++],d="boolean"==typeof h||h>=0?"dom":"output",f="boolean"==typeof h&&h;e==c&&o.push({element:e,name:u,callback:l,useCapture:f,type:d})}}return o.sort(Ml),o}function Ml(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function Rl(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function kl(e){yu(e),Nl(e).forEach(e=>gu(e))}let Pl=!1;function Fl(){Pl||(Pl=!0,jl("getComponent",El),jl("getContext",Cl),jl("getListeners",Il),jl("getOwningComponent",Sl),jl("getHostElement",Ol),jl("getInjector",Al),jl("getRootComponents",Nl),jl("getDirectives",Tl),jl("applyChanges",kl))}function jl(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=W;if(n){let r=n.ng;r||(r=n.ng={}),r[e]=t}}}function Ll(e,t={}){const n=t.rendererFactory||ct,r=t.sanitizer||null,i=Qe(e);i.type!=e&&(i.type=e);const o=i.selectors[0][0],s=eo(n.createRenderer(null,null),t.host||o,i.encapsulation),a=i.onPush?576:528,u=Vl(t.scheduler,t.playerHandler),c=n.createRenderer(s,i),l=Xi(0,-1,null,1,0,null,null,null,null,null),h=qi(null,l,u,a,null,null,n,c,void 0,t.injector||null);let d;Wt(h,null);try{n.begin&&n.begin(),d=Ul(Bl(s,i,h,n,c,r),i,h,u,t.hostFeatures||null),$i(l,h,null),Wi(l,h,null,null)}finally{Yt(),n.end&&n.end()}return d}function Bl(e,t,n,r,i,o){const s=n[1];n[19]=e;const a=zi(s,null,0,3,null,null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(ja(a,u),null!==e&&(fn(i,e,u),null!==a.classes&&as(i,e,a.classes),null!==a.styles&&ss(i,e,a.styles)));const c=r.createRenderer(e,t),l=qi(n,Ji(t),null,t.onPush?64:16,n[19],a,r,c,o);return s.firstCreatePass&&(Fn(Mn(a,n),s,t.type),co(s,a),ho(a,n.length,1)),xo(n,l),n[19]=l}function Ul(e,t,n,r,i){const o=n[1],s=function(e,t,n){const r=It();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),uo(e,r,1),fo(e,t,n));const i=qn(t,e,t.length-1,r);ai(i,t);const o=dt(r,t);return o&&ai(o,t),i}(o,n,t);r.components.push(s),e[8]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries&&t.contentQueries(1,s,n.length-1);const a=It();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){en(a.index-19);const e=n[1];oo(e,t),so(e,n,t.hostVars),ao(t,s)}return s}function Vl(e,t){return{components:[],scheduler:e||Cn,clean:To,playerHandler:t||null,flags:0}}function ql(e,t){const n=vt(e)[1],r=n.data.length-1;sn(n,{directiveStart:r,directiveEnd:r+1})}function zl(e){return Ai(e).clean}function Hl(e){return Object.getPrototypeOf(e.prototype).constructor}function $l(e){let t=Hl(e.type),n=!0;const r=[e];for(;t;){let i=void 0;if(rt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Wl(e.inputs),t.declaredInputs=Wl(e.declaredInputs),t.outputs=Wl(e.outputs);const n=i.hostBindings;n&&Kl(e,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ql(e,o),s&&Gl(e,s),C(e.inputs,i.inputs),C(e.declaredInputs,i.declaredInputs),C(e.outputs,i.outputs),rt(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}t.afterContentChecked=t.afterContentChecked||i.afterContentChecked,t.afterContentInit=e.afterContentInit||i.afterContentInit,t.afterViewChecked=e.afterViewChecked||i.afterViewChecked,t.afterViewInit=e.afterViewInit||i.afterViewInit,t.doCheck=e.doCheck||i.doCheck,t.onDestroy=e.onDestroy||i.onDestroy,t.onInit=e.onInit||i.onInit}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===$l&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=gn(i.hostAttrs,n=gn(n,i.hostAttrs))}}(r)}function Wl(e){return e===ke?{}:e===Pe?[]:e}function Ql(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Gl(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Kl(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Zl=["providersResolver"],Yl=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Jl(e){let t=Hl(e.type),n=void 0;n=rt(e)?t.\u0275cmp:t.\u0275dir;const r=e;for(const i of Zl)r[i]=n[i];if(rt(n))for(const i of Yl)r[i]=n[i]}class Xl{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function eh(e){e.type.prototype.ngOnChanges&&(e.setInput=th,e.onChanges=function(){const e=nh(this),t=e&&e.current;if(t){const n=e.previous;if(n===ke)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}})}function th(e,t,n,r){const i=nh(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ke,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Xl(u&&u.currentValue,t,s===ke),e[r]=t}function nh(e){return e.__ngSimpleChanges__||null}function rh(e,t,n,r,i){if(e=U(e),Array.isArray(e))for(let o=0;o<e.length;o++)rh(e[o],t,n,r,i);else{const o=Dt(),s=Tt();let a=Xs(e)?e:U(e.provide),u=Zs(e);const c=It(),l=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(Xs(e)||!e.multi){const r=new dn(u,i,Cu),f=sh(a,t,i?l:l+d,h);-1===f?(Fn(Mn(c,s),o,a),ih(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=sh(a,t,l+d,h),p=sh(a,t,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Fn(Mn(c,s),o,a);const l=function(e,t,n,r,i){const o=new dn(e,n,Cu);return o.multi=[],o.index=t,o.componentProviders=0,oh(o,i,r&&!n),o}(i?uh:ah,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),ih(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),s.push(l)}else ih(o,e,f>-1?f:p,oh(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ih(e,t,n,r){const i=Xs(t);if(i||t.useClass){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[r,o]):s[e+1].push(r,o)}else s.push(n,o)}}}function oh(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ah(e,t,n,r){return ch(this.multi,[])}function uh(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=qn(n,n[1],this.providerFactory.index,r);o=t.slice(0,e),ch(i,o);for(let n=e;n<t.length;n++)o.push(t[n])}else o=[],ch(i,o);return o}function ch(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function lh(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Dt();if(r.firstCreatePass){const i=rt(e);rh(n,r.data,r.blueprint,i,!0),rh(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}eh.ngInherit=!0;class hh{}class dh{}function fh(e){const t=Error(`No component factory found for ${F(e)}. Did you add it to @NgModule.entryComponents?`);return t[ph]=e,t}const ph="ngComponent";class mh{resolveComponentFactory(e){throw fh(e)}}let gh=(()=>{class e{}return e.NULL=new mh,e})();class yh{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw fh(e);return new vh(t,this._ngModule)}}class vh extends dh{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}let bh=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>_h(e),e})();const wh=function(e){return fs(e,It(),Tt())},_h=wh;class xh{}const Eh=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Ch=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Nh(),e})();const Sh=function(){const e=Tt(),t=gt(It().index,e);return function(e){const t=e[11];if(ut(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Je(t)?t:e)},Nh=Sh;let Ah=(()=>{class e{}return e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null}),e})();class Th{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Dh=new Th("9.1.3");class Oh{constructor(){}supports(e){return za(e)}create(e){return new Mh(e)}}const Ih=(e,t)=>t;class Mh{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ih}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<Fh(n,r,i)?t:n,s=Fh(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!za(e))throw new Error(`Error trying to diff '${F(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Ua(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Ua(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ba()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Ua(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Ua(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ua(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ua(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Rh(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ph),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ph),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Rh{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kh{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ua(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ph{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new kh,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fh(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class jh{constructor(){}supports(e){return e instanceof Map||Ha(e)}create(){return new Lh}}class Lh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ha(e)))throw new Error(`Error trying to diff '${F(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Bh(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Ua(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Bh{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Uh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new b,new y]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e([new Oh])}),e})(),Vh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new b,new y]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e([new jh])}),e})();const qh=[new jh],zh=new Uh([new Oh]),Hh=new Vh(qh);let $h=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Qh(e,bh),e})();const Wh=function(e,t){return ps(e,t,It(),Tt())},Qh=Wh;let Gh=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Zh(e,bh),e})();const Kh=function(e,t){return ms(e,t,It(),Tt())},Zh=Kh;function Yh(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Jh(n,t),n}(i,e)}function Jh(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Xh(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function ed(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function td(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function nd(e,t){return e.nodes[t]}function rd(e,t){return e.nodes[t]}function id(e,t){return e.nodes[t]}function od(e,t){return e.nodes[t]}function sd(e,t){return e.nodes[t]}class ad{}const ud={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},cd=()=>{},ld=new Map;function hd(e){let t=ld.get(e);return t||(t=F(e)+"_"+ld.size,ld.set(e,t)),t}function dd(e,t,n,r){if(qa.isWrapped(r)){r=qa.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,o=qa.unwrap(e.oldValues[i]);e.oldValues[i]=new qa(o)}return r}function fd(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let pd=0;function md(e,t,n,r){return!(!(2&e.state)&&Ua(e.oldValues[t.bindingIndex+n],r))}function gd(e,t,n,r){return!!md(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function yd(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Va(i,r)){const o=t.bindings[n].name;throw Yh(ud.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function vd(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function bd(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function wd(e,t,n,r){try{return vd(33554432&e.def.nodes[t].flags?rd(e,t).componentView:e),ud.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function _d(e){return e.parent?rd(e.parent,e.parentNodeDef.nodeIndex):null}function xd(e){return e.parent?e.parentNodeDef.parent:null}function Ed(e,t){switch(201347067&t.flags){case 1:return rd(e,t.nodeIndex).renderElement;case 2:return nd(e,t.nodeIndex).renderText}}function Cd(e,t){return e?`${e}:${t}`:t}function Sd(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Nd(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ad(e){return 1<<e%32}function Td(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=Ad(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function Dd(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,"__source",{value:t,configurable:!0}),{flags:r,token:n,tokenKey:hd(n)}})}function Od(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Re.Native?rd(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Id=new WeakMap;function Md(e){let t=Id.get(e);return t||(t=e(()=>cd),t.factory=e,Id.set(e,t)),t}function Rd(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Ed(e,e.def.lastRenderRootNode))),kd(e,t,0,e.def.nodes.length-1,n,r,i)}function kd(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Fd(e,n,t,i,o,s),a+=n.childCount}}function Pd(e,t,n,r,i,o){let s=e;for(;s&&!Sd(s);)s=s.parent;const a=s.parent,u=xd(s),c=u.nodeIndex+u.childCount;for(let l=u.nodeIndex+1;l<=c;l++){const e=a.def.nodes[l];e.ngContentIndex===t&&Fd(a,e,n,r,i,o),l+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)jd(e,s[t],n,r,i,o)}}function Fd(e,t,n,r,i,o){if(8&t.flags)Pd(e,t.ngContent.index,n,r,i,o);else{const s=Ed(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&jd(e,s,n,r,i,o),32&t.bindingFlags&&jd(rd(e,t.nodeIndex).componentView,s,n,r,i,o)):jd(e,s,n,r,i,o),16777216&t.flags){const s=rd(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)Rd(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&kd(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function jd(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const Ld=/^:([^:]+):(.+)$/;function Bd(e){if(":"===e[0]){const t=e.match(Ld);return[t[1],t[2]]}return["",e]}function Ud(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Vd(e,t){let n="";for(let r=0;r<2*e;r+=2)n=n+t[r]+zd(t[r+1]);return n+t[2*e]}function qd(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y,v,b){switch(e){case 1:return t+zd(n)+r;case 2:return t+zd(n)+r+zd(i)+o;case 3:return t+zd(n)+r+zd(i)+o+zd(s)+a;case 4:return t+zd(n)+r+zd(i)+o+zd(s)+a+zd(u)+c;case 5:return t+zd(n)+r+zd(i)+o+zd(s)+a+zd(u)+c+zd(l)+h;case 6:return t+zd(n)+r+zd(i)+o+zd(s)+a+zd(u)+c+zd(l)+h+zd(d)+f;case 7:return t+zd(n)+r+zd(i)+o+zd(s)+a+zd(u)+c+zd(l)+h+zd(d)+f+zd(p)+m;case 8:return t+zd(n)+r+zd(i)+o+zd(s)+a+zd(u)+c+zd(l)+h+zd(d)+f+zd(p)+m+zd(g)+y;case 9:return t+zd(n)+r+zd(i)+o+zd(s)+a+zd(u)+c+zd(l)+h+zd(d)+f+zd(p)+m+zd(g)+y+zd(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function zd(e){return null!=e?e.toString():""}const Hd=[],$d={},Wd={},Qd=hd(na),Gd=hd(re),Kd=hd(be);function Zd(e,t,n,r){return n=U(n),{index:-1,deps:Dd(r,F(t)),flags:e,token:t,value:n}}function Yd(e){const t={},n=[];let r=null;for(let i=0;i<e.length;i++){const o=e[i];o.token===Us&&(r=o.value),1073741824&o.flags&&n.push(o.token),o.index=i,t[hd(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,scope:r}}function Jd(e,t,n=na.THROW_IF_NOT_FOUND){const r=ce(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const i=t.tokenKey;switch(i){case Qd:case Gd:case Kd:return e}const o=e._def.providersByKey[i];let s;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=Xd(e,o)),t===Wd?void 0:t}if((s=T(t.token))&&function(e,t){const n=t.providedIn;return null!=n&&("any"===n||n===e._def.scope||function(e,t){return e._def.modules.indexOf(t)>-1}(e,n))}(e,s)){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:n,token:t.token},e._providers[n]=Wd,e._providers[n]=Xd(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{ce(r)}}function Xd(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Jd(e,n[0]));case 2:return new t(Jd(e,n[0]),Jd(e,n[1]));case 3:return new t(Jd(e,n[0]),Jd(e,n[1]),Jd(e,n[2]));default:const i=[];for(let t=0;t<r;t++)i[t]=Jd(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Jd(e,n[0]));case 2:return t(Jd(e,n[0]),Jd(e,n[1]));case 3:return t(Jd(e,n[0]),Jd(e,n[1]),Jd(e,n[2]));default:const i=[];for(let t=0;t<r;t++)i[t]=Jd(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Jd(e,t.deps[0]);break;case 256:n=t.value}return n===Wd||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Wd:n}function ef(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,Se(n,t),ud.dirtyParentQueries(r),nf(r),r}function tf(e,t,n){const r=t?Ed(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Rd(n,2,i,o,void 0)}function nf(e){Rd(e,3,null,null,void 0)}const rf={};function of(e,t,n,r,i,o){return new af(e,t,n,r,i,o)}function sf(e){return e.viewDefFactory}class af extends dh{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=Md(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=ud.createRootView(e,t||[],n,i,r,rf),a=id(s,o).instance;return n&&s.renderer.setAttribute(rd(s,0).renderElement,"ng-version",Dh.full),new uf(s,new df(s),a)}}class uf extends hh{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new bh(rd(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new gf(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function cf(e,t,n){return new lf(e,t,n)}class lf{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new bh(this._data.renderElement)}get injector(){return new gf(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=xd(e),e=e.parent;return e?new gf(e,t):new gf(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=ef(this._data,e);ud.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new df(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof vh||(i=o.get(be));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Ce(i,n,r),function(e,t){const n=_d(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),ud.dirtyParentQueries(r),tf(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];Se(r,t),null==n&&(n=r.length),Ce(r,n,i),ud.dirtyParentQueries(i),nf(i),tf(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=ef(this._data,e);t&&ud.destroyView(t)}detach(e){const t=ef(this._data,e);return t?new df(t):null}}function hf(e){return new df(e)}class df{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Rd(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){vd(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{ud.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){ud.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ud.destroyView(this._view)}detachFromAppRef(){this._appRef=null,nf(this._view),ud.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function ff(e,t){return new pf(e,t)}class pf extends $h{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new df(ud.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new bh(rd(this._parentView,this._def.nodeIndex).renderElement)}}function mf(e,t){return new gf(e,t)}class gf{constructor(e,t){this.view=e,this.elDef=t}get(e,t=na.THROW_IF_NOT_FOUND){return ud.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:hd(e)},t)}}function yf(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=rd(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return nd(e,n.nodeIndex).renderText;if(20240&n.flags)return id(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function vf(e,t,n,r){return new bf(e,t,n,r)}class bf{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=Ne(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Xd(e,i))}}(this)}get(e,t=na.THROW_IF_NOT_FOUND,n=x.Default){let r=0;return n&x.SkipSelf?r|=1:n&x.Self&&(r|=4),Jd(this,{token:e,tokenKey:hd(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(gh)}destroy(){if(this._destroyed)throw new Error(`The ng module ${F(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Wd){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const wf=hd(Ch),_f=hd(bh),xf=hd(Gh),Ef=hd($h),Cf=hd(ys),Sf=hd(na),Nf=hd(re);function Af(e,t,n,r,i,o,s,a){const u=[];if(s)for(let l in s){const[e,t]=s[l];u[e]={flags:8,name:l,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return Of(e,t|=16384,n,r,i,i,o,u,c)}function Tf(e,t,n){return Of(-1,e|=16,null,0,t,t,n)}function Df(e,t,n,r,i){return Of(-1,e,t,0,n,r,i)}function Of(e,t,n,r,i,o,s,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=Td(n);u||(u=[]),a||(a=[]),o=U(o);const d=Dd(s,F(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Ud(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function If(e,t){return Pf(e,t)}function Mf(e,t){let n=e;for(;n.parent&&!Sd(n);)n=n.parent;return Ff(n.parent,xd(n),!0,t.provider.value,t.provider.deps)}function Rf(e,t){const n=Ff(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!Bu(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(kf(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function kf(e,t,n){return r=>wd(e,t,n,r)}function Pf(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Ff(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Lf(e,t,n,i[0]));case 2:return r(Lf(e,t,n,i[0]),Lf(e,t,n,i[1]));case 3:return r(Lf(e,t,n,i[0]),Lf(e,t,n,i[1]),Lf(e,t,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(Lf(e,t,n,i[r]));return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return Lf(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Ff(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Lf(e,t,n,i[0]));case 2:return new r(Lf(e,t,n,i[0]),Lf(e,t,n,i[1]));case 3:return new r(Lf(e,t,n,i[0]),Lf(e,t,n,i[1]),Lf(e,t,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(Lf(e,t,n,i[r]));return new r(...s)}}const jf={};function Lf(e,t,n,r,i=na.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===Cf&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case wf:return Bf(a,t,n).renderer;case _f:return new bh(rd(a,t.nodeIndex).renderElement);case xf:return rd(a,t.nodeIndex).viewContainer;case Ef:if(t.element.template)return rd(a,t.nodeIndex).template;break;case Cf:return hf(Bf(a,t,n));case Sf:case Nf:return mf(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=id(a,e.nodeIndex);return t||(t={instance:Pf(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Sd(a),t=xd(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,jf);return u!==jf||i===jf?u:o.root.ngModule.injector.get(r.token,i)}function Bf(e,t,n){let r;if(n)r=rd(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Sd(r);)r=r.parent;return r}function Uf(e,t,n,r,i,o){if(32768&n.flags){const t=rd(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=qa.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Xl(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Vf(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&zf(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=qf(e,s,t,r)),s=s.parent}}function qf(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&zf(e,i,t.flags&n,r++),i+=t.childCount}return r}function zf(e,t,n,r){const i=id(e,t);if(!i)return;const o=i.instance;o&&(ud.setCurrentNode(e,t),1048576&n&&td(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&td(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}class Hf extends gh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qe(e);return new Qf(t,this.ngModule)}}function $f(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Wf=new ne("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cn});class Qf extends dh{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Ci).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return $f(this.componentDef.inputs)}get outputs(){return $f(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,jf,i);return o!==jf||r===jf?o:t.get(n,r,i)}}}(e,r.injector):e,o=i.get(xh,ct),s=i.get(Ah,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?eo(a,n,this.componentDef.encapsulation):Vi(u,o.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d=Vl(),f=Xi(0,-1,null,1,0,null,null,null,null,null),p=qi(null,f,d,l,null,null,o,a,s,i);let m,g;Wt(p,null);try{const e=Bl(c,this.componentDef,p,o,a);if(c)if(n)fn(a,c,["ng-version",Dh.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!bi(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&fn(a,c,e),t&&t.length>0&&as(a,c,t.join(" "))}g=pt(p[1],0),t&&(g.projection=t.map(e=>Array.from(e))),m=Ul(e,this.componentDef,p,d,[ql]),$i(f,p,null)}finally{Yt()}const y=new Gf(this.componentType,m,fs(bh,g,p),p,g);return n&&!h||(y.hostView._tViewNode.child=g),y}}class Gf extends hh{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new cs(r),this.hostView._tViewNode=Hi(r[1],null,-1,r),this.componentType=e}get injector(){return new $n(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const Kf=void 0;var Zf=["en",[["a","p"],["AM","PM"],Kf],[["AM","PM"],Kf,Kf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kf,"{1} 'at' {0}",Kf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Yf={};function Jf(e,t,n){"string"!=typeof t&&(n=t,t=e[ip.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Yf[t]=e,n&&(Yf[t][ip.ExtraData]=n)}function Xf(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=np(t);if(n)return n;const r=t.split("-")[0];if(n=np(r),n)return n;if("en"===r)return Zf;throw new Error(`Missing locale data for the locale "${e}".`)}function ep(e){return Xf(e)[ip.CurrencyCode]||null}function tp(e){return Xf(e)[ip.PluralCase]}function np(e){return e in Yf||(Yf[e]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[e]),Yf[e]}function rp(){Yf={}}const ip=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),op="en-US",sp="USD",ap=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,up=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cp=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,lp=/\ufffd(\d+):?\d*\ufffd/gi,hp=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,dp=/\[(\ufffd.+?\ufffd?)\]/,fp=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,pp=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,mp=/{([A-Z0-9_]+)}/g,gp=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,yp=/\/\*/,vp=/\d+\:(\d+)/;function bp(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(e);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);ap.test(n)?r.push(wp(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const s=e.substring(t);return r.push(s),r}function wp(e){const t=[],n=[];let r=1,i=0;const o=bp(e=e.replace(ap,(function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""})));for(let s=0;s<o.length;){let e=o[s++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=bp(o[s++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function _p(e){let t,n,r="",i=0,o=!1;for(;null!==(t=up.exec(e));)o?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i),r}function xp(e,t,n,r=null){const i=[null,null],o=e.split(lp);let s=0;for(let a=0;a<o.length;a++){const e=o[a];if(1&a){const t=parseInt(e,10);i.push(-1-t),s|=Np(t)}else""!==e&&i.push(e)}return i.push(t<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Ep(e,t=0){let n;t|=Np(e.mainBinding);for(let r=0;r<e.values.length;r++){const i=e.values[r];for(let e=0;e<i.length;e++){const r=i[e];if("string"==typeof r)for(;n=lp.exec(r);)t|=Np(parseInt(n[1],10));else t=Ep(r,t)}}return t}const Cp=[];let Sp=-1;function Np(e){return 1<<Math.min(e,31)}const Ap=[];function Tp(e,t,n){const r=Dt();Cp[++Sp]=e,Ku(!0),r.firstCreatePass&&null===r.data[e+19]&&function(e,t,n,r,i){const o=t.blueprint.length-19;Dp=0;const s=It(),a=Rt()?s:s&&s.parent;let u=a&&a!==e[6]?a.index-19:n,c=0;Ap[c]=u;const l=[];if(n>0&&s!==a){let e=s.index-19;Rt()||(e=~e),l.push(e<<3|0)}const h=[],d=[];if(""===r&&Mp(i))l.push(r,Op(o),u<<17|1);else{const e=function(e,t){if(Mp(t))return _p(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return _p(e.substring(n,r))}}(r,i),t=(f=e,f.replace(Gp," ")).split(cp);for(let n=0;n<t.length;n++){let r=t[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const e=parseInt(r.substr(2),10);u=Ap[--c],l.push(e<<3|5)}}else{const e=parseInt(r.substr(1),10),t="#"===r.charAt(0);l.push((t?e:~e)<<3|0,u<<17|1),t&&(Ap[++c]=u=e)}else{const t=bp(r);for(let n=0;n<t.length;n++)if(1&n){const r=t[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${e}" message.`);const i=Op(o);l.push(Mi,"",i,u<<17|1);const s=Ep(r);$p(d,r,i,i);const a=d.length-1;h.push(Np(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==t[n]){const e=t[n],r=e.match(lp),i=Op(o);l.push(r?"":e,i,u<<17|1),r&&_e(xp(e,i),h)}}}}var f;Dp>0&&function(e,t,n){if(n>0&&e.firstCreatePass){for(let r=0;r<n;r++)e.blueprint.push(null),e.data.push(null),t.push(null);e.expandoInstructions?e.expandoInstructions.push(n):e.expandoStartIndex+=n}}(t,e,Dp),t.data[n+19]={vars:Dp,create:l,update:h,icus:d.length?d:null}}(Tt(),r,e,t,n)}let Dp;function Op(e){return e+Dp++}function Ip(e,t,n,r,i){const o=t.next;r||(r=n),r===n&&t!==n.child?(t.next=n.child,n.child=t):r!==n&&t!==r.next?(t.next=r.next,r.next=t):t.next=null,n!==i[6]&&(t.parent=n);let s=t.next;for(;s;)s.next===t&&(s.next=o),s=s.next;if(1===t.type)return is(e,i,t),t;Xo(e,i,dt(t,i),t);const a=i[t.index];return 0!==t.type&&Xe(a)&&Xo(e,i,a[7],t),t}function Mp(e){return void 0===e}function Rp(e,t={}){let n=e;if(dp.test(e)){const e={},t=[0];n=n.replace(fp,(n,r,i)=>{const o=r||i,s=e[o]||[];if(s.length||(o.split("|").forEach(e=>{const t=e.match(vp),n=t?parseInt(t[1],10):0,r=yp.test(e);s.push([n,r,e])}),e[o]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);const a=t[t.length-1];let u=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){u=e;break}const[c,l,h]=s[u];return l?t.pop():a!==c&&t.push(c),s.splice(u,1),h})}return Object.keys(t).length?(n=n.replace(pp,(e,n,r,i,o,s)=>t.hasOwnProperty(r)?`${n}${t[r]}${s}`:e),n=n.replace(mp,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(gp,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}function kp(){const e=Tt();!function(e,t){const n=Cp[Sp--],r=e.data[n+19],i=It(),o=Fp(n,r.create,e,t);let s=n+1;for(;s<=i.index-19;){-1===o.indexOf(s)&&jp(e,t,s,!0);const n=pt(e,s);!n||0!==n.type&&3!==n.type&&4!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}}(Dt(),e),Ku(!1)}function Pp(e,t,n,r,i,o){const s=It();t[n+19]=i;const a=zi(e,t[6],n,r,o,null);return s&&s.next===a&&(s.next=null),a}function Fp(e,t,n,r){const i=r[11];let o=null,s=null;const a=[];for(let u=0;u<t.length;u++){const c=t[u];if("string"==typeof c){const e=Lo(c,i),l=t[++u];s=o,o=Pp(n,r,l,3,e,null),a.push(l),kt()}else if("number"==typeof c)switch(7&c){case 1:const i=c>>>17;let l;l=i===e?r[6]:pt(n,i),s=Ip(n,o,l,s,r);break;case 0:const h=c>=0,d=(h?c:~c)>>>3;a.push(d),s=o,o=pt(n,d),o&&Mt(o,h);break;case 5:s=o=pt(n,c>>>3),Mt(o,!1);break;case 4:const f=t[++u],p=t[++u];mo(pt(n,c>>>3),r,f,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case Mi:const e=t[++u],l=t[++u],h=i.createComment(e);s=o,o=Pp(n,r,l,5,h,null),a.push(l),ai(h,r),o.activeCaseIndex=null,kt();break;case Ii:const d=t[++u],f=t[++u];s=o,o=Pp(n,r,f,3,i.createElement(d),d),a.push(f);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return kt(),a}function jp(e,t,n,r){const i=pt(e,n),o=ht(n,t);o&&ts(t[11],o);const s=mt(t,n);if(Xe(s)){const e=s;0!==i.type&&ts(t[11],e[7])}r&&(i.flags|=64)}function Lp(e,t,n){Tp(e,t,n),kp()}function Bp(e,t){!function(e,t,n,r){const i=It().index-19,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],u=r[s+1].split(hp);for(let r=0;r<u.length;r++){const s=u[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(lp))t.firstCreatePass&&null===t.data[n+19]&&_e(xp(s,i,a),o);else{const n=pt(t,i);3===n.type&&mo(n,e,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&Ro(t,e,r,a,s)}}}t.firstCreatePass&&null===t.data[n+19]&&(t.data[n+19]=o)}(Tt(),Dt(),e,t)}let Up=0,Vp=0;function qp(e){return Qa(Tt(),Ut(),e)&&(Up|=1<<Vp),Vp++,qp}function zp(e){if(Vp){const t=Dt(),n=t.data[e+19];let r,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus);const o=Lt()-Vp-1,s=Tt();!function e(t,n,r,i,o,s,a=!1){let u=!1;for(let c=0;c<t.length;c++){const l=t[c],h=t[++c];if(a||l&i){let a="";for(let l=c+1;l<=c+h;l++){const c=t[l];if("string"==typeof c)a+=c;else if("number"==typeof c)if(c<0)a+=xn(s[r-c]);else{const h=c>>>2;let d,f,p;switch(3&c){case 1:const c=t[++l],m=t[++l];ro(o,pt(o,h),s,c,a,s[11],m,!1);break;case 0:ko(s,h,a);break;case 2:if(d=t[++l],f=n[d],p=pt(o,h),null!==p.activeCaseIndex){const e=f.remove[p.activeCaseIndex];for(let t=0;t<e.length;t++){const r=e[t];switch(7&r){case 3:jp(o,s,r>>>3,!1);break;case 6:const i=pt(o,e[t+1]>>>3).activeCaseIndex;null!==i&&_e(n[r>>>3].remove[i],e)}}}const g=Hp(f,a);p.activeCaseIndex=-1!==g?g:null,g>-1&&(Fp(-1,f.create[g],o,s),u=!0);break;case 3:d=t[++l],f=n[d],p=pt(o,h),null!==p.activeCaseIndex&&e(f.update[p.activeCaseIndex],n,r,i,o,s,u)}}}}c+=h}}(r,i,o,Up,t,s),Up=0,Vp=0}}function Hp(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){switch(tp(t)(e)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(t,Kp);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return n}function $p(e,t,n,r){const i=[],o=[],s=[],a=[],u=[];for(let c=0;c<t.values.length;c++){const l=t.values[c],h=[];for(let e=0;e<l.length;e++){const t=l[e];if("string"!=typeof t){const n=h.push(t)-1;l[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const d=Wp(l.join(""),n,h,e,r);i.push(d.create),o.push(d.remove),s.push(d.update),a.push(d.vars),u.push(d.childIcus)}e.push({type:t.type,vars:a,childIcus:u,cases:t.cases,create:i,remove:o,update:s}),Dp+=Math.max(...a)}function Wp(e,t,n,r,i){const o=new vr(at()).getInertBodyElement(e);if(!o)throw new Error("Unable to generate inert body element");const s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,r,i,o,s){if(t){const a=[];for(;t;){const u=t.nextSibling,c=s+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:const u=t,l=u.tagName.toLowerCase();if(Dr.hasOwnProperty(l)){n.create.push(Ii,l,c,r<<17|1);const a=u.attributes;for(let e=0;e<a.length;e++){const t=a.item(e),r=t.name.toLowerCase();t.value.match(lp)?Mr.hasOwnProperty(r)&&_e(Or[r]?xp(t.value,c,t.name,_r):Ir[r]?xp(t.value,c,t.name,xr):xp(t.value,c,t.name),n.update):n.create.push(c<<3|4,t.name,t.value)}e(t.firstChild,n,c,i,o,s),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=t.textContent||"",d=h.match(lp);n.create.push(d?"":h,c,r<<17|1),n.remove.push(c<<3|3),d&&_e(xp(h,c),n.update);break;case Node.COMMENT_NODE:const f=Qp.exec(t.textContent||"");if(f){const e=parseInt(f[1],10);n.create.push(Mi,"",c,r<<17|1),a.push([i[e],c])}else n.vars--;break;default:n.vars--}t=u}for(let e=0;e<a.length;e++){const t=a[e][0],r=a[e][1];$p(o,t,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const u=Ep(t);n.update.push(Np(t.mainBinding),3,-1-t.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Ur(o)||o).firstChild,s,t,n,r,i),s}const Qp=/\ufffd(\d+)\ufffd/,Gp=/\uE500/g;let Kp=op;function Zp(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Kp=e.toLowerCase().replace(/_/g,"-"))}function Yp(e,t,n,r){return u(()=>{const i=e,o=i.prototype?Object.getPrototypeOf(i.prototype):null,s=o&&o.constructor;null!==t&&(void 0===i.decorators||s&&s.decorators===i.decorators?i.decorators=t:i.decorators.push(...t)),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||s&&s.propDecorators===i.propDecorators?r:Object.assign(Object.assign({},i.propDecorators),r))})}const Jp=new Map;function Xp(e,t){const n=Jp.get(e);em(e,n&&n.moduleType,t.moduleType),Jp.set(e,t)}function em(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${F(t)} vs ${F(t.name)}`)}function tm(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;em(t,Jp.get(t),e),Jp.set(t,e)}let t=e.\u0275mod.imports;t instanceof Function&&(t=t()),t&&t.forEach(e=>tm(e))}function nm(e){return Jp.get(e)||Ve[e]}class rm extends be{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hf(this);const n=Ye(e),r=e[X]||null;r&&Zp(r),this._bootstrapComponents=Tn(n.bootstrap),this._r3Injector=Qs(e,t,[{provide:be,useValue:this},{provide:gh,useValue:this.componentFactoryResolver}],F(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=na.THROW_IF_NOT_FOUND,n=x.Default){return e===na||e===be||e===re?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class im extends we{constructor(e){super(),this.moduleType=e,null!==Ye(e)&&tm(e)}create(e){return new rm(this.moduleType,e)}}function om(e,t,n){const r=jt()+e,i=Tt();return i[r]===Si?$a(i,r,n?t.call(n):t()):Wa(i,r)}function sm(e,t,n,r){return gm(Tt(),jt(),e,t,n,r)}function am(e,t,n,r,i){return ym(Tt(),jt(),e,t,n,r,i)}function um(e,t,n,r,i,o){return vm(Tt(),jt(),e,t,n,r,i,o)}function cm(e,t,n,r,i,o,s){return bm(Tt(),jt(),e,t,n,r,i,o,s)}function lm(e,t,n,r,i,o,s,a){const u=jt()+e,c=Tt(),l=Za(c,u,n,r,i,o);return Qa(c,u+4,s)||l?$a(c,u+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):Wa(c,u+5)}function hm(e,t,n,r,i,o,s,a,u){const c=jt()+e,l=Tt(),h=Za(l,c,n,r,i,o);return Ga(l,c+4,s,a)||h?$a(l,c+6,u?t.call(u,n,r,i,o,s,a):t(n,r,i,o,s,a)):Wa(l,c+6)}function dm(e,t,n,r,i,o,s,a,u,c){const l=jt()+e,h=Tt();let d=Za(h,l,n,r,i,o);return Ka(h,l+4,s,a,u)||d?$a(h,l+7,c?t.call(c,n,r,i,o,s,a,u):t(n,r,i,o,s,a,u)):Wa(h,l+7)}function fm(e,t,n,r,i,o,s,a,u,c,l){const h=jt()+e,d=Tt(),f=Za(d,h,n,r,i,o);return Za(d,h+4,s,a,u,c)||f?$a(d,h+8,l?t.call(l,n,r,i,o,s,a,u,c):t(n,r,i,o,s,a,u,c)):Wa(d,h+8)}function pm(e,t,n,r){return wm(Tt(),jt(),e,t,n,r)}function mm(e,t){const n=e[t];return n===Si?void 0:n}function gm(e,t,n,r,i,o){const s=t+n;return Qa(e,s,i)?$a(e,s+1,o?r.call(o,i):r(i)):mm(e,s+1)}function ym(e,t,n,r,i,o,s){const a=t+n;return Ga(e,a,i,o)?$a(e,a+2,s?r.call(s,i,o):r(i,o)):mm(e,a+2)}function vm(e,t,n,r,i,o,s,a){const u=t+n;return Ka(e,u,i,o,s)?$a(e,u+3,a?r.call(a,i,o,s):r(i,o,s)):mm(e,u+3)}function bm(e,t,n,r,i,o,s,a,u){const c=t+n;return Za(e,c,i,o,s,a)?$a(e,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):mm(e,c+4)}function wm(e,t,n,r,i,o){let s=t+n,a=!1;for(let u=0;u<i.length;u++)Qa(e,s++,i[u])&&(a=!0);return a?$a(e,s,r.apply(o,i)):mm(e,s)}function _m(e,t){const n=Dt();let r;const i=e+19;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Ze(r.type)),s=le(Cu),a=On(!1),u=o();return On(a),le(s),xu(n,Tt(),e,u),u}function xm(e,t,n){const r=Tt(),i=mt(r,e);return Tm(r,Am(r,e)?gm(r,jt(),t,i.transform,n,i):i.transform(n))}function Em(e,t,n,r){const i=Tt(),o=mt(i,e);return Tm(i,Am(i,e)?ym(i,jt(),t,o.transform,n,r,o):o.transform(n,r))}function Cm(e,t,n,r,i){const o=Tt(),s=mt(o,e);return Tm(o,Am(o,e)?vm(o,jt(),t,s.transform,n,r,i,s):s.transform(n,r,i))}function Sm(e,t,n,r,i,o){const s=Tt(),a=mt(s,e);return Tm(s,Am(s,e)?bm(s,jt(),t,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function Nm(e,t,n){const r=Tt(),i=mt(r,e);return Tm(r,Am(r,e)?wm(r,jt(),t,i.transform,n,i):i.transform.apply(i,n))}function Am(e,t){return e[1].data[t+19].pure}function Tm(e,t){return qa.isWrapped(t)&&(t=qa.unwrap(t),e[Lt()]=Si),t}class Dm extends r.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,o=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(o=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(o=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return e instanceof i.a&&e.add(a),a}}function Om(){return this._results[Ba()]()}class Im{constructor(){this.dirty=!0,this._results=[],this.changes=new Dm,this.length=0;const e=Ba(),t=Im.prototype;t[e]||(t[e]=Om)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=xe(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Mm{constructor(e){this.queryList=e,this.matches=null}clone(){return new Mm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Rm(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Zm(e,t).matches&&this.queries[t].setDirty()}}class km{constructor(e,t,n,r=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=r}}class Pm{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Pm(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Fm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Fm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,jm(t,n[r]))}else{const n=this.metadata.predicate;n===$h?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Vn(t,e,n,!1,!1))}}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===bh||r===Gh||r===$h&&0===t.type)this.addMatch(t.index,-2);else{const n=Vn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function jm(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Lm(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?fs(bh,e,t):0===e.type?ps($h,bh,e,t):null}(t,e):-2===n?function(e,t,n){return n===bh?fs(bh,t,e):n===$h?ps($h,bh,t,e):n===Gh?ms(Gh,bh,t,e):void 0}(e,t,r):qn(e,e[1],n,t)}function Bm(e,t,n,r){const i=t[5].queries[r];if(null===i.matches){const r=e.data,o=n.matches,s=[];for(let e=0;e<o.length;e+=2){const i=o[e];s.push(i<0?null:Lm(t,r[i],o[e+1],n.metadata.read))}i.matches=s}return i.matches}function Um(e){const t=Tt(),n=Dt(),r=zt();Ht(r+1);const i=Zm(n,r);if(e.dirty&&bt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?function e(t,n,r,i){const o=t.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Bm(t,n,o,r);for(let t=0;t<s.length;t+=2){const r=s[t];if(r>0)i.push(a[t/2]);else{const o=s[t+1],a=n[-r];for(let t=9;t<a.length;t++){const n=a[t];n[17]===n[3]&&e(n[1],n,o,i)}if(null!==a[5]){const t=a[5];for(let n=0;n<t.length;n++){const r=t[n];e(r[1],r,o,i)}}}}}return i}(n,t,r,[]):Bm(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Vm(e,t,n){zm(Dt(),Tt(),e,t,n,!0)}function qm(e,t,n){zm(Dt(),Tt(),e,t,n,!1)}function zm(e,t,n,r,i,o){e.firstCreatePass&&(Km(e,new km(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),Gm(e,t)}function Hm(e,t,n,r){Wm(Dt(),Tt(),t,n,r,!1,It(),e)}function $m(e,t,n,r){Wm(Dt(),Tt(),t,n,r,!0,It(),e)}function Wm(e,t,n,r,i,o,s,a){e.firstCreatePass&&(Km(e,new km(n,r,o,i),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),o&&(e.staticContentQueries=!0)),Gm(e,t)}function Qm(){return e=Tt(),t=zt(),e[5].queries[t].queryList;var e,t}function Gm(e,t){const n=new Im;!function(e,t,n,r){const i=Do(t);i.push(n),e.firstCreatePass&&Oo(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[5]&&(t[5]=new Rm),t[5].queries.push(new Mm(n))}function Km(e,t,n){null===e.queries&&(e.queries=new Pm),e.queries.track(new Fm(t,n))}function Zm(e,t){return e.queries.getByIndex(t)}function Ym(e,t){return ps($h,bh,e,t)}function Jm(e=x.Default){const t=gs(!0);if(null!=t||e&x.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}const Xm=(()=>({"\u0275\u0275attribute":Ya,"\u0275\u0275attributeInterpolate1":au,"\u0275\u0275attributeInterpolate2":uu,"\u0275\u0275attributeInterpolate3":cu,"\u0275\u0275attributeInterpolate4":lu,"\u0275\u0275attributeInterpolate5":hu,"\u0275\u0275attributeInterpolate6":du,"\u0275\u0275attributeInterpolate7":fu,"\u0275\u0275attributeInterpolate8":pu,"\u0275\u0275attributeInterpolateV":mu,"\u0275\u0275defineComponent":je,"\u0275\u0275defineDirective":$e,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":A,"\u0275\u0275defineNgModule":qe,"\u0275\u0275definePipe":We,"\u0275\u0275directiveInject":Cu,"\u0275\u0275getFactoryOf":Wn,"\u0275\u0275getInheritedFactory":Qn,"\u0275\u0275inject":de,"\u0275\u0275injectAttribute":Su,"\u0275\u0275invalidFactory":Nu,"\u0275\u0275invalidFactoryDep":fe,"\u0275\u0275injectPipeChangeDetectorRef":Jm,"\u0275\u0275templateRefExtractor":Ym,"\u0275\u0275NgOnChangesFeature":eh,"\u0275\u0275ProvidersFeature":lh,"\u0275\u0275CopyDefinitionFeature":Jl,"\u0275\u0275InheritDefinitionFeature":$l,"\u0275\u0275container":vu,"\u0275\u0275nextContext":$u,"\u0275\u0275containerRefreshStart":wu,"\u0275\u0275containerRefreshEnd":_u,"\u0275\u0275namespaceHTML":on,"\u0275\u0275namespaceMathML":rn,"\u0275\u0275namespaceSVG":nn,"\u0275\u0275enableBindings":Nt,"\u0275\u0275disableBindings":At,"\u0275\u0275elementStart":Du,"\u0275\u0275elementEnd":Ou,"\u0275\u0275element":Iu,"\u0275\u0275elementContainerStart":Mu,"\u0275\u0275elementContainerEnd":Ru,"\u0275\u0275elementContainer":ku,"\u0275\u0275pureFunction0":om,"\u0275\u0275pureFunction1":sm,"\u0275\u0275pureFunction2":am,"\u0275\u0275pureFunction3":um,"\u0275\u0275pureFunction4":cm,"\u0275\u0275pureFunction5":lm,"\u0275\u0275pureFunction6":hm,"\u0275\u0275pureFunction7":dm,"\u0275\u0275pureFunction8":fm,"\u0275\u0275pureFunctionV":pm,"\u0275\u0275getCurrentView":ju,"\u0275\u0275restoreView":Ot,"\u0275\u0275listener":Uu,"\u0275\u0275projection":Zu,"\u0275\u0275updateSyntheticHostBinding":xl,"\u0275\u0275componentHostSyntheticListener":Vu,"\u0275\u0275pipeBind1":xm,"\u0275\u0275pipeBind2":Em,"\u0275\u0275pipeBind3":Cm,"\u0275\u0275pipeBind4":Sm,"\u0275\u0275pipeBindV":Nm,"\u0275\u0275projectionDef":Qu,"\u0275\u0275hostProperty":_l,"\u0275\u0275property":Au,"\u0275\u0275propertyInterpolate":Yu,"\u0275\u0275propertyInterpolate1":Ju,"\u0275\u0275propertyInterpolate2":Xu,"\u0275\u0275propertyInterpolate3":ec,"\u0275\u0275propertyInterpolate4":tc,"\u0275\u0275propertyInterpolate5":nc,"\u0275\u0275propertyInterpolate6":rc,"\u0275\u0275propertyInterpolate7":ic,"\u0275\u0275propertyInterpolate8":oc,"\u0275\u0275propertyInterpolateV":sc,"\u0275\u0275pipe":_m,"\u0275\u0275queryRefresh":Um,"\u0275\u0275viewQuery":qm,"\u0275\u0275staticViewQuery":Vm,"\u0275\u0275staticContentQuery":$m,"\u0275\u0275loadQuery":Qm,"\u0275\u0275contentQuery":Hm,"\u0275\u0275reference":Eu,"\u0275\u0275classMap":Cc,"\u0275\u0275classMapInterpolate1":Gc,"\u0275\u0275classMapInterpolate2":Kc,"\u0275\u0275classMapInterpolate3":Zc,"\u0275\u0275classMapInterpolate4":Yc,"\u0275\u0275classMapInterpolate5":Jc,"\u0275\u0275classMapInterpolate6":Xc,"\u0275\u0275classMapInterpolate7":el,"\u0275\u0275classMapInterpolate8":tl,"\u0275\u0275classMapInterpolateV":nl,"\u0275\u0275styleMap":xc,"\u0275\u0275styleMapInterpolate1":rl,"\u0275\u0275styleMapInterpolate2":il,"\u0275\u0275styleMapInterpolate3":ol,"\u0275\u0275styleMapInterpolate4":sl,"\u0275\u0275styleMapInterpolate5":al,"\u0275\u0275styleMapInterpolate6":ul,"\u0275\u0275styleMapInterpolate7":cl,"\u0275\u0275styleMapInterpolate8":ll,"\u0275\u0275styleMapInterpolateV":hl,"\u0275\u0275styleProp":wc,"\u0275\u0275stylePropInterpolate1":dl,"\u0275\u0275stylePropInterpolate2":fl,"\u0275\u0275stylePropInterpolate3":pl,"\u0275\u0275stylePropInterpolate4":ml,"\u0275\u0275stylePropInterpolate5":gl,"\u0275\u0275stylePropInterpolate6":yl,"\u0275\u0275stylePropInterpolate7":vl,"\u0275\u0275stylePropInterpolate8":bl,"\u0275\u0275stylePropInterpolateV":wl,"\u0275\u0275styleSanitizer":bc,"\u0275\u0275classProp":_c,"\u0275\u0275select":Di,"\u0275\u0275advance":Ti,"\u0275\u0275template":bu,"\u0275\u0275text":jc,"\u0275\u0275textInterpolate":Lc,"\u0275\u0275textInterpolate1":Bc,"\u0275\u0275textInterpolate2":Uc,"\u0275\u0275textInterpolate3":Vc,"\u0275\u0275textInterpolate4":qc,"\u0275\u0275textInterpolate5":zc,"\u0275\u0275textInterpolate6":Hc,"\u0275\u0275textInterpolate7":$c,"\u0275\u0275textInterpolate8":Wc,"\u0275\u0275textInterpolateV":Qc,"\u0275\u0275embeddedViewStart":Pu,"\u0275\u0275embeddedViewEnd":Fu,"\u0275\u0275i18n":Lp,"\u0275\u0275i18nAttributes":Bp,"\u0275\u0275i18nExp":qp,"\u0275\u0275i18nStart":Tp,"\u0275\u0275i18nEnd":kp,"\u0275\u0275i18nApply":zp,"\u0275\u0275i18nPostprocess":Rp,"\u0275\u0275resolveWindow":Sn,"\u0275\u0275resolveDocument":Nn,"\u0275\u0275resolveBody":An,"\u0275\u0275setComponentScope":Le,"\u0275\u0275setNgModuleScope":ze,"\u0275\u0275sanitizeHtml":$r,"\u0275\u0275sanitizeStyle":Wr,"\u0275\u0275defaultStyleSanitizer":Jr,"\u0275\u0275sanitizeResourceUrl":Gr,"\u0275\u0275sanitizeScript":Kr,"\u0275\u0275sanitizeUrl":Qr,"\u0275\u0275sanitizeUrlOrResourceUrl":Yr}))();let eg=null;function tg(){eg=null}const ng=[],rg=[];let ig=!1;function og(){if(!ig){ig=!0;try{for(let e=rg.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=rg[e];n.declarations&&n.declarations.every(sg)&&(rg.splice(e,1),dg(t,n))}}finally{ig=!1}}}function sg(e){return Array.isArray(e)?e.every(sg):!!U(e)}function ag(e,t={}){ug(e,t),function(e,t){rg.push({moduleType:e,ngModule:t})}(e,t)}function ug(e,t,n=!1){const r=xe(t.declarations||ng);let i=null;Object.defineProperty(e,J,{configurable:!0,get:()=>(null===i&&(i=G().compileNgModule(Xm,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:xe(t.bootstrap||ng).map(U),declarations:r.map(U),imports:xe(t.imports||ng).map(U).map(mg),exports:xe(t.exports||ng).map(U).map(mg),schemas:t.schemas?xe(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(e,M,{get:()=>{if(null===o){const n={name:e.name,type:e,deps:Is(e),providers:t.providers||ng,imports:[(t.imports||ng).map(U),(t.exports||ng).map(U)]};o=G().compileInjector(Xm,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}let cg=new Map,lg=new Map;function hg(){cg=new Map,lg=new Map,rg.length=0}function dg(e,t){const n=xe(t.declarations||ng),r=pg(e);n.forEach(t=>{t.hasOwnProperty(K)?fg(Qe(t),r):t.hasOwnProperty(Z)||t.hasOwnProperty(Y)||(t.ngSelectorScope=e)})}function fg(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map(e=>e.hasOwnProperty(K)?Qe(e):Ge(e)).filter(e=>!!e),e.pipeDefs=()=>Array.from(t.compilation.pipes).map(e=>Ke(e)),e.schemas=t.schemas,e.tView=null}function pg(e){if(!gg(e))throw new Error(e.name+" does not have a module def (\u0275mod property)");const t=Ye(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Tn(t.imports).forEach(e=>{const t=e;if(!gg(t))throw new Error(`Importing ${t.name} which does not have a \u0275mod property`);const r=pg(t);r.exported.directives.forEach(e=>n.compilation.directives.add(e)),r.exported.pipes.forEach(e=>n.compilation.pipes.add(e))}),Tn(t.declarations).forEach(e=>{Ke(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)}),Tn(t.exports).forEach(e=>{const t=e;if(gg(t)){const e=pg(t);e.exported.directives.forEach(e=>{n.compilation.directives.add(e),n.exported.directives.add(e)}),e.exported.pipes.forEach(e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)})}else Ke(t)?n.exported.pipes.add(t):n.exported.directives.add(t)}),t.transitiveCompileScopes=n,n}function mg(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function gg(e){return!!Ye(e)}function yg(e,t){let n=null;!function(e,t){ka(t)&&(Ma.set(e,t),Ra.add(e))}(e,t),wg(e,t),Object.defineProperty(e,K,{get:()=>{if(null===n){const r=G();if(ka(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(" - templateUrl: "+t.templateUrl),t.styleUrls&&t.styleUrls.length&&n.push(" - styleUrls: "+JSON.stringify(t.styleUrls)),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=eg;let o=t.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:Re.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,u=Object.assign(Object.assign({},xg(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:o,styles:t.styles||Pe,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(u.usesInheritance&&Eg(e),n=r.compileComponent(Xm,a,u),og(),void 0!==e.ngSelectorScope){const t=pg(e.ngSelectorScope);fg(n,t)}}return n},configurable:!1})}function vg(e,t){let n=null;wg(e,t||{}),Object.defineProperty(e,Z,{get:()=>{if(null===n){const r=bg(e,t||{});n=G().compileDirective(Xm,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function bg(e,t){const n=e&&e.name,r=`ng:///${n}/\u0275dir.js`,i=G(),o=xg(e,t);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&Eg(e),{metadata:o,sourceMapUrl:r}}function wg(e,t){let n=null;Object.defineProperty(e,ee,{get:()=>{if(null===n){const r=bg(e,t),i=G();n=i.compileFactory(Xm,`ng:///${e.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function _g(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function xg(e,t){const n=Os(),r=n.ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:void 0!==t.selector?t.selector:null,deps:Is(e),host:t.host||ke,propMetadata:r,inputs:t.inputs||Pe,outputs:t.outputs||Pe,queries:Sg(e,r,Ng),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!_g(e),exportAs:(i=t.exportAs,void 0===i?null:Dg(i)),providers:t.providers||null,viewQueries:Sg(e,r,Ag)};var i}function Eg(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)Ge(n)||Qe(n)||!Ig(n)||vg(n,null),n=Object.getPrototypeOf(n)}function Cg(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Dg(n):U(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}function Sg(e,t,n){const r=[];for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];o.forEach(t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${i}" of "${En(e)}" since the query selector wasn't defined.`);if(o.some(Tg))throw new Error("Cannot combine @Input decorators with query decorators");r.push(Cg(i,t))}})}return r}function Ng(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Ag(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Tg(e){return"Input"===e.ngMetadataName}function Dg(e){return e.split(",").map(e=>e.trim())}const Og=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Ig(e){const t=Os();if(Og.some(n=>t.hasLifecycleHook(e,n)))return!0;const n=t.propMetadata(e);for(const r in n){const e=n[r];for(let t=0;t<e.length;t++){const n=e[t],r=n.ngMetadataName;if(Tg(n)||Ng(n)||Ag(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Mg(e,t){let n=null,r=null;Object.defineProperty(e,ee,{get:()=>{if(null===r){const n=Rg(e,t),i=G();r=i.compileFactory(Xm,`ng:///${n.name}/\u0275fac.js`,Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(e,Y,{get:()=>{if(null===n){const r=Rg(e,t);n=G().compilePipe(Xm,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})}function Rg(e,t){return{type:e,typeArgumentCount:0,name:e.name,deps:Is(e),pipeName:t.name,pure:void 0===t.pure||t.pure}}const kg=d("Directive",(e={})=>e,void 0,void 0,(e,t)=>$g(e,t)),Pg=d("Component",(e={})=>Object.assign({changeDetection:Oe.Default},e),kg,void 0,(e,t)=>Hg(e,t)),Fg=d("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>Wg(e,t)),jg=m("Input",e=>({bindingPropertyName:e})),Lg=m("Output",e=>({bindingPropertyName:e})),Bg=m("HostBinding",e=>({hostPropertyName:e})),Ug=m("HostListener",(e,t)=>({eventName:e,args:t})),Vg=yg,qg=vg,zg=Mg,Hg=Vg,$g=qg,Wg=zg,Qg=d("NgModule",e=>e,void 0,void 0,(e,t)=>Kg(e,t)),Gg=ag,Kg=Gg,Zg=new ne("Application Initializer");let Yg=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Lu(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(de(Zg,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const Jg=new ne("AppId");function Xg(){return`${ty()}${ty()}${ty()}`}const ey={provide:Jg,useFactory:Xg,deps:[]};function ty(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ny=new ne("Platform Initializer"),ry=new ne("Platform ID"),iy=new ne("appBootstrapListener"),oy=new ne("Application Packages Root URL");let sy=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const ay=new ne("LocaleId"),uy=new ne("DefaultCurrencyCode"),cy=new ne("Translations"),ly=new ne("TranslationsFormat"),hy=function(){var e={Error:0,Warning:1,Ignore:2};return e[e.Error]="Error",e[e.Warning]="Warning",e[e.Ignore]="Ignore",e}(),dy=!0,fy=dy;class py{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const my=function(e){return new im(e)},gy=my,yy=function(e){return Promise.resolve(my(e))},vy=yy,by=function(e){const t=my(e),n=Tn(Ye(e).declarations).reduce((e,t)=>{const n=Qe(t);return n&&e.push(new Qf(n)),e},[]);return new py(t,n)},wy=by,_y=function(e){return Promise.resolve(by(e))},xy=_y;let Ey=(()=>{class e{constructor(){this.compileModuleSync=gy,this.compileModuleAsync=vy,this.compileModuleAndAllComponentsSync=wy,this.compileModuleAndAllComponentsAsync=xy}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const Cy=new ne("compilerOptions");class Sy{}const Ny=(()=>Promise.resolve(0))();function Ay(e){"undefined"==typeof Zone?Ny.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ty{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dm(!1),this.onMicrotaskEmpty=new Dm(!1),this.onStable=new Dm(!1),this.onError=new Dm(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=W.requestAnimationFrame,t=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(W,()=>{e.lastRequestAnimationFrameId=-1,My(e),Iy(e)}),My(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ry(e),n.invokeTask(i,o,s,a)}finally{t&&"eventTask"===o.type&&t(),ky(e)}},onInvoke:(t,n,r,i,o,s,a)=>{try{return Ry(e),t.invoke(r,i,o,s,a)}finally{ky(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,My(e),Iy(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ty.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ty.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Oy,Dy,Dy);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Dy(){}const Oy={};function Iy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function My(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Ry(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ky(e){e._nesting--,Iy(e)}class Py{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dm,this.onMicrotaskEmpty=new Dm,this.onStable=new Dm,this.onError=new Dm}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Fy=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ty.assertNotInAngularZone(),Ay(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ay(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(de(Ty))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})(),jy=(()=>{class e{constructor(){this._applications=new Map,Vy.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Vy.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();class Ly{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function By(e){Vy=e}let Uy,Vy=new Ly,qy=zy;function zy(e,t,n){const r=e.get(Cy,[]).concat(t),i=new im(n);if(0===Ma.size)return Promise.resolve(i);const o=function(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}(r.map(e=>e.providers));if(0===o.length)return Promise.resolve(i);const s=G(),a=na.create({providers:o}).get(s.ResourceLoader);return Ia(e=>Promise.resolve(a.get(e))).then(()=>i)}let Hy=$y;function $y(e){return e.isBoundToModule}const Wy=new ne("AllowMultipleToken");class Qy{constructor(e,t){this.name=e,this.token=t}}function Gy(e){if(Uy&&!Uy.destroyed&&!Uy.injector.get(Wy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Uy=e.get(Xy);const t=e.get(ny,null);return t&&t.forEach(e=>e()),Uy}function Ky(e,t,n=[]){const r="Platform: "+t,i=new ne(r);return(t=[])=>{let o=Jy();if(!o||o.injector.get(Wy,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:Us,useValue:"platform"});Gy(na.create({providers:e,name:r}))}return Zy(i)}}function Zy(e){const t=Jy();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function Yy(){Uy&&!Uy.destroyed&&Uy.destroy()}function Jy(){return Uy&&!Uy.destroyed?Uy:null}let Xy=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Py:("zone.js"===e?void 0:e)||new Ty({enableLongStackTrace:gr(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),r=[{provide:Ty,useValue:n}];return n.run(()=>{const t=na.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(Yn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>nv(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const r=n();return Lu(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Yg);return e.runInitializers(),e.donePromise.then(()=>(fy&&Zp(i.injector.get(ay,op)||op),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=ev({},t);return qy(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(tv);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${F(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(de(na))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function ev(e,t){return Array.isArray(t)?t.reduce(ev,e):Object.assign(Object.assign({},e),t)}let tv=(()=>{class e{constructor(e,t,n,r,i,u){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=gr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),l=new o.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Ty.assertNotInAngularZone(),Ay(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ty.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof dh?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=Hy(n)?void 0:this._injector.get(be),i=n.create(na.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Fy,null);return o&&i.injector.get(jy).registerApplication(i.location.nativeElement,o),this._loadComponent(i),gr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;nv(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(iy,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),nv(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(de(Ty),de(sy),de(na),de(Yn),de(gh),de(Yg))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function nv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class rv{}function iv(e){const t=nm(e);if(!t)throw av(e);return t}function ov(e){const t=nm(e);if(!t)throw av(e);return new im(t)}const sv=ov;function av(e){return new Error(`No module with ID ${e} loaded`)}class uv{}const cv={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let lv=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||cv}load(e){return!fy&&this._compiler instanceof Ey?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>hv(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>hv(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(de(Ey),de(uv,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function hv(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class dv extends ys{}class fv extends dv{}class pv{constructor(e,t){this.name=e,this.callback=t}}class mv{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof gv&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class gv extends mv{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof gv&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof gv&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof gv&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof gv)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}function yv(e){return e.map(e=>e.nativeElement)}class vv{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new bv(e):null}get injector(){return Al(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(El(e)||Sl(e))}get context(){return El(this.nativeNode)||Cl(this.nativeNode)}get listeners(){return Il(this.nativeNode).filter(e=>"dom"===e.type)}get references(){return function(e){const t=Dl(e,!1);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[1].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)t[n.localNames[i]]=e[r],r++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=Dl(e,!1);if(null===t)return[];const n=t.lView[1],r=n.data[t.nodeIndex],i=[],o=r.directiveEnd;for(let a=65535&r.providerIndexes;a<o;a++){let e=n.data[a];void 0!==(s=e).type&&void 0!==s.template&&void 0!==s.declaredInputs&&(e=e.type),i.push(e)}var s;return i}(this.nativeNode)}}class bv extends vv{constructor(e){super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){try{const e=Dl(this.nativeNode);return e.lView[1].data[e.nodeIndex].tagName}catch(e){return this.nativeNode.nodeName}}get properties(){const e=Dl(this.nativeNode,!1);if(null==e)return{};const t=e.lView,n=t[1].data,r=n[e.nodeIndex],i={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=e[n];wv(r)&&(t[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,i),function(e,t,n,r){let i=t.propertyBindings;if(null!==i)for(let o=0;o<i.length;o++){const t=i[o],s=r[t].split("\ufffd"),a=s[0];if(s.length>1){let r=s[1];for(let e=1;e<s.length-1;e++)r+=xn(n[t+e-1])+s[e+1];e[a]=r}else e[a]=n[t]}}(i,r,t,n),i}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=Dl(t,!1);if(null==n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r){let t=0;for(;t<r.length;){const n=r[t];if("string"!=typeof n)break;e[n]=r[t+1],i.push(n.toLowerCase()),t+=2}}const o=t.attributes;for(let s=0;s<o.length;s++){const t=o[s],n=t.name.toLowerCase();-1===i.indexOf(n)&&(e[n]=t.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return(t&&"string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach(t=>e[t]=!0),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++)t.push(Av(e[n]));return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let r=0;r<t.length;r++)n.push(Av(t[r]));return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return _v(this,e,t,!0),t}queryAllNodes(e){const t=[];return _v(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,r=[];this.listeners.forEach(i=>{if(i.name===e){const e=i.callback;e.call(n,t),r.push(e)}}),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach(e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const i=e("__ngUnwrap__");return-1===r.indexOf(i)&&i.call(n,t)}})}}function wv(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function _v(e,t,n,r){const i=Dl(e.nativeNode,!1);null!==i?xv(i.lView[1].data[i.nodeIndex],i.lView,t,n,r,e.nativeNode):Sv(e.nativeNode,t,n,r)}function xv(e,t,n,r,i,o){const s=ft(e,t);if(3===e.type||4===e.type){if(Cv(s,n,r,i,o),tt(e)){const s=gt(e.index,t);s&&s[1].firstChild&&xv(s[1].firstChild,s,n,r,i,o)}else e.child&&xv(e.child,t,n,r,i,o),s&&Sv(s,n,r,i);const a=t[e.index];Xe(a)&&Ev(a,n,r,i,o)}else if(0===e.type){const s=t[e.index];Cv(s[7],n,r,i,o),Ev(s,n,r,i,o)}else if(1===e.type){const s=t[16],a=s[6].projection[e.projection];if(Array.isArray(a))for(let e of a)Cv(e,n,r,i,o);else if(a){const e=s[3];xv(e[1].data[a.index],e,n,r,i,o)}}else e.child&&xv(e.child,t,n,r,i,o);if(o!==s){const s=4&e.flags?e.projectionNext:e.next;s&&xv(s,t,n,r,i,o)}}function Ev(e,t,n,r,i){for(let o=9;o<e.length;o++){const s=e[o];xv(s[1].node,s,t,n,r,i)}}function Cv(e,t,n,r,i){if(i!==e){const i=Tv(e);if(!i)return;(r&&i instanceof bv&&t(i)&&-1===n.indexOf(i)||!r&&t(i)&&-1===n.indexOf(i))&&n.push(i)}}function Sv(e,t,n,r){const i=e.childNodes,o=i.length;for(let s=0;s<o;s++){const e=i[s],o=Tv(e);o&&((r&&o instanceof bv&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o),Sv(e,t,n,r))}}const Nv=new Map;function Av(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new bv(e):new vv(e)),e.__ng_debug__):null}const Tv=Av;function Dv(e){return function(e){return Nv.get(e)||null}(e)}const Ov=function(e){return null};function Iv(e){Nv.set(e.nativeNode,e)}const Mv=vv,Rv=bv,kv=Ky(null,"core",[{provide:ry,useValue:"unknown"},{provide:Xy,deps:[na]},{provide:jy,deps:[]},{provide:sy,deps:[]}]);function Pv(){return zh}function Fv(){return Hh}function jv(e){return e=e||fy&&"undefined"!=typeof $localize&&$localize.locale||op,fy&&Zp(e),e}const Lv=sp,Bv=[{provide:tv,useClass:tv,deps:[Ty,sy,na,Yn,gh,Yg]},{provide:Wf,deps:[Ty],useFactory:Uv},{provide:Yg,useClass:Yg,deps:[[new y,Zg]]},{provide:Ey,useClass:Ey,deps:[]},ey,{provide:Uh,useFactory:Pv,deps:[]},{provide:Vh,useFactory:Fv,deps:[]},{provide:ay,useFactory:jv,deps:[[new g(ay),new y,new b]]},{provide:uy,useValue:Lv}];function Uv(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}let Vv=(()=>{class e{constructor(e){}}return e.\u0275mod=qe({type:e}),e.\u0275inj=A({factory:function(t){return new(t||e)(de(tv))},providers:Bv}),e})();function qv(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=Td(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Md(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||cd},provider:null,text:null,query:null,ngContent:null}}function zv(e,t,n,r,i,o,s=[],a,u,c,l,h){c||(c=cd);const{matchedQueries:d,references:f,matchedQueryIds:p}=Td(n);let m=null,g=null;o&&([m,g]=Bd(o)),a=a||[];const y=[];for(let w=0;w<a.length;w++){const[e,t,n]=a[w],[r,i]=Bd(t);let o=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}y[w]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const v=[];for(let w=0;w<u.length;w++){const[e,t]=u[w];v[w]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,r]=Bd(e);return[n,r,t]});return h=function(e){if(e&&"$$undefined"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==Re.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+pd++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(h),l&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Ud(y),outputs:v,element:{ns:m,name:g,attrs:b,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||cd},provider:null,text:null,query:null,ngContent:null}}function Hv(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Od(e,t,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Re.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function $v(e,t,n,r){for(let i=0;i<n.outputs.length;i++){const o=n.outputs[i],s=Wv(e,n.nodeIndex,Cd(o.target,o.eventName));let a=o.target,u=e;"component"===o.target&&(a=null,u=t);const c=u.renderer.listen(a||r,o.eventName,s);e.disposables[n.outputIndex+i]=c}}function Wv(e,t,n){return r=>wd(e,t,n,r)}function Qv(e,t,n,r){if(!gd(e,t,n,r))return!1;const i=t.bindings[n],o=rd(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=e.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(Vr.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function Gv(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Ad(t),bindings:r},ngContent:null}}function Kv(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Nd(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&sd(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&sd(e,n).setDirty(),n+=t.childCount}}function Zv(e,t){const n=sd(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=Yv(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=id(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Yv(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function Yv(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(Jv(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=rd(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Yv(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=_d(o);s&&s===n&&Yv(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];Yv(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function Jv(e,t,n){if(null!=n)switch(n){case 1:return rd(e,t.nodeIndex).renderElement;case 0:return new bh(rd(e,t.nodeIndex).renderElement);case 2:return rd(e,t.nodeIndex).template;case 3:return rd(e,t.nodeIndex).viewContainer;case 4:return id(e,t.nodeIndex).instance}}function Xv(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function eb(e,t,n){const r=Od(e,t,n);r&&Pd(e,n.ngContent.index,1,r,null,void 0)}function tb(e,t){return ib(128,e,Ne(t+1))}function nb(e,t){return ib(32,e,Ne(t))}function rb(e,t){const n=Object.keys(t),r=n.length,i=[];for(let o=0;o<r;o++)i.push(n[o]);return ib(64,e,i)}function ib(e,t,n){const r=[];for(let i=0;i<n.length;i++){const e=n[i];r.push({flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Ud(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ob(e,t,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function sb(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=Od(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function ab(e,t){return(null!=e?e.toString():"")+t.suffix}function ub(e,t,n,r){let i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,d=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=c,e.bindingIndex=i,e.outputIndex=o,e.renderParent=l,s|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(lb(c,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!l&&3&e.flags&&(f=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?c.element.publicProviders[hd(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[hd(e.provider.token)]=e),t&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,cb(e)||(l=e);else for(;c&&p===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),c=e,l=c&&cb(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||cd,updateRenderer:r||cd,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function cb(e){return 0!=(1&e.flags)&&null===e.element.name}function lb(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function hb(e,t,n,r){const i=pb(e.root,e.renderer,e,t,n);return mb(i,e.component,r),gb(i),i}function db(e,t,n){const r=pb(e,e.renderer,null,null,t);return mb(r,n,n),gb(r),r}function fb(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,pb(e.root,o,e,t.element.componentProvider,n)}function pb(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function mb(e,t,n){e.component=t,e.context=n}function gb(e){let t;Sd(e)&&(t=rd(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(ud.setCurrentNode(e,i),201347067&o.flags){case 1:const n=Hv(e,t,o);let a=void 0;if(33554432&o.flags){const t=Md(o.element.componentView);a=ud.createComponentView(e,o,t,n)}$v(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?ff(e,o):void 0},16777216&o.flags&&(s.viewContainer=cf(e,o,s));break;case 2:s=sb(e,t,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:If(e,o)});break;case 16:s={instance:Mf(e,o)};break;case 16384:s=r[i],s||(s={instance:Rf(e,o)}),32768&o.flags&&mb(rd(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Im;break;case 8:eb(e,t,o),s=void 0}r[i]=s}Sb(e,Cb.CreateViewNodes),Db(e,201326592,268435456,0)}function yb(e){wb(e),ud.updateDirectives(e,1),Nb(e,Cb.CheckNoChanges),ud.updateRenderer(e,1),Sb(e,Cb.CheckNoChanges),e.state&=-97}function vb(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,ed(e,0,256),wb(e),ud.updateDirectives(e,0),Nb(e,Cb.CheckAndUpdate),Db(e,67108864,536870912,0);let t=ed(e,256,512);Vf(e,2097152|(t?1048576:0)),ud.updateRenderer(e,0),Sb(e,Cb.CheckAndUpdate),Db(e,134217728,536870912,0),t=ed(e,512,768),Vf(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,ed(e,768,1024)}function bb(e,t,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,c,l,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings.length;let f=!1;return d>0&&Qv(e,t,0,n)&&(f=!0),d>1&&Qv(e,t,1,r)&&(f=!0),d>2&&Qv(e,t,2,i)&&(f=!0),d>3&&Qv(e,t,3,o)&&(f=!0),d>4&&Qv(e,t,4,s)&&(f=!0),d>5&&Qv(e,t,5,a)&&(f=!0),d>6&&Qv(e,t,6,u)&&(f=!0),d>7&&Qv(e,t,7,c)&&(f=!0),d>8&&Qv(e,t,8,l)&&(f=!0),d>9&&Qv(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,o,s,a,u,c,l,h);case 2:return function(e,t,n,r,i,o,s,a,u,c,l,h){let d=!1;const f=t.bindings,p=f.length;if(p>0&&gd(e,t,0,n)&&(d=!0),p>1&&gd(e,t,1,r)&&(d=!0),p>2&&gd(e,t,2,i)&&(d=!0),p>3&&gd(e,t,3,o)&&(d=!0),p>4&&gd(e,t,4,s)&&(d=!0),p>5&&gd(e,t,5,a)&&(d=!0),p>6&&gd(e,t,6,u)&&(d=!0),p>7&&gd(e,t,7,c)&&(d=!0),p>8&&gd(e,t,8,l)&&(d=!0),p>9&&gd(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;p>0&&(d+=ab(n,f[0])),p>1&&(d+=ab(r,f[1])),p>2&&(d+=ab(i,f[2])),p>3&&(d+=ab(o,f[3])),p>4&&(d+=ab(s,f[4])),p>5&&(d+=ab(a,f[5])),p>6&&(d+=ab(u,f[6])),p>7&&(d+=ab(c,f[7])),p>8&&(d+=ab(l,f[8])),p>9&&(d+=ab(h,f[9]));const m=nd(e,t.nodeIndex).renderText;e.renderer.setValue(m,d)}return d}(e,t,n,r,i,o,s,a,u,c,l,h);case 16384:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=id(e,t.nodeIndex),f=d.instance;let p=!1,m=void 0;const g=t.bindings.length;return g>0&&md(e,t,0,n)&&(p=!0,m=Uf(e,d,t,0,n,m)),g>1&&md(e,t,1,r)&&(p=!0,m=Uf(e,d,t,1,r,m)),g>2&&md(e,t,2,i)&&(p=!0,m=Uf(e,d,t,2,i,m)),g>3&&md(e,t,3,o)&&(p=!0,m=Uf(e,d,t,3,o,m)),g>4&&md(e,t,4,s)&&(p=!0,m=Uf(e,d,t,4,s,m)),g>5&&md(e,t,5,a)&&(p=!0,m=Uf(e,d,t,5,a,m)),g>6&&md(e,t,6,u)&&(p=!0,m=Uf(e,d,t,6,u,m)),g>7&&md(e,t,7,c)&&(p=!0,m=Uf(e,d,t,7,c,m)),g>8&&md(e,t,8,l)&&(p=!0,m=Uf(e,d,t,8,l,m)),g>9&&md(e,t,9,h)&&(p=!0,m=Uf(e,d,t,9,h,m)),m&&f.ngOnChanges(m),65536&t.flags&&td(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings;let f=!1;const p=d.length;if(p>0&&gd(e,t,0,n)&&(f=!0),p>1&&gd(e,t,1,r)&&(f=!0),p>2&&gd(e,t,2,i)&&(f=!0),p>3&&gd(e,t,3,o)&&(f=!0),p>4&&gd(e,t,4,s)&&(f=!0),p>5&&gd(e,t,5,a)&&(f=!0),p>6&&gd(e,t,6,u)&&(f=!0),p>7&&gd(e,t,7,c)&&(f=!0),p>8&&gd(e,t,8,l)&&(f=!0),p>9&&gd(e,t,9,h)&&(f=!0),f){const f=od(e,t.nodeIndex);let m;switch(201347067&t.flags){case 32:m=[],p>0&&m.push(n),p>1&&m.push(r),p>2&&m.push(i),p>3&&m.push(o),p>4&&m.push(s),p>5&&m.push(a),p>6&&m.push(u),p>7&&m.push(c),p>8&&m.push(l),p>9&&m.push(h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=r),p>2&&(m[d[2].name]=i),p>3&&(m[d[3].name]=o),p>4&&(m[d[4].name]=s),p>5&&(m[d[5].name]=a),p>6&&(m[d[6].name]=u),p>7&&(m[d[7].name]=c),p>8&&(m[d[8].name]=l),p>9&&(m[d[9].name]=h);break;case 128:const e=n;switch(p){case 1:m=e.transform(n);break;case 2:m=e.transform(r);break;case 3:m=e.transform(r,i);break;case 4:m=e.transform(r,i,o);break;case 5:m=e.transform(r,i,o,s);break;case 6:m=e.transform(r,i,o,s,a);break;case 7:m=e.transform(r,i,o,s,a,u);break;case 8:m=e.transform(r,i,o,s,a,u,c);break;case 9:m=e.transform(r,i,o,s,a,u,c,l);break;case 10:m=e.transform(r,i,o,s,a,u,c,l,h)}}f.value=m}return f}(e,t,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,u,c,l,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Qv(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)gd(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=ab(n[e],r[e]);i=t.text.prefix+i;const o=nd(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=id(e,t.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)md(e,t,a,n[a])&&(o=!0,s=Uf(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&td(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)gd(e,t,o,n[o])&&(i=!0);if(i){const i=od(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);o=e.transform(...t)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function wb(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=rd(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,bd(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function _b(e,t,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings.length;d>0&&yd(e,t,0,n),d>1&&yd(e,t,1,r),d>2&&yd(e,t,2,i),d>3&&yd(e,t,3,o),d>4&&yd(e,t,4,s),d>5&&yd(e,t,5,a),d>6&&yd(e,t,6,u),d>7&&yd(e,t,7,c),d>8&&yd(e,t,8,l),d>9&&yd(e,t,9,h)}(e,t,r,i,o,s,a,u,c,l,h,d):function(e,t,n){for(let r=0;r<n.length;r++)yd(e,t,r,n[r])}(e,t,r),!1}function xb(e,t){if(sd(e,t.nodeIndex).dirty)throw Yh(ud.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Eb(e){if(!(128&e.state)){if(Nb(e,Cb.Destroy),Sb(e,Cb.Destroy),Vf(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=_d(e);if(t){const n=t.template._projectedViews;n&&(Se(n,n.indexOf(e)),ud.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(rd(e,n).renderElement):2&t.flags?e.renderer.destroyNode(nd(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&sd(e,n).destroy()}}(e),Sd(e)&&e.renderer.destroy(),e.state|=128}}const Cb=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Sb(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Ab(rd(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Nb(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=rd(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Ab(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ab(e,t){const n=e.state;switch(t){case Cb.CheckNoChanges:0==(128&n)&&(12==(12&n)?yb(e):64&n&&Tb(e,Cb.CheckNoChangesProjectedViews));break;case Cb.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?yb(e):64&n&&Tb(e,t));break;case Cb.CheckAndUpdate:0==(128&n)&&(12==(12&n)?vb(e):64&n&&Tb(e,Cb.CheckAndUpdateProjectedViews));break;case Cb.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?vb(e):64&n&&Tb(e,t));break;case Cb.Destroy:Eb(e);break;case Cb.CreateViewNodes:gb(e)}}function Tb(e,t){Nb(e,t),Sb(e,t)}function Db(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(ud.setCurrentNode(e,i.nodeIndex),r){case 0:Zv(e,i);break;case 1:xb(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let Ob=!1;function Ib(){if(Ob)return;Ob=!0;const e=gr()?{setCurrentNode:ew,createRootView:Rb,createEmbeddedView:Pb,createComponentView:Fb,createNgModuleRef:jb,overrideProvider:Vb,overrideComponentView:qb,clearOverrides:zb,checkAndUpdateView:Qb,checkNoChangesView:Gb,destroyView:Kb,createDebugContext:(e,t)=>new uw(e,t),handleEvent:tw,updateDirectives:nw,updateRenderer:rw}:{setCurrentNode:()=>{},createRootView:Mb,createEmbeddedView:hb,createComponentView:fb,createNgModuleRef:vf,overrideProvider:cd,overrideComponentView:cd,clearOverrides:cd,checkAndUpdateView:vb,checkNoChangesView:yb,destroyView:Eb,createDebugContext:(e,t)=>new uw(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?$b:Wb,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?$b:Wb,e)};ud.setCurrentNode=e.setCurrentNode,ud.createRootView=e.createRootView,ud.createEmbeddedView=e.createEmbeddedView,ud.createComponentView=e.createComponentView,ud.createNgModuleRef=e.createNgModuleRef,ud.overrideProvider=e.overrideProvider,ud.overrideComponentView=e.overrideComponentView,ud.clearOverrides=e.clearOverrides,ud.checkAndUpdateView=e.checkAndUpdateView,ud.checkNoChangesView=e.checkNoChangesView,ud.destroyView=e.destroyView,ud.resolveDep=Lf,ud.createDebugContext=e.createDebugContext,ud.handleEvent=e.handleEvent,ud.updateDirectives=e.updateDirectives,ud.updateRenderer=e.updateRenderer,ud.dirtyParentQueries=Kv}function Mb(e,t,n,r,i,o){const s=i.injector.get(xh);return db(kb(e,i,s,t,n),r,o)}function Rb(e,t,n,r,i,o){const s=i.injector.get(xh),a=kb(e,i,new dw(s),t,n),u=Hb(r);return lw(Zb.create,db,null,[a,u,o])}function kb(e,t,n,r,i){const o=t.injector.get(Ah),s=t.injector.get(Yn),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Pb(e,t,n,r){const i=Hb(n);return lw(Zb.create,hb,null,[e,t,i,r])}function Fb(e,t,n,r){return n=Ub.get(t.element.componentProvider.provider.token)||Hb(n),lw(Zb.create,fb,null,[e,t,n,r])}function jb(e,t,n,r){return vf(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Lb.size||(e.providers.forEach(e=>{const r=Lb.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Bb.forEach((r,i)=>{T(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=Lb.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Dd(i.deps),r.value=i.value)}if(Bb.size>0){let t=new Set(e.modules);Bb.forEach((r,i)=>{if(t.has(T(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:Dd(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[hd(i)]=t}})}}(e=e.factory(()=>cd)),e):e}(r))}const Lb=new Map,Bb=new Map,Ub=new Map;function Vb(e){let t;Lb.set(e.token,e),"function"==typeof e.token&&(t=T(e.token))&&"function"==typeof t.providedIn&&Bb.set(e.token,e)}function qb(e,t){const n=Md(sf(t)),r=Md(n.nodes[0].element.componentView);Ub.set(e,r)}function zb(){Lb.clear(),Bb.clear(),Ub.clear()}function Hb(e){if(0===Lb.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Lb.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>cd);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Lb.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Dd(n.deps),e.value=n.value)}}}}function $b(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=e.def.nodes[t];return bb(e,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?od(e,t).value:void 0}function Wb(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=e.def.nodes[t];return _b(e,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?od(e,t).value:void 0}function Qb(e){return lw(Zb.detectChanges,vb,null,[e])}function Gb(e){return lw(Zb.checkNoChanges,yb,null,[e])}function Kb(e){return lw(Zb.destroy,Eb,null,[e])}const Zb=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Yb,Jb,Xb;function ew(e,t){Jb=e,Xb=t}function tw(e,t,n,r){return ew(e,t),lw(Zb.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function nw(e,t){if(128&e.state)throw Xh(Zb[Yb]);return ew(e,sw(e,0)),e.def.updateDirectives((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?iw(e,o,r,i):ow(e,o,r,i),16384&o.flags&&ew(e,sw(e,n)),224&o.flags?od(e,o.nodeIndex).value:void 0}),e)}function rw(e,t){if(128&e.state)throw Xh(Zb[Yb]);return ew(e,aw(e,0)),e.def.updateRenderer((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?iw(e,o,r,i):ow(e,o,r,i),3&o.flags&&ew(e,aw(e,n)),224&o.flags?od(e,o.nodeIndex).value:void 0}),e)}function iw(e,t,n,r){if(bb(e,t,n,...r)){const i=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],o=i[e];8&r.flags&&(n[ti(r.nonMinifiedName)]=ri(o))}const r=t.parent,o=rd(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(o,t,r):e.renderer.removeAttribute(o,t)}else e.renderer.setValue(o,"bindings="+JSON.stringify(n,null,2))}}}function ow(e,t,n,r){_b(e,t,n,...r)}function sw(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function aw(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class uw{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=xd(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return rd(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return mf(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){cw(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&cw(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Sd(e);)e=e.parent;return e.parent?rd(e.parent,xd(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ed(this.view,this.nodeDef):Ed(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?e.error.bind(e,...t):cd)),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function cw(e,t,n){for(let r in t.references)n[r]=Jv(e,t,t.references[r])}function lw(e,t,n,r){const i=Yb,o=Jb,s=Xb;try{Yb=e;const a=t.apply(n,r);return Jb=o,Xb=s,Yb=i,a}catch(a){if(Gn(a)||!Jb)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Jh(e,t),e}(a,hw())}}function hw(){return Jb?new uw(Jb,Xb):null}class dw{constructor(e){this.delegate=e}createRenderer(e,t){return new fw(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class fw{constructor(e){this.delegate=e,this.debugContextFactory=hw,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Tv(e);!function(e){Nv.delete(e.nativeNode)}(t),t instanceof mv&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new gv(n,null,r);t.name=e,Iv(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Iv(new mv(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Iv(new mv(t,null,n)),t}appendChild(e,t){const n=Tv(e),r=Tv(t);n&&r&&n instanceof gv&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=Tv(e),i=Tv(t),o=Tv(n);r&&i&&r instanceof gv&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Tv(e),r=Tv(t);n&&r&&n instanceof gv&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=hw();return r&&Iv(new gv(n,null,r)),n}setAttribute(e,t,n,r){const i=Tv(e);i&&i instanceof gv&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Tv(e);r&&r instanceof gv&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Tv(e);n&&n instanceof gv&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Tv(e);n&&n instanceof gv&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Tv(e);i&&i instanceof gv&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Tv(e);r&&r instanceof gv&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Tv(e);r&&r instanceof gv&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Tv(e);r&&r.listeners.push(new pv(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function pw(e){return Ib(),ud.overrideProvider(e)}function mw(e,t){return Ib(),ud.overrideComponentView(e,t)}function gw(){return Ib(),ud.clearOverrides()}function yw(e,t,n){return new vw(e,t,n)}class vw extends we{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){Ib();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,scope:e.scope,providers:t,modules:n,providersByKey:r}}(Md(this._ngModuleDefFactory));return ud.createNgModuleRef(this.moduleType,e||na.NULL,this._bootstrapComponents,t)}}},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(e){},error(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete(){}}},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a(n=>{const r=new i.a;let o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}class o{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends r.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},mAIw:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return x})),n.d(t,"__importDefault",(function(){return E})),n.d(t,"__classPrivateFieldGet",(function(){return C})),n.d(t,"__classPrivateFieldSet",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(...e){return o(e)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},ofXK:function(e,t,n){"use strict";n.r(t),n.d(t,"APP_BASE_HREF",(function(){return w})),n.d(t,"AsyncPipe",(function(){return et})),n.d(t,"CommonModule",(function(){return bt})),n.d(t,"CurrencyPipe",(function(){return pt})),n.d(t,"DOCUMENT",(function(){return u})),n.d(t,"DatePipe",(function(){return ot})),n.d(t,"DecimalPipe",(function(){return dt})),n.d(t,"FormStyle",(function(){return D})),n.d(t,"FormatWidth",(function(){return I})),n.d(t,"HashLocationStrategy",(function(){return x})),n.d(t,"I18nPluralPipe",(function(){return at})),n.d(t,"I18nSelectPipe",(function(){return ut})),n.d(t,"JsonPipe",(function(){return ct})),n.d(t,"KeyValuePipe",(function(){return lt})),n.d(t,"LOCATION_INITIALIZED",(function(){return h})),n.d(t,"Location",(function(){return E})),n.d(t,"LocationStrategy",(function(){return v})),n.d(t,"LowerCasePipe",(function(){return tt})),n.d(t,"NgClass",(function(){return Me})),n.d(t,"NgComponentOutlet",(function(){return Re})),n.d(t,"NgForOf",(function(){return Pe})),n.d(t,"NgForOfContext",(function(){return ke})),n.d(t,"NgIf",(function(){return je})),n.d(t,"NgIfContext",(function(){return Le})),n.d(t,"NgLocaleLocalization",(function(){return De})),n.d(t,"NgLocalization",(function(){return Ae})),n.d(t,"NgPlural",(function(){return He})),n.d(t,"NgPluralCase",(function(){return $e})),n.d(t,"NgStyle",(function(){return We})),n.d(t,"NgSwitch",(function(){return Ve})),n.d(t,"NgSwitchCase",(function(){return qe})),n.d(t,"NgSwitchDefault",(function(){return ze})),n.d(t,"NgTemplateOutlet",(function(){return Qe})),n.d(t,"NumberFormatStyle",(function(){return A})),n.d(t,"NumberSymbol",(function(){return M})),n.d(t,"PathLocationStrategy",(function(){return _})),n.d(t,"PercentPipe",(function(){return ft})),n.d(t,"PlatformLocation",(function(){return c})),n.d(t,"Plural",(function(){return T})),n.d(t,"SlicePipe",(function(){return yt})),n.d(t,"TitleCasePipe",(function(){return rt})),n.d(t,"TranslationWidth",(function(){return O})),n.d(t,"UpperCasePipe",(function(){return it})),n.d(t,"VERSION",(function(){return Tt})),n.d(t,"ViewportScroller",(function(){return Dt})),n.d(t,"WeekDay",(function(){return R})),n.d(t,"formatCurrency",(function(){return xe})),n.d(t,"formatDate",(function(){return le})),n.d(t,"formatNumber",(function(){return Ce})),n.d(t,"formatPercent",(function(){return Ee})),n.d(t,"getCurrencySymbol",(function(){return ne})),n.d(t,"getLocaleCurrencyCode",(function(){return G})),n.d(t,"getLocaleCurrencyName",(function(){return Q})),n.d(t,"getLocaleCurrencySymbol",(function(){return W})),n.d(t,"getLocaleDateFormat",(function(){return V})),n.d(t,"getLocaleDateTimeFormat",(function(){return z})),n.d(t,"getLocaleDayNames",(function(){return F})),n.d(t,"getLocaleDayPeriods",(function(){return P})),n.d(t,"getLocaleDirection",(function(){return X})),n.d(t,"getLocaleEraNames",(function(){return L})),n.d(t,"getLocaleExtraDayPeriodRules",(function(){return Y})),n.d(t,"getLocaleExtraDayPeriods",(function(){return J})),n.d(t,"getLocaleFirstDayOfWeek",(function(){return B})),n.d(t,"getLocaleId",(function(){return k})),n.d(t,"getLocaleMonthNames",(function(){return j})),n.d(t,"getLocaleNumberFormat",(function(){return $})),n.d(t,"getLocaleNumberSymbol",(function(){return H})),n.d(t,"getLocalePluralCase",(function(){return K})),n.d(t,"getLocaleTimeFormat",(function(){return q})),n.d(t,"getLocaleWeekEndRange",(function(){return U})),n.d(t,"getNumberOfCurrencyDigits",(function(){return re})),n.d(t,"isPlatformBrowser",(function(){return Ct})),n.d(t,"isPlatformServer",(function(){return St})),n.d(t,"isPlatformWorkerApp",(function(){return Nt})),n.d(t,"isPlatformWorkerUi",(function(){return At})),n.d(t,"registerLocaleData",(function(){return Oe})),n.d(t,"\u0275BrowserPlatformLocation",(function(){return d})),n.d(t,"\u0275DomAdapter",(function(){return a})),n.d(t,"\u0275NullViewportScroller",(function(){return It})),n.d(t,"\u0275PLATFORM_BROWSER_ID",(function(){return wt})),n.d(t,"\u0275PLATFORM_SERVER_ID",(function(){return _t})),n.d(t,"\u0275PLATFORM_WORKER_APP_ID",(function(){return xt})),n.d(t,"\u0275PLATFORM_WORKER_UI_ID",(function(){return Et})),n.d(t,"\u0275angular_packages_common_common_a",(function(){return l})),n.d(t,"\u0275angular_packages_common_common_b",(function(){return p})),n.d(t,"\u0275angular_packages_common_common_c",(function(){return C})),n.d(t,"\u0275angular_packages_common_common_d",(function(){return b})),n.d(t,"\u0275angular_packages_common_common_e",(function(){return Ge})),n.d(t,"\u0275angular_packages_common_common_f",(function(){return vt})),n.d(t,"\u0275getDOM",(function(){return o})),n.d(t,"\u0275parseCookieValue",(function(){return Ie})),n.d(t,"\u0275setRootDomAdapter",(function(){return s}));var r=n("fXoL");let i=null;function o(){return i}function s(e){i||(i=e)}class a{}const u=new r.InjectionToken("DocumentToken");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:l,token:e,providedIn:"platform"}),e})();function l(){return Object(r["\u0275\u0275inject"])(d)}const h=new r.InjectionToken("Location Initialized");let d=(()=>{class e extends c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](u))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:p,token:e,providedIn:"platform"}),e})();function f(){return!!window.history.pushState}function p(){return new d(Object(r["\u0275\u0275inject"])(u))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:b,token:e,providedIn:"root"}),e})();function b(e){const t=Object(r["\u0275\u0275inject"])(u).location;return new _(Object(r["\u0275\u0275inject"])(c),t&&t.origin||"")}const w=new r.InjectionToken("appBaseHref");let _=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e{constructor(e,t){this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=g(S(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](v),r["\u0275\u0275inject"](c))},e.normalizeQueryParams=y,e.joinWithSlash=m,e.stripTrailingSlash=g,e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:C,token:e,providedIn:"root"}),e})();function C(){return new E(Object(r["\u0275\u0275inject"])(v),Object(r["\u0275\u0275inject"])(c))}function S(e){return e.replace(/\/index.html$/,"")}const N={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},A=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),T=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),D=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),O=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),I=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),M=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}(),R=function(){var e={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return e[e.Sunday]="Sunday",e[e.Monday]="Monday",e[e.Tuesday]="Tuesday",e[e.Wednesday]="Wednesday",e[e.Thursday]="Thursday",e[e.Friday]="Friday",e[e.Saturday]="Saturday",e}();function k(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].LocaleId]}function P(e,t,n){const i=Object(r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].DayPeriodsFormat],i[r["\u0275LocaleDataIndex"].DayPeriodsStandalone]],t);return ee(o,n)}function F(e,t,n){const i=Object(r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].DaysFormat],i[r["\u0275LocaleDataIndex"].DaysStandalone]],t);return ee(o,n)}function j(e,t,n){const i=Object(r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].MonthsFormat],i[r["\u0275LocaleDataIndex"].MonthsStandalone]],t);return ee(o,n)}function L(e,t){return ee(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Eras],t)}function B(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].FirstDayOfWeek]}function U(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].WeekendRange]}function V(e,t){return ee(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateFormat],t)}function q(e,t){return ee(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].TimeFormat],t)}function z(e,t){return ee(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateTimeFormat],t)}function H(e,t){const n=Object(r["\u0275findLocaleData"])(e),i=n[r["\u0275LocaleDataIndex"].NumberSymbols][t];if(void 0===i){if(t===M.CurrencyDecimal)return n[r["\u0275LocaleDataIndex"].NumberSymbols][M.Decimal];if(t===M.CurrencyGroup)return n[r["\u0275LocaleDataIndex"].NumberSymbols][M.Group]}return i}function $(e,t){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].NumberFormats][t]}function W(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencySymbol]||null}function Q(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencyName]||null}function G(e){return Object(r["\u0275getLocaleCurrencyCode"])(e)}const K=r["\u0275getLocalePluralCase"];function Z(e){if(!e[r["\u0275LocaleDataIndex"].ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r["\u0275LocaleDataIndex"].LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Y(e){const t=Object(r["\u0275findLocaleData"])(e);return Z(t),(t[r["\u0275LocaleDataIndex"].ExtraData][2]||[]).map(e=>"string"==typeof e?te(e):[te(e[0]),te(e[1])])}function J(e,t,n){const i=Object(r["\u0275findLocaleData"])(e);Z(i);const o=ee([i[r["\u0275LocaleDataIndex"].ExtraData][0],i[r["\u0275LocaleDataIndex"].ExtraData][1]],t)||[];return ee(o,n)||[]}function X(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Directionality]}function ee(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function te(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function ne(e,t,n="en"){const i=function(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Currencies]}(n)[e]||N[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}function re(e){let t;const n=N[e];return n&&(t=n[2]),"number"==typeof t?t:2}const ie=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oe={},se=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ae=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),ue=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),ce=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function le(e,t,n,r){let i=function(e){if(be(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(ie))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,c),t}(n)}const t=new Date(e);if(!be(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=k(t);if(oe[r]=oe[r]||{},oe[r][n])return oe[r][n];let i="";switch(n){case"shortDate":i=V(t,I.Short);break;case"mediumDate":i=V(t,I.Medium);break;case"longDate":i=V(t,I.Long);break;case"fullDate":i=V(t,I.Full);break;case"shortTime":i=q(t,I.Short);break;case"mediumTime":i=q(t,I.Medium);break;case"longTime":i=q(t,I.Long);break;case"fullTime":i=q(t,I.Full);break;case"short":const n=e(t,"shortTime"),r=e(t,"shortDate");i=he(z(t,I.Short),[n,r]);break;case"medium":const o=e(t,"mediumTime"),s=e(t,"mediumDate");i=he(z(t,I.Medium),[o,s]);break;case"long":const a=e(t,"longTime"),u=e(t,"longDate");i=he(z(t,I.Long),[a,u]);break;case"full":const c=e(t,"fullTime"),l=e(t,"fullDate");i=he(z(t,I.Full),[c,l])}return i&&(oe[r][n]=i),i}(n,t)||t;let o,s=[];for(;t;){if(o=se.exec(t),!o){s.push(t);break}{s=s.concat(o.slice(1));const e=s.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=ve(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ve(t,r)-r))}(i,r));let u="";return s.forEach(e=>{const t=function(e){if(ye[e])return ye[e];let t;switch(e){case"G":case"GG":case"GGG":t=pe(ce.Eras,O.Abbreviated);break;case"GGGG":t=pe(ce.Eras,O.Wide);break;case"GGGGG":t=pe(ce.Eras,O.Narrow);break;case"y":t=fe(ue.FullYear,1,0,!1,!0);break;case"yy":t=fe(ue.FullYear,2,0,!0,!0);break;case"yyy":t=fe(ue.FullYear,3,0,!1,!0);break;case"yyyy":t=fe(ue.FullYear,4,0,!1,!0);break;case"M":case"L":t=fe(ue.Month,1,1);break;case"MM":case"LL":t=fe(ue.Month,2,1);break;case"MMM":t=pe(ce.Months,O.Abbreviated);break;case"MMMM":t=pe(ce.Months,O.Wide);break;case"MMMMM":t=pe(ce.Months,O.Narrow);break;case"LLL":t=pe(ce.Months,O.Abbreviated,D.Standalone);break;case"LLLL":t=pe(ce.Months,O.Wide,D.Standalone);break;case"LLLLL":t=pe(ce.Months,O.Narrow,D.Standalone);break;case"w":t=ge(1);break;case"ww":t=ge(2);break;case"W":t=ge(1,!0);break;case"d":t=fe(ue.Date,1);break;case"dd":t=fe(ue.Date,2);break;case"E":case"EE":case"EEE":t=pe(ce.Days,O.Abbreviated);break;case"EEEE":t=pe(ce.Days,O.Wide);break;case"EEEEE":t=pe(ce.Days,O.Narrow);break;case"EEEEEE":t=pe(ce.Days,O.Short);break;case"a":case"aa":case"aaa":t=pe(ce.DayPeriods,O.Abbreviated);break;case"aaaa":t=pe(ce.DayPeriods,O.Wide);break;case"aaaaa":t=pe(ce.DayPeriods,O.Narrow);break;case"b":case"bb":case"bbb":t=pe(ce.DayPeriods,O.Abbreviated,D.Standalone,!0);break;case"bbbb":t=pe(ce.DayPeriods,O.Wide,D.Standalone,!0);break;case"bbbbb":t=pe(ce.DayPeriods,O.Narrow,D.Standalone,!0);break;case"B":case"BB":case"BBB":t=pe(ce.DayPeriods,O.Abbreviated,D.Format,!0);break;case"BBBB":t=pe(ce.DayPeriods,O.Wide,D.Format,!0);break;case"BBBBB":t=pe(ce.DayPeriods,O.Narrow,D.Format,!0);break;case"h":t=fe(ue.Hours,1,-12);break;case"hh":t=fe(ue.Hours,2,-12);break;case"H":t=fe(ue.Hours,1);break;case"HH":t=fe(ue.Hours,2);break;case"m":t=fe(ue.Minutes,1);break;case"mm":t=fe(ue.Minutes,2);break;case"s":t=fe(ue.Seconds,1);break;case"ss":t=fe(ue.Seconds,2);break;case"S":t=fe(ue.FractionalSeconds,1);break;case"SS":t=fe(ue.FractionalSeconds,2);break;case"SSS":t=fe(ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=me(ae.Short);break;case"ZZZZZ":t=me(ae.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=me(ae.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=me(ae.Long);break;default:return null}return ye[e]=t,t}(e);u+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function he(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function de(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function fe(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function(e,t){switch(e){case ue.FullYear:return t.getFullYear();case ue.Month:return t.getMonth();case ue.Date:return t.getDate();case ue.Hours:return t.getHours();case ue.Minutes:return t.getMinutes();case ue.Seconds:return t.getSeconds();case ue.FractionalSeconds:return t.getMilliseconds();case ue.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===ue.Hours)0===a&&-12===n&&(a=12);else if(e===ue.FractionalSeconds)return u=t,de(a,3).substr(0,u);var u;const c=H(s,M.MinusSign);return de(a,t,c,r,i)}}function pe(e,t,n=D.Format,r=!1){return function(i,o){return function(e,t,n,r,i,o){switch(n){case ce.Months:return j(t,i,r)[e.getMonth()];case ce.Days:return F(t,i,r)[e.getDay()];case ce.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const e=Y(t),n=J(t,i,r);let o;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:i}=e[0],{hours:u,minutes:c}=e[1];s>=r&&a>=i&&(s<u||s===u&&a<c)&&(o=n[t])}else{const{hours:r,minutes:i}=e;r===s&&i===a&&(o=n[t])}}),o)return o}return P(t,i,r)[s<12?0:1];case ce.Eras:return L(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,e,t,n,r)}}function me(e){return function(t,n,r){const i=-1*r,o=H(n,M.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case ae.Short:return(i>=0?"+":"")+de(s,2,o)+de(Math.abs(i%60),2,o);case ae.ShortGMT:return"GMT"+(i>=0?"+":"")+de(s,1,o);case ae.Long:return"GMT"+(i>=0?"+":"")+de(s,2,o)+":"+de(Math.abs(i%60),2,o);case ae.Extended:return 0===r?"Z":(i>=0?"+":"")+de(s,2,o)+":"+de(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function ge(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(n.getFullYear()),t=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-e.getTime();i=1+Math.round(t/6048e5)}var o;return de(i,e,H(r,M.MinusSign))}}const ye={};function ve(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function be(e){return e instanceof Date&&!isNaN(e.valueOf())}const we=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function _e(e,t,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,o,s=Math.abs(e)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))t=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(s.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);s&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let l=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const e=o.match(we);if(null===e)throw new Error(o+" is not a valid digit info");const t=e[1],n=e[3],r=e[5];null!=t&&(l=Ne(t)),null!=n&&(h=Ne(n)),null!=r?d=Ne(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let e=s;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let e=1;e<s;e++)r[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=t+e.integerLen,l=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),t>=10?1:0}),0);l&&(r.unshift(l),e.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(u=f.every(e=>!e);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(H(n,r)),g.length&&(a+=H(n,i)+g.join("")),m&&(a+=H(n,M.Exponential)+"+"+m)}else a=H(n,M.Infinity);return a=e<0&&!u?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function xe(e,t,n,r,i){const o=Se($(t,A.Currency),H(t,M.MinusSign));return o.minFrac=re(r),o.maxFrac=o.minFrac,_e(e,o,t,M.CurrencyGroup,M.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function Ee(e,t,n){return _e(e,Se($(t,A.Percent),H(t,M.MinusSign)),t,M.Group,M.Decimal,n,!0).replace(new RegExp("%","g"),H(t,M.PercentSign))}function Ce(e,t,n){return _e(e,Se($(t,A.Decimal),H(t,M.MinusSign)),t,M.Group,M.Decimal,n)}function Se(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const e=u.charAt(l);"0"===e?n.minFrac=n.maxFrac=l+1:"#"===e?n.maxFrac=l+1:n.posSuf+=e}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const e=i.length-n.posPre.length-n.posSuf.length,t=o.indexOf("#");n.negPre=o.substr(0,t).replace(/'/g,""),n.negSuf=o.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Ne(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class Ae{}function Te(e,t,n,r){let i="="+e;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let De=(()=>{class e extends Ae{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(K(t||this.locale)(e)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](r.LOCALE_ID))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function Oe(e,t,n){return Object(r["\u0275registerLocaleData"])(e,t,n)}function Ie(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let Me=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.IterableDiffers),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),Re=(()=>{class e{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();class ke{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pe=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Object(r.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ke(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Fe(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Fe(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.IterableDiffers))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Fe{constructor(e,t){this.record=e,this.view=t}}let je=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Le,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Be("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Be("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Le{constructor(){this.$implicit=null,this.ngIf=null}}function Be(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Object(r["\u0275stringify"])(t)}'.`)}class Ue{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ve=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),qe=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Ue(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Ve,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),ze=(()=>{class e{constructor(e,t,n){n._addDefault(new Ue(e,t))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Ve,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),He=(()=>{class e{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=Te(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Ae))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e})(),$e=(()=>{class e{constructor(e,t,n,r){this.value=e;const i=!isNaN(Number(e));r.addCase(i?"="+e:e,new Ue(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275injectAttribute"]("ngPluralCase"),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](He,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPluralCase",""]]}),e})(),We=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Qe=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();const Ge=[Me,Re,Pe,je,Qe,We,Ve,qe,ze,He,$e];function Ke(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(r["\u0275stringify"])(e)}'`)}class Ze{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ye{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Je=new Ye,Xe=new Ze;let et=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(r["\u0275looseIdentical"])(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Object(r["\u0275isPromise"])(t))return Je;if(Object(r["\u0275isObservable"])(t))return Xe;throw Ke(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275injectPipeChangeDetectorRef"]())},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"async",type:e,pure:!1}),e})(),tt=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Ke(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"lowercase",type:e,pure:!0}),e})();const nt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let rt=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Ke(e,t);return t.replace(nt,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"titlecase",type:e,pure:!0}),e})(),it=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw Ke(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"uppercase",type:e,pure:!0}),e})(),ot=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return le(t,n,i||this.locale,r)}catch(o){throw Ke(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"date",type:e,pure:!0}),e})();const st=/#/g;let at=(()=>{class e{constructor(e){this._localization=e}transform(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw Ke(e,n);return n[Te(t,Object.keys(n),this._localization,r)].replace(st,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Ae))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nPlural",type:e,pure:!0}),e})(),ut=(()=>{class e{transform(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Ke(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nSelect",type:e,pure:!0}),e})(),ct=(()=>{class e{transform(e){return JSON.stringify(e,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"json",type:e,pure:!1}),e})(),lt=(()=>{class e{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=ht){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push({key:e.key,value:e.currentValue})}),this.keyValues.sort(t)),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.KeyValueDiffers))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"keyvalue",type:e,pure:!1}),e})();function ht(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let dt=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(mt(t))return null;r=r||this._locale;try{return Ce(gt(t),r,n)}catch(i){throw Ke(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"number",type:e,pure:!0}),e})(),ft=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(mt(t))return null;r=r||this._locale;try{return Ee(gt(t),r,n)}catch(i){throw Ke(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"percent",type:e,pure:!0}),e})(),pt=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,n,r="symbol",i,o){if(mt(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");let s=n||this._defaultCurrencyCode;"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?ne(s,"symbol"===r?"wide":"narrow",o):r);try{return xe(gt(t),o,s,n,i)}catch(a){throw Ke(e,a.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID),r["\u0275\u0275directiveInject"](r.DEFAULT_CURRENCY_CODE))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"currency",type:e,pure:!0}),e})();function mt(e){return null==e||""===e||e!=e}function gt(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}let yt=(()=>{class e{transform(t,n,r){if(null==t)return t;if(!this.supports(t))throw Ke(e,t);return t.slice(n,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"slice",type:e,pure:!1}),e})();const vt=[et,it,tt,ct,yt,dt,ft,rt,pt,ot,at,ut,lt];let bt=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:Ae,useClass:De}]}),e})();const wt="browser",_t="server",xt="browserWorkerApp",Et="browserWorkerUi";function Ct(e){return e===wt}function St(e){return e===_t}function Nt(e){return e===xt}function At(e){return e===Et}const Tt=new r.Version("9.1.3");let Dt=(()=>{class e{}return e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({token:e,providedIn:"root",factory:()=>new Ot(Object(r["\u0275\u0275inject"])(u),window,Object(r["\u0275\u0275inject"])(r.ErrorHandler))}),e})();class Ot{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class It{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return s})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return d})),n.d(t,"setUserLogHandler",(function(){return f}));var o=[],s=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function d(e){var t="string"==typeof e?a[e]:e;o.forEach((function(e){e.logLevel=t}))}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){t=l instanceof s?u(l.errors):[l]}if(Object(r.a)(c)){let e=-1,n=c.length;for(;++e<n;){const n=c[e];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){t=t||[],l instanceof s?t=t.concat(u(l.errors)):t.push(l)}}}if(t)throw new s(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}},rpcZ:function(e,t,n){"use strict";var r=[],i="undefined"==typeof global?window:global,o=Math.pow(256,6),s=Math.pow(2,52),a=2*s,u=Math.random;function c(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<256;)s[i]=i++;for(i=0;i<256;i++)s[i]=s[o=255&o+e[i%n]+(t=s[i])],s[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,s=r.S;e--;)t=s[i=255&i+1],n=256*n+s[255&(s[i]=s[o=255&o+t])+(s[o]=t)];return r.i=i,r.j=o,n})(256)}function l(e,t){var n,r=[],i=(typeof e)[0];if(t&&"o"==i)for(n in e)try{r.push(l(e[n],t-1))}catch(o){}return r.length?r:"s"==i?e:e+"\0"}function h(e,t){for(var n,r=e+"",i=0;i<r.length;)t[255&i]=255&(n^=19*t[255&i])+r.charCodeAt(i++);return f(t)}function d(e){try{return i.crypto.getRandomValues(e=new Uint8Array(256)),f(e)}catch(t){return[+new Date,i,i.navigator&&i.navigator.plugins,i.screen,f(r)]}}function f(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,n){if(n&&!0===n.global)return n.global=!1,Math.random=e.exports(t,n),n.global=!0,Math.random;var i=n&&n.entropy||!1,u=[],p=(h(l(i?[t,f(r)]:0 in arguments?t:d(),3),u),new c(u));return h(f(p.S),r),function(){for(var e=p.g(6),t=o,n=0;e<s;)e=256*(e+n),t*=256,n=p.g(1);for(;e>=a;)e/=2,t/=2,n>>>=1;return(e+n)/t}},e.exports.resetGlobal=function(){Math.random=u},h(Math.random(),r)},uxF4:function(e,t,n){"use strict";var r=n("fXoL"),i=(n("XBat"),n("NOGY"),n("ofXK"),this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}),o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};n("fXoL");var s=n("ofXK");n("XBat"),n("NOGY"),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("XBat"));var a=function(){function e(){}return(e=i([o("design:paramtypes",[])],e)).\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},imports:[[s.CommonModule]]}),e}();t.OwlModule=a},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(e){return e.lift(new u(e))}}class u{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new c(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.a,e.add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e}refCount(){return a()(this)}}const h=(()=>{const e=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class d extends r.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function f(){return new r.a}function p(){return e=>{return a()((t=f,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,h);return r.source=e,r.subjectFactory=n,r})(e));var t}}},wOJ8:function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,s=r.length;o<s;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("30Go"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),f=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.14.1",INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!s.contains(t,e=e||"[DEFAULT]"))throw l.create("no-app",{appName:e});return t[e]}function c(a){var u,c,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw l.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),r[h]=f,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),m=p.next();!m.done;m=p.next())t[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(f);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){s.deepExtend(t,e)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,e)};var v=p;!function(e,t){e.INTERNAL.registerComponent(new a.Component("platform-logger",(function(e){return new m(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.2",void 0),e.registerVersion("fire-js","")}(v),t.default=v,t.firebase=v},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zUnb:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"createTyped",(function(){return Ju})),n.d(r,"createResultSet",(function(){return nc})),n.d(r,"createBigNumberClass",(function(){return oc})),n.d(r,"createComplexClass",(function(){return cc})),n.d(r,"createFractionClass",(function(){return dc})),n.d(r,"createRangeClass",(function(){return fc})),n.d(r,"createMatrixClass",(function(){return pc})),n.d(r,"createDenseMatrixClass",(function(){return mc})),n.d(r,"createClone",(function(){return gc})),n.d(r,"createIsInteger",(function(){return Ec})),n.d(r,"createIsNegative",(function(){return Tc})),n.d(r,"createIsNumeric",(function(){return Dc})),n.d(r,"createHasNumericValue",(function(){return Oc})),n.d(r,"createIsPositive",(function(){return Ic})),n.d(r,"createIsZero",(function(){return Mc})),n.d(r,"createIsNaN",(function(){return Rc})),n.d(r,"createTypeOf",(function(){return kc})),n.d(r,"createEqualScalar",(function(){return Fc})),n.d(r,"createSparseMatrixClass",(function(){return jc})),n.d(r,"createNumber",(function(){return Lc})),n.d(r,"createString",(function(){return Bc})),n.d(r,"createBoolean",(function(){return Uc})),n.d(r,"createBignumber",(function(){return Vc})),n.d(r,"createComplex",(function(){return qc})),n.d(r,"createFraction",(function(){return zc})),n.d(r,"createMatrix",(function(){return Hc})),n.d(r,"createSplitUnit",(function(){return $c})),n.d(r,"createUnaryMinus",(function(){return pl})),n.d(r,"createUnaryPlus",(function(){return ml})),n.d(r,"createAbs",(function(){return gl})),n.d(r,"createApply",(function(){return yl})),n.d(r,"createAddScalar",(function(){return bl})),n.d(r,"createCbrt",(function(){return wl})),n.d(r,"createCeil",(function(){return _l})),n.d(r,"createCube",(function(){return xl})),n.d(r,"createExp",(function(){return El})),n.d(r,"createExpm1",(function(){return Cl})),n.d(r,"createFix",(function(){return Sl})),n.d(r,"createFloor",(function(){return Nl})),n.d(r,"createGcd",(function(){return Ml})),n.d(r,"createLcm",(function(){return Fl})),n.d(r,"createLog10",(function(){return jl})),n.d(r,"createLog2",(function(){return Ll})),n.d(r,"createMod",(function(){return ql})),n.d(r,"createMultiplyScalar",(function(){return zl})),n.d(r,"createMultiply",(function(){return Hl})),n.d(r,"createNthRoot",(function(){return $l})),n.d(r,"createSign",(function(){return Wl})),n.d(r,"createSqrt",(function(){return Ql})),n.d(r,"createSquare",(function(){return Gl})),n.d(r,"createSubtract",(function(){return Kl})),n.d(r,"createXgcd",(function(){return Yl})),n.d(r,"createDotMultiply",(function(){return Xl})),n.d(r,"createBitAnd",(function(){return gh})),n.d(r,"createBitNot",(function(){return yh})),n.d(r,"createBitOr",(function(){return vh})),n.d(r,"createBitXor",(function(){return wh})),n.d(r,"createArg",(function(){return _h})),n.d(r,"createConj",(function(){return xh})),n.d(r,"createIm",(function(){return Eh})),n.d(r,"createRe",(function(){return Ch})),n.d(r,"createNot",(function(){return Dh})),n.d(r,"createOr",(function(){return Oh})),n.d(r,"createXor",(function(){return Ih})),n.d(r,"createConcat",(function(){return Mh})),n.d(r,"createColumn",(function(){return kh})),n.d(r,"createCross",(function(){return Ph})),n.d(r,"createDiag",(function(){return Fh})),n.d(r,"createFilter",(function(){return Uh})),n.d(r,"createFlatten",(function(){return qh})),n.d(r,"createForEach",(function(){return zh})),n.d(r,"createGetMatrixDataType",(function(){return $h})),n.d(r,"createIdentity",(function(){return Wh})),n.d(r,"createKron",(function(){return Qh})),n.d(r,"createMap",(function(){return Gh})),n.d(r,"createDiff",(function(){return Zh})),n.d(r,"createOnes",(function(){return Yh})),n.d(r,"createRange",(function(){return td})),n.d(r,"createReshape",(function(){return nd})),n.d(r,"createResize",(function(){return rd})),n.d(r,"createRow",(function(){return id})),n.d(r,"createSize",(function(){return od})),n.d(r,"createSqueeze",(function(){return sd})),n.d(r,"createSubset",(function(){return md})),n.d(r,"createTranspose",(function(){return wd})),n.d(r,"createCtranspose",(function(){return _d})),n.d(r,"createZeros",(function(){return xd})),n.d(r,"createErf",(function(){return Ed})),n.d(r,"createMode",(function(){return Dd})),n.d(r,"createProd",(function(){return Id})),n.d(r,"createFormat",(function(){return Md})),n.d(r,"createPrint",(function(){return Rd})),n.d(r,"createTo",(function(){return Pd})),n.d(r,"createIsPrime",(function(){return Fd})),n.d(r,"createNumeric",(function(){return jd})),n.d(r,"createDivideScalar",(function(){return Ld})),n.d(r,"createPow",(function(){return Bd})),n.d(r,"createRound",(function(){return Hd})),n.d(r,"createLog",(function(){return Wd})),n.d(r,"createLog1p",(function(){return Qd})),n.d(r,"createNthRoots",(function(){return Gd})),n.d(r,"createDotPow",(function(){return Kd})),n.d(r,"createDotDivide",(function(){return Zd})),n.d(r,"createLsolve",(function(){return Jd})),n.d(r,"createUsolve",(function(){return Xd})),n.d(r,"createLeftShift",(function(){return tf})),n.d(r,"createRightArithShift",(function(){return nf})),n.d(r,"createRightLogShift",(function(){return rf})),n.d(r,"createAnd",(function(){return of})),n.d(r,"createCompare",(function(){return sf})),n.d(r,"createCompareNatural",(function(){return cf})),n.d(r,"createCompareText",(function(){return lf})),n.d(r,"createEqual",(function(){return hf})),n.d(r,"createEqualText",(function(){return df})),n.d(r,"createSmaller",(function(){return ff})),n.d(r,"createSmallerEq",(function(){return pf})),n.d(r,"createLarger",(function(){return mf})),n.d(r,"createLargerEq",(function(){return gf})),n.d(r,"createDeepEqual",(function(){return yf})),n.d(r,"createUnequal",(function(){return vf})),n.d(r,"createPartitionSelect",(function(){return bf})),n.d(r,"createSort",(function(){return wf})),n.d(r,"createMax",(function(){return _f})),n.d(r,"createMin",(function(){return xf})),n.d(r,"createImmutableDenseMatrixClass",(function(){return Ef})),n.d(r,"createIndexClass",(function(){return Cf})),n.d(r,"createFibonacciHeapClass",(function(){return Sf})),n.d(r,"createSpaClass",(function(){return Nf})),n.d(r,"createUnitClass",(function(){return jf})),n.d(r,"createUnitFunction",(function(){return Lf})),n.d(r,"createSparse",(function(){return Bf})),n.d(r,"createCreateUnit",(function(){return Uf})),n.d(r,"createAcos",(function(){return Vf})),n.d(r,"createAcosh",(function(){return ip})),n.d(r,"createAcot",(function(){return op})),n.d(r,"createAcoth",(function(){return sp})),n.d(r,"createAcsc",(function(){return ap})),n.d(r,"createAcsch",(function(){return up})),n.d(r,"createAsec",(function(){return cp})),n.d(r,"createAsech",(function(){return lp})),n.d(r,"createAsin",(function(){return hp})),n.d(r,"createAsinh",(function(){return dp})),n.d(r,"createAtan",(function(){return fp})),n.d(r,"createAtan2",(function(){return pp})),n.d(r,"createAtanh",(function(){return mp})),n.d(r,"createCos",(function(){return gp})),n.d(r,"createCosh",(function(){return yp})),n.d(r,"createCot",(function(){return vp})),n.d(r,"createCoth",(function(){return bp})),n.d(r,"createCsc",(function(){return wp})),n.d(r,"createCsch",(function(){return _p})),n.d(r,"createSec",(function(){return xp})),n.d(r,"createSech",(function(){return Ep})),n.d(r,"createSin",(function(){return Cp})),n.d(r,"createSinh",(function(){return Sp})),n.d(r,"createTan",(function(){return Np})),n.d(r,"createTanh",(function(){return Ap})),n.d(r,"createSetCartesian",(function(){return Tp})),n.d(r,"createSetDifference",(function(){return Dp})),n.d(r,"createSetDistinct",(function(){return Op})),n.d(r,"createSetIntersect",(function(){return Ip})),n.d(r,"createSetIsSubset",(function(){return Mp})),n.d(r,"createSetMultiplicity",(function(){return Rp})),n.d(r,"createSetPowerset",(function(){return kp})),n.d(r,"createSetSize",(function(){return Pp})),n.d(r,"createSetSymDifference",(function(){return Fp})),n.d(r,"createSetUnion",(function(){return jp})),n.d(r,"createAdd",(function(){return Lp})),n.d(r,"createHypot",(function(){return Bp})),n.d(r,"createNorm",(function(){return Up})),n.d(r,"createDot",(function(){return Vp})),n.d(r,"createTrace",(function(){return qp})),n.d(r,"createIndex",(function(){return zp})),n.d(r,"createNode",(function(){return Wp})),n.d(r,"createAccessorNode",(function(){return Zp})),n.d(r,"createArrayNode",(function(){return Yp})),n.d(r,"createAssignmentNode",(function(){return rm})),n.d(r,"createBlockNode",(function(){return im})),n.d(r,"createConditionalNode",(function(){return om})),n.d(r,"createConstantNode",(function(){return pm})),n.d(r,"createFunctionAssignmentNode",(function(){return mm})),n.d(r,"createIndexNode",(function(){return ym})),n.d(r,"createObjectNode",(function(){return bm})),n.d(r,"createOperatorNode",(function(){return wm})),n.d(r,"createParenthesisNode",(function(){return _m})),n.d(r,"createRangeNode",(function(){return xm})),n.d(r,"createRelationalNode",(function(){return Em})),n.d(r,"createSymbolNode",(function(){return Cm})),n.d(r,"createFunctionNode",(function(){return Am})),n.d(r,"createParse",(function(){return Dm})),n.d(r,"createCompile",(function(){return Om})),n.d(r,"createEvaluate",(function(){return Im})),n.d(r,"createParserClass",(function(){return Mm})),n.d(r,"createParser",(function(){return Rm})),n.d(r,"createLup",(function(){return km})),n.d(r,"createQr",(function(){return Fm})),n.d(r,"createSlu",(function(){return Km})),n.d(r,"createLusolve",(function(){return Ym})),n.d(r,"createHelpClass",(function(){return Jm})),n.d(r,"createChainClass",(function(){return Xm})),n.d(r,"createHelp",(function(){return rg})),n.d(r,"createChain",(function(){return ig})),n.d(r,"createDet",(function(){return og})),n.d(r,"createInv",(function(){return sg})),n.d(r,"createEigs",(function(){return ag})),n.d(r,"createExpm",(function(){return ug})),n.d(r,"createSqrtm",(function(){return cg})),n.d(r,"createDivide",(function(){return lg})),n.d(r,"createDistance",(function(){return hg})),n.d(r,"createIntersect",(function(){return dg})),n.d(r,"createSum",(function(){return fg})),n.d(r,"createMean",(function(){return pg})),n.d(r,"createMedian",(function(){return mg})),n.d(r,"createMad",(function(){return gg})),n.d(r,"createVariance",(function(){return yg})),n.d(r,"createQuantileSeq",(function(){return vg})),n.d(r,"createStd",(function(){return bg})),n.d(r,"createCombinations",(function(){return xg})),n.d(r,"createCombinationsWithRep",(function(){return Cg})),n.d(r,"createGamma",(function(){return Dg})),n.d(r,"createFactorial",(function(){return Og})),n.d(r,"createKldivergence",(function(){return Ig})),n.d(r,"createMultinomial",(function(){return Mg})),n.d(r,"createPermutations",(function(){return Rg})),n.d(r,"createPickRandom",(function(){return Bg})),n.d(r,"createRandom",(function(){return Vg})),n.d(r,"createRandomInt",(function(){return qg})),n.d(r,"createStirlingS2",(function(){return zg})),n.d(r,"createBellNumbers",(function(){return Hg})),n.d(r,"createCatalan",(function(){return $g})),n.d(r,"createComposition",(function(){return Wg})),n.d(r,"createSimplify",(function(){return Jg})),n.d(r,"createDerivative",(function(){return Xg})),n.d(r,"createRationalize",(function(){return ey})),n.d(r,"createReviver",(function(){return ty})),n.d(r,"createReplacer",(function(){return ny})),n.d(r,"createE",(function(){return fy})),n.d(r,"createUppercaseE",(function(){return Ey})),n.d(r,"createFalse",(function(){return ay})),n.d(r,"createI",(function(){return _y})),n.d(r,"createInfinity",(function(){return cy})),n.d(r,"createLN10",(function(){return gy})),n.d(r,"createLN2",(function(){return my})),n.d(r,"createLOG10E",(function(){return vy})),n.d(r,"createLOG2E",(function(){return yy})),n.d(r,"createNaN",(function(){return ly})),n.d(r,"createNull",(function(){return uy})),n.d(r,"createPhi",(function(){return py})),n.d(r,"createPi",(function(){return hy})),n.d(r,"createUppercasePi",(function(){return xy})),n.d(r,"createSQRT1_2",(function(){return by})),n.d(r,"createSQRT2",(function(){return wy})),n.d(r,"createTau",(function(){return dy})),n.d(r,"createTrue",(function(){return sy})),n.d(r,"createVersion",(function(){return Cy})),n.d(r,"createAtomicMass",(function(){return tv})),n.d(r,"createAvogadro",(function(){return nv})),n.d(r,"createBohrMagneton",(function(){return Py})),n.d(r,"createBohrRadius",(function(){return Vy})),n.d(r,"createBoltzmann",(function(){return rv})),n.d(r,"createClassicalElectronRadius",(function(){return qy})),n.d(r,"createConductanceQuantum",(function(){return Fy})),n.d(r,"createCoulomb",(function(){return Ry})),n.d(r,"createDeuteronMass",(function(){return Gy})),n.d(r,"createEfimovFactor",(function(){return ev})),n.d(r,"createElectricConstant",(function(){return Iy})),n.d(r,"createElectronMass",(function(){return zy})),n.d(r,"createElementaryCharge",(function(){return ky})),n.d(r,"createFaraday",(function(){return iv})),n.d(r,"createFermiCoupling",(function(){return Hy})),n.d(r,"createFineStructure",(function(){return $y})),n.d(r,"createFirstRadiation",(function(){return ov})),n.d(r,"createGasConstant",(function(){return av})),n.d(r,"createGravitationConstant",(function(){return Ay})),n.d(r,"createGravity",(function(){return gv})),n.d(r,"createHartreeEnergy",(function(){return Wy})),n.d(r,"createInverseConductanceQuantum",(function(){return jy})),n.d(r,"createKlitzing",(function(){return Uy})),n.d(r,"createLoschmidt",(function(){return sv})),n.d(r,"createMagneticConstant",(function(){return Oy})),n.d(r,"createMagneticFluxQuantum",(function(){return Ly})),n.d(r,"createMolarMass",(function(){return pv})),n.d(r,"createMolarMassC12",(function(){return mv})),n.d(r,"createMolarPlanckConstant",(function(){return uv})),n.d(r,"createMolarVolume",(function(){return cv})),n.d(r,"createNeutronMass",(function(){return Ky})),n.d(r,"createNuclearMagneton",(function(){return By})),n.d(r,"createPlanckCharge",(function(){return wv})),n.d(r,"createPlanckConstant",(function(){return Ty})),n.d(r,"createPlanckLength",(function(){return yv})),n.d(r,"createPlanckMass",(function(){return vv})),n.d(r,"createPlanckTemperature",(function(){return _v})),n.d(r,"createPlanckTime",(function(){return bv})),n.d(r,"createProtonMass",(function(){return Qy})),n.d(r,"createQuantumOfCirculation",(function(){return Zy})),n.d(r,"createReducedPlanckConstant",(function(){return Dy})),n.d(r,"createRydberg",(function(){return Yy})),n.d(r,"createSackurTetrode",(function(){return lv})),n.d(r,"createSecondRadiation",(function(){return hv})),n.d(r,"createSpeedOfLight",(function(){return Ny})),n.d(r,"createStefanBoltzmann",(function(){return dv})),n.d(r,"createThomsonCrossSection",(function(){return Jy})),n.d(r,"createVacuumImpedance",(function(){return My})),n.d(r,"createWeakMixingAngle",(function(){return Xy})),n.d(r,"createWienDisplacement",(function(){return fv})),n.d(r,"createApplyTransform",(function(){return Cv})),n.d(r,"createColumnTransform",(function(){return Sv})),n.d(r,"createFilterTransform",(function(){return Av})),n.d(r,"createForEachTransform",(function(){return Dv})),n.d(r,"createIndexTransform",(function(){return Ov})),n.d(r,"createMapTransform",(function(){return Iv})),n.d(r,"createMaxTransform",(function(){return Rv})),n.d(r,"createMeanTransform",(function(){return kv})),n.d(r,"createMinTransform",(function(){return Pv})),n.d(r,"createRangeTransform",(function(){return Fv})),n.d(r,"createRowTransform",(function(){return jv})),n.d(r,"createSubsetTransform",(function(){return Lv})),n.d(r,"createConcatTransform",(function(){return Bv})),n.d(r,"createDiffTransform",(function(){return Uv})),n.d(r,"createStdTransform",(function(){return Vv})),n.d(r,"createSumTransform",(function(){return qv})),n.d(r,"createVarianceTransform",(function(){return zv}));var i=n("fXoL");const o={apiKey:"AIzaSyCqt8b2m49wJvmjSy57OkgeueRe5aNDw4g",authDomain:"ketomanager-75ccb.firebaseapp.com",databaseURL:"https://ketomanager-75ccb.firebaseio.com",projectId:"ketomanager-75ccb",storageBucket:"ketomanager-75ccb.appspot.com",messagingSenderId:"122501969752",appId:"1:122501969752:web:463ba9eed13be1fae6172d"};var s=n("ofXK");class a extends s["\u0275DomAdapter"]{constructor(){super()}supportsDOMEvents(){return!0}}class u extends a{static makeCurrent(){Object(s["\u0275setRootDomAdapter"])(new u)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=l||(l=document.querySelector("base"),l)?l.getAttribute("href"):null;return null==t?null:(n=t,c||(c=document.createElement("a")),c.setAttribute("href",n),"/"===c.pathname.charAt(0)?c.pathname:"/"+c.pathname);var n}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Object(s["\u0275parseCookieValue"])(document.cookie,e)}}let c,l=null;const h=new i.InjectionToken("TRANSITION_ID"),d=[{provide:i.APP_INITIALIZER,useFactory:function(e,t,n){return()=>{n.get(i.ApplicationInitStatus).donePromise.then(()=>{const n=Object(s["\u0275getDOM"])();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[h,s.DOCUMENT,i.Injector],multi:!0}];class f{static init(){Object(i.setTestabilityGetter)(new f)}addToWindow(e){i["\u0275global"].getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i["\u0275global"].getAllAngularTestabilities=()=>e.getAllTestabilities(),i["\u0275global"].getAllAngularRootElements=()=>e.getAllRootElements(),i["\u0275global"].frameworkStabilizers||(i["\u0275global"].frameworkStabilizers=[]),i["\u0275global"].frameworkStabilizers.push(e=>{const t=i["\u0275global"].getAllAngularTestabilities();let n=t.length,r=!1;const o=function(t){r=r||t,n--,0==n&&e(r)};t.forEach((function(e){e.whenStable(o)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?Object(s["\u0275getDOM"])().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const p=new i.InjectionToken("EventManagerPlugins");let m=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](p),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=Object(s["\u0275getDOM"])().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let y=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),v=(()=>{class e extends y{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Object(s["\u0275getDOM"])().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},w=/%COMP%/g;function _(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?_(e,i,n):(i=i.replace(w,e),n.push(i))}return n}function x(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let E=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new C(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case i.ViewEncapsulation.Native:case i.ViewEncapsulation.ShadowDom:return new N(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=_(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](m),i["\u0275\u0275inject"](v),i["\u0275\u0275inject"](i.APP_ID))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class C{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(b[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=b[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=b[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&i.RendererStyleFlags2.DashCase?e.style.setProperty(t,n,r&i.RendererStyleFlags2.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,x(n)):this.eventManager.addEventListener(e,t,x(n))}}class S extends C{constructor(e,t,n,r){super(e),this.component=n;const i=_(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(w,r+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(w,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class N extends C{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.ViewEncapsulation.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=_(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const e=document.createElement("style");e.textContent=o[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let A=(()=>{class e extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const T=["alt","control","meta","shift"],D={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let M=(()=>{class e extends g{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(s["\u0275getDOM"])().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let o="";if(T.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&O.hasOwnProperty(t)&&(t=O[t]))}return D[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),T.forEach(r=>{r!=n&&(0,I[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const R=[{provide:i.PLATFORM_ID,useValue:s["\u0275PLATFORM_BROWSER_ID"]},{provide:i.PLATFORM_INITIALIZER,useValue:function(){u.makeCurrent(),f.init()},multi:!0},{provide:s.DOCUMENT,useFactory:function(){return Object(i["\u0275setDocument"])(document),document},deps:[]}],k=Object(i.createPlatformFactory)(i.platformCore,"browser",R),P=[[],{provide:i["\u0275INJECTOR_SCOPE"],useValue:"root"},{provide:i.ErrorHandler,useFactory:function(){return new i.ErrorHandler},deps:[]},{provide:p,useClass:A,multi:!0,deps:[s.DOCUMENT,i.NgZone,i.PLATFORM_ID]},{provide:p,useClass:M,multi:!0,deps:[s.DOCUMENT]},[],{provide:E,useClass:E,deps:[m,v,i.APP_ID]},{provide:i.RendererFactory2,useExisting:E},{provide:y,useExisting:v},{provide:v,useClass:v,deps:[s.DOCUMENT]},{provide:i.Testability,useClass:i.Testability,deps:[i.NgZone]},{provide:m,useClass:m,deps:[p,i.NgZone]},[]];let F=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.APP_ID,useValue:t.appId},{provide:h,useExisting:i.APP_ID},d]}}}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](e,12))},providers:P,imports:[s.CommonModule,i.ApplicationModule]}),e})();"undefined"!=typeof window&&window;var j=n("z+Ro"),L=n("yCtX"),B=n("jZKg");function U(...e){let t=e[e.length-1];return Object(j.a)(t)?(e.pop(),Object(B.a)(e,t)):Object(L.a)(e)}var V=n("Cfvw"),q=n("XNiG"),z=n("9ppp");class H extends q.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new z.a;return this._value}next(e){super.next(this._value=e)}}var $=n("HDdC");const W=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Q=n("DH7j"),G=n("l7GE"),K=n("ZUHj");const Z={};class Y{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new J(e,this.resultSelector))}}class J extends G.a{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Z),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(Object(K.a)(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const o=this.values,s=this.toRespond?o[n]===Z?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const X=new $.a(e=>e.complete());function ee(e){return e?function(e){return new $.a(t=>e.schedule(()=>t.complete()))}(e):X}function te(e){return new $.a(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(V.a)(n):ee()).subscribe(t)})}var ne=n("lJxs"),re=n("bHdf");function ie(){return Object(re.a)(1)}var oe=n("7o/Q");function se(e,t){return function(n){return n.lift(new ae(e,t))}}class ae{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ue(e,this.predicate,this.thisArg))}}class ue extends oe.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const ce=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function le(e){return function(t){return 0===e?ee():t.lift(new he(e))}}class he{constructor(e){if(this.total=e,this.total<0)throw new ce}call(e,t){return t.subscribe(new de(e,this.total))}}class de extends oe.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function fe(e=ge){return t=>t.lift(new pe(e))}class pe{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new me(e,this.errorFactory))}}class me extends oe.a{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function ge(){return new W}function ye(e=null){return t=>t.lift(new ve(e))}class ve{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new be(e,this.defaultValue))}}class be extends oe.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var we=n("SpAZ");function _e(e,t){const n=arguments.length>=2;return r=>r.pipe(e?se((t,n)=>e(t,n,r)):we.a,le(1),n?ye(t):fe(()=>new W))}var xe=n("51Dv");function Ee(e){return function(t){const n=new Ce(e),r=t.lift(n);return n.caught=r}}class Ce{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Se(e,this.selector,this.caught))}}class Se extends G.a{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new xe.a(this,void 0,void 0);this.add(r);const i=Object(K.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Ne(e){return t=>0===e?ee():t.lift(new Ae(e))}class Ae{constructor(e){if(this.total=e,this.total<0)throw new ce}call(e,t){return t.subscribe(new Te(e,this.total))}}class Te extends oe.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function De(e,t){const n=arguments.length>=2;return r=>r.pipe(e?se((t,n)=>e(t,n,r)):we.a,Ne(1),n?ye(t):fe(()=>new W))}var Oe=n("5+tZ");class Ie{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new Me(e,this.predicate,this.thisArg,this.source))}}class Me extends oe.a{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Re(e,t){return"function"==typeof t?n=>n.pipe(Re((n,r)=>Object(V.a)(e(n,r)).pipe(Object(ne.a)((e,i)=>t(n,e,r,i))))):t=>t.lift(new ke(e))}class ke{constructor(e){this.project=e}call(e,t){return t.subscribe(new Pe(e,this.project))}}class Pe extends G.a{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new xe.a(this,t,n),o=this.destination;o.add(i),this.innerSubscription=Object(K.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function Fe(...e){return ie()(U(...e))}function je(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Le(e,t,n))}}class Le{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Be(e,this.accumulator,this.seed,this.hasSeed))}}class Be extends oe.a{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ue(e,t){return Object(Oe.a)(e,t,1)}var Ve=n("mCNh");function qe(){}var ze=n("n6bG");function He(e,t,n){return function(r){return r.lift(new $e(e,t,n))}}class $e{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new We(e,this.nextOrObserver,this.error,this.complete))}}class We extends oe.a{constructor(e,t,n,r){super(e),this._tapNext=qe,this._tapError=qe,this._tapComplete=qe,this._tapError=n||qe,this._tapComplete=r||qe,Object(ze.a)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||qe,this._tapError=t.error||qe,this._tapComplete=t.complete||qe)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var Qe=n("quSY");class Ge{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Ke(e,this.callback))}}class Ke extends oe.a{constructor(e,t){super(e),this.add(new Qe.a(t))}}class Ze{constructor(e,t){this.id=e,this.url=t}}class Ye extends Ze{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Je extends Ze{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xe extends Ze{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class et extends Ze{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tt extends Ze{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nt extends Ze{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends Ze{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class it extends Ze{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends Ze{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class at{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ut{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ft=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[vr]},encapsulation:2}),e})();class pt{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mt(e){return new pt(e)}function gt(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function yt(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class vt{constructor(e,t){this.routes=e,this.module=t}}function bt(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];wt(r,_t(t,r))}}function wt(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&bt(e.children,t)}function _t(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function xt(e){const t=e.children&&e.children.map(xt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ft),n}function Et(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ct(e[i],t[i]))return!1;return!0}function Ct(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function St(e){return Array.prototype.concat.apply([],e)}function Nt(e){return e.length>0?e[e.length-1]:null}function At(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Tt(e){return Object(i["\u0275isObservable"])(e)?e:Object(i["\u0275isPromise"])(e)?Object(V.a)(Promise.resolve(e)):U(e)}function Dt(e,t,n){return n?function(e,t){return Et(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Rt(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ct(e[n],t[n]))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Rt(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Rt(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Rt(n.segments,e)&&!!n.children.primary&&t(n.children.primary,r,o)}}(t,n,n.segments)}(e.root,t.root)}class Ot{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mt(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class It{constructor(e,t){this.segments=e,this.children=t,this.parent=null,At(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lt(this)}}class Mt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mt(this.parameters)),this._parameterMap}toString(){return Ht(this)}}function Rt(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function kt(e,t){let n=[];return At(e.children,(e,r)=>{"primary"===r&&(n=n.concat(t(e,r)))}),At(e.children,(e,r)=>{"primary"!==r&&(n=n.concat(t(e,r)))}),n}class Pt{}class Ft{parse(e){const t=new Kt(e);return new Ot(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return Lt(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",r=[];return At(t.children,(t,n)=>{"primary"!==n&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=kt(t,(n,r)=>"primary"===r?[e(t.children.primary,!1)]:[`${r}:${e(n,!1)}`]);return`${Lt(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Ut(t)}=${Ut(e)}`).join("&"):`${Ut(t)}=${Ut(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const jt=new Ft;function Lt(e){return e.segments.map(e=>Ht(e)).join("/")}function Bt(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ut(e){return Bt(e).replace(/%3B/gi,";")}function Vt(e){return Bt(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qt(e){return decodeURIComponent(e)}function zt(e){return qt(e.replace(/\+/g,"%20"))}function Ht(e){return`${Vt(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Vt(e)}=${Vt(t[e])}`).join("")}`;var t}const $t=/^[^\/()?;=#]+/;function Wt(e){const t=e.match($t);return t?t[0]:""}const Qt=/^[^=?&#]+/,Gt=/^[^?&#]+/;class Kt{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new It(e,t)),n}parseSegment(){const e=Wt(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Mt(qt(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wt(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Wt(this.remaining);e&&(n=e,this.capture(n))}e[qt(t)]=qt(n)}parseQueryParam(e){const t=function(e){const t=e.match(Qt);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Gt);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=zt(t),i=zt(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Wt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");const o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new It([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Zt{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Yt(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Yt(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Jt(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Jt(e,this._root).map(e=>e.value)}}function Yt(e,t){if(e===t.value)return t;for(const n of t.children){const t=Yt(e,n);if(t)return t}return null}function Jt(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Jt(e,n);if(r.length)return r.unshift(t),r}return[]}class Xt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function en(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class tn extends Zt{constructor(e,t){super(e),this.snapshot=t,un(this,e)}toString(){return this.snapshot.toString()}}function nn(e,t){const n=function(e,t){const n=new sn([],{},{},"",{},"primary",t,null,e.root,-1,{});return new an("",new Xt(n,[]))}(e,t),r=new H([new Mt("",{})]),i=new H({}),o=new H({}),s=new H({}),a=new H(""),u=new rn(r,i,s,a,o,"primary",t,n.root);return u.snapshot=n.root,new tn(new Xt(u,[]),n)}class rn{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ne.a)(e=>mt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ne.a)(e=>mt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function on(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class sn{constructor(e,t,n,r,i,o,s,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class an extends Zt{constructor(e,t){super(t),this.url=e,un(this,t)}toString(){return cn(this._root)}}function un(e,t){t.value._routerState=e,t.children.forEach(t=>un(e,t))}function cn(e){const t=e.children.length>0?` { ${e.children.map(cn).join(", ")} } `:"";return`${e.value}${t}`}function ln(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Et(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Et(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Et(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Et(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function hn(e,t){var n,r;return Et(e.params,t.params)&&Rt(n=e.url,r=t.url)&&n.every((e,t)=>Et(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||hn(e.parent,t.parent))}function dn(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function fn(e,t,n,r,i){let o={};return r&&At(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Ot(n.root===e?t:function e(t,n,r){const i={};return At(t.children,(t,o)=>{i[o]=t===n?r:e(t,n,r)}),new It(t.segments,i)}(n.root,e,t),o,i)}class pn{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&dn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==Nt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mn{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function gn(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function yn(e,t,n){if(e||(e=new It([],{})),0===e.segments.length&&e.hasChildren())return vn(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=gn(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!xn(s,a,t))return o;r+=2}else{if(!xn(s,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new It(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new It(e.segments.slice(r.pathIndex),e.children),vn(t,0,i)}return r.match&&0===i.length?new It(e.segments,{}):r.match&&!e.hasChildren()?bn(e,t,n):r.match?vn(e,0,i):bn(e,t,n)}function vn(e,t,n){if(0===n.length)return new It(e.segments,{});{const r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return At(r,(n,r)=>{null!==n&&(i[r]=yn(e.children[r],t,n))}),At(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new It(e.segments,i)}}function bn(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=wn(n[i].outlets);return new It(r,e)}if(0===i&&dn(n[0])){r.push(new Mt(e.segments[t].path,n[0])),i++;continue}const o=gn(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&dn(s)?(r.push(new Mt(o,_n(s))),i+=2):(r.push(new Mt(o,{})),i++)}return new It(r,{})}function wn(e){const t={};return At(e,(e,n)=>{null!==e&&(t[n]=bn(new It([],{}),0,e))}),t}function _n(e){const t={};return At(e,(e,n)=>t[n]=""+e),t}function xn(e,t,n){return e==n.path&&Et(t,n.parameters)}class En{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ln(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=en(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),At(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=en(e),i=e.value.component?n.children:t;At(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=en(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new ht(e.value.snapshot))}),e.children.length&&this.forwardEvent(new ct(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(ln(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Cn(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Cn(e){ln(e.value),e.children.forEach(Cn)}function Sn(e){return"function"==typeof e}function Nn(e){return e instanceof Ot}class An{constructor(e){this.segmentGroup=e||null}}class Tn{constructor(e){this.urlTree=e}}function Dn(e){return new $.a(t=>t.error(new An(e)))}function On(e){return new $.a(t=>t.error(new Tn(e)))}function In(e){return new $.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Mn{constructor(e,t,n,r,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(i.NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(ne.a)(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ee(e=>{if(e instanceof Tn)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof An)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(ne.a)(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Ee(e=>{if(e instanceof An)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new It([],{primary:e}):e;return new Ot(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(ne.a)(e=>new It([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return U({});const n=[],r=[],i={};return At(e,(e,o)=>{const s=t(o,e).pipe(Object(ne.a)(e=>i[o]=e));"primary"===o?n.push(s):r.push(s)}),U.apply(null,n.concat(r)).pipe(ie(),_e(),Object(ne.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,o){return U(...n).pipe(Object(ne.a)(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Ee(e=>{if(e instanceof An)return U(null);throw e}))),ie(),De(e=>!!e),Ee((e,n)=>{if(e instanceof W||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return U(new It([],{}));throw new An(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return Fn(r)!==o?Dn(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Dn(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?On(i):this.lineralizeSegments(n,i).pipe(Object(Oe.a)(n=>{const i=new It(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Rn(t,r,i);if(!s)return Dn(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?On(l):this.lineralizeSegments(r,l).pipe(Object(Oe.a)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(ne.a)(e=>(n._loadedConfig=e,new It(r,{})))):U(new It(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Rn(t,n,r);if(!i)return Dn(t);const a=r.slice(s);return this.getChildConfig(e,n,r).pipe(Object(Oe.a)(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:s}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>Pn(e,t,n)&&"primary"!==Fn(n))}(e,n,r)?{segmentGroup:kn(new It(t,function(e,t){const n={};n.primary=t;for(const r of e)""===r.path&&"primary"!==Fn(r)&&(n[Fn(r)]=new It([],{}));return n}(r,new It(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>Pn(e,t,n))}(e,n,r)?{segmentGroup:kn(new It(e.segments,function(e,t,n,r){const i={};for(const o of n)Pn(e,t,o)&&!r[Fn(o)]&&(i[Fn(o)]=new It([],{}));return Object.assign(Object.assign({},r),i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(ne.a)(e=>new It(o,e))):0===r.length&&0===s.length?U(new It(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(ne.a)(e=>new It(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?U(new vt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?U(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?Object(V.a)(r).pipe(Object(ne.a)(r=>{const i=e.get(r);let o;if(function(e){return e&&Sn(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Sn(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return Tt(o)})).pipe(ie(),(i=e=>!0===e,e=>e.lift(new Ie(i,void 0,e)))):U(!0);var i}(e.injector,t,n).pipe(Object(Oe.a)(n=>n?this.configLoader.load(e.injector,t).pipe(Object(ne.a)(e=>(t._loadedConfig=e,e))):function(e){return new $.a(t=>t.error(gt(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):U(new vt([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return U(n);if(r.numberOfChildren>1||!r.children.primary)return In(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Ot(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return At(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return At(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new It(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Rn(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||yt)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function kn(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new It(e.segments.concat(t.segments),t.children)}return e}function Pn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Fn(e){return e.outlet||"primary"}class jn{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ln{constructor(e,t){this.component=e,this.route=t}}function Bn(e,t,n){const r=e._root;return function e(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=en(n);return t.children.forEach(t=>{!function(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Rt(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Rt(e.url,t.url)||!Et(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hn(e,t)||!Et(e.queryParams,t.queryParams);case"paramsChange":default:return!hn(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new jn(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Ln(u&&u.outlet&&u.outlet.component||null,a))}else a&&Vn(n,u,o),o.canActivateChecks.push(new jn(i)),e(t,null,s.component?u?u.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]}),At(s,(e,t)=>Vn(e,r.getContext(t),o)),o}(r,t?t._root:null,n,[r.value])}function Un(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Vn(e,t,n){const r=en(e),i=e.value;At(r,(e,r)=>{Vn(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Ln(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}const qn=Symbol("INITIAL_VALUE");function zn(){return Re(e=>function(...e){let t=null,n=null;return Object(j.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(Q.a)(e[0])&&(e=e[0]),Object(L.a)(e,n).lift(new Y(t))}(...e.map(e=>e.pipe(Ne(1),function(...e){const t=e[e.length-1];return Object(j.a)(t)?(e.pop(),n=>Fe(e,n,t)):t=>Fe(e,t)}(qn)))).pipe(je((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==qn)return e;if(r===qn&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Nn(r))return r}return e},e)},qn),se(e=>e!==qn),Object(ne.a)(e=>Nn(e)?e:!0===e),Ne(1)))}function Hn(e,t){return null!==e&&t&&t(new lt(e)),U(!0)}function $n(e,t){return null!==e&&t&&t(new ut(e)),U(!0)}function Wn(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?U(r.map(r=>te(()=>{const i=Un(r,t,n);let o;if(function(e){return e&&Sn(e.canActivate)}(i))o=Tt(i.canActivate(t,e));else{if(!Sn(i))throw new Error("Invalid CanActivate guard");o=Tt(i(t,e))}return o.pipe(De())}))).pipe(zn()):U(!0)}function Qn(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>te(()=>U(t.guards.map(i=>{const o=Un(i,t.node,n);let s;if(function(e){return e&&Sn(e.canActivateChild)}(o))s=Tt(o.canActivateChild(r,e));else{if(!Sn(o))throw new Error("Invalid CanActivateChild guard");s=Tt(o(r,e))}return s.pipe(De())})).pipe(zn())));return U(i).pipe(zn())}class Gn{}class Kn{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=Jn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new sn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Xt(n,t),i=new an(this.url,r);return this.inheritParamsAndData(i._root),U(i)}catch(e){return new $.a(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=on(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=kt(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(i){if(!(i instanceof Gn))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new Gn}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new Gn;if((e.outlet||"primary")!==r)throw new Gn;let i,o=[],s=[];if("**"===e.path){const o=n.length>0?Nt(n).parameters:{};i=new sn(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tr(e),r,e.component,e,Zn(t),Yn(t)+n.length,nr(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Gn;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||yt)(n,e,t);if(!r)throw new Gn;const i={};At(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new sn(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tr(e),r,e.component,e,Zn(t),Yn(t)+o.length,nr(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=Jn(t,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return[new Xt(i,e)]}if(0===a.length&&0===c.length)return[new Xt(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Xt(i,l)]}}function Zn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Yn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Jn(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>Xn(e,t,n)&&"primary"!==er(n))}(e,n,r)){const i=new It(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&"primary"!==er(o)){const n=new It([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[er(o)]=n}return i}(e,t,r,new It(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Xn(e,t,n))}(e,n,r)){const o=new It(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(Xn(e,n,a)&&!i[er(a)]){const n=new It([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[er(a)]=n}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new It(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function Xn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function er(e){return e.outlet||"primary"}function tr(e){return e.data||{}}function nr(e){return e.resolve||{}}function rr(e,t,n,r){const i=Un(e,t,r);return Tt(i.resolve?i.resolve(t,n):i(t,n))}function ir(e){return function(t){return t.pipe(Re(t=>{const n=e(t);return n?Object(V.a)(n).pipe(Object(ne.a)(()=>t)):Object(V.a)([t])}))}}class or{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const sr=new i.InjectionToken("ROUTES");class ar{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(ne.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new vt(St(r.injector.get(sr)).map(xt),r)}))}loadModuleFactory(e){return"string"==typeof e?Object(V.a)(this.loader.load(e)):Tt(e()).pipe(Object(Oe.a)(e=>e instanceof i.NgModuleFactory?U(e):Object(V.a)(this.compiler.compileModuleAsync(e))))}}class ur{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function cr(e){throw e}function lr(e,t,n){return t.parse("/")}function hr(e,t){return U(null)}let dr=(()=>{class e{constructor(e,t,n,r,o,s,a,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new q.a,this.errorHandler=cr,this.malformedUriErrorHandler=lr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hr,afterPreactivation:hr},this.urlHandlingStrategy=new ur,this.routeReuseStrategy=new or,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.NgModuleRef),this.console=o.get(i["\u0275Console"]);const c=o.get(i.NgZone);this.isNgZoneEnabled=c instanceof i.NgZone,this.resetConfig(u),this.currentUrlTree=new Ot(new It([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ar(s,a,e=>this.triggerEvent(new st(e)),e=>this.triggerEvent(new at(e))),this.routerState=nn(this.currentUrlTree,this.rootComponentType),this.transitions=new H({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(se(e=>0!==e.id),Object(ne.a)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Re(e=>{let n=!1,r=!1;return U(e).pipe(He(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Re(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return U(e).pipe(Re(e=>{const n=this.transitions.getValue();return t.next(new Ye(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?X:[e]}),Re(e=>Promise.resolve(e)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(e){return e.pipe(Re(e=>function(e,t,n,r,i){return new Mn(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe(Object(ne.a)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),He(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(o){return o.pipe(Object(Oe.a)(o=>function(e,t,n,r,i="emptyOnly",o="legacy"){return new Kn(e,t,n,r,i,o).recognize()}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(ne.a)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),He(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),He(e=>{const n=new tt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new Ye(n,this.serializeUrl(r),i,o);t.next(a);const u=nn(r,this.rootComponentType).snapshot;return U(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),X}),ir(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),He(e=>{const t=new nt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(ne.a)(e=>Object.assign(Object.assign({},e),{guards:Bn(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(Object(Oe.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?U(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(V.a)(e).pipe(Object(Oe.a)(e=>function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?U(o.map(o=>{const s=Un(o,t,i);let a;if(function(e){return e&&Sn(e.canDeactivate)}(s))a=Tt(s.canDeactivate(e,t,n,r));else{if(!Sn(s))throw new Error("Invalid CanDeactivate guard");a=Tt(s(e,t,n,r))}return a.pipe(De())})).pipe(zn()):U(!0)}(e.component,e.route,n,t,r)),De(e=>!0!==e,!0))}(s,r,i,e).pipe(Object(Oe.a)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return Object(V.a)(t).pipe(Ue(t=>Object(V.a)([$n(t.route.parent,r),Hn(t.route,r),Qn(e,t.path,n),Wn(e,t.route,n)]).pipe(ie(),De(e=>!0!==e,!0))),De(e=>!0!==e,!0))}(r,o,e,t):U(n)),Object(ne.a)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),He(e=>{if(Nn(e.guardsResult)){const t=gt(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),He(e=>{const t=new rt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),se(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Xe(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),ir(e=>{if(e.guards.canActivateChecks.length)return U(e).pipe(He(e=>{const t=new it(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(Object(Oe.a)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;return i.length?Object(V.a)(i).pipe(Ue(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return U({});if(1===i.length){const o=i[0];return rr(e[o],t,n,r).pipe(Object(ne.a)(e=>({[o]:e})))}const o={};return Object(V.a)(i).pipe(Object(Oe.a)(i=>rr(e[i],t,n,r).pipe(Object(ne.a)(e=>(o[i]=e,e))))).pipe(_e(),Object(ne.a)(()=>o))}(e._resolve,e,t,r).pipe(Object(ne.a)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),on(e,n).resolve),null)))}(e.route,r,t,n)),function(e,t){return arguments.length>=2?function(n){return Object(Ve.a)(je(e,t),le(1),ye(t))(n)}:function(t){return Object(Ve.a)(je((t,n,r)=>e(t,n,r+1)),le(1))(t)}}((e,t)=>e),Object(ne.a)(t=>e)):U(e)}))}),He(e=>{const t=new ot(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,n}),ir(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ne.a)(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(i.value.snapshot,n.value))return e(t,n,i);return e(t,n)})}(t,n,r);return new Xt(i,o)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new rn(new H((i=n.value).url),new H(i.params),new H(i.queryParams),new H(i.fragment),new H(i.data),i.outlet,i.component,i),o=n.children.map(n=>e(t,n));return new Xt(r,o)}}var i}(e,t._root,n?n._root:void 0);return new tn(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),He(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=e=>this.triggerEvent(e),Object(ne.a)(e=>(new En(s,e.targetRouterState,e.currentRouterState,a).activate(o),e))),He({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Xe(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Ge(i))),Ee(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Nn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new Xe(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new et(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(o){e.reject(o)}}var i;return X}));var i,o,s,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){bt(e),this.config=e.map(xt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=t;Object(i.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return fn(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new pn(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return At(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new pn(n,t,r)}(n);if(o.toRoot())return fn(t.root,new It([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new mn(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new mn(n.snapshot._urlSegment,!0,0);const r=dn(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new mn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?vn(s.segmentGroup,s.index,o.commands):yn(s.segmentGroup,s.index,o.commands);return fn(s.segmentGroup,a,t,r,i)}(c,this.currentUrlTree,e,h,l)}navigateByUrl(e,t={skipLocationChange:!1}){Object(i.isDevMode)()&&this.isNgZoneEnabled&&!i.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Nn(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Nn(e))return Dt(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Dt(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Je(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){const o=this.getTransition();if(o&&"imperative"!==t&&"imperative"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"hashchange"==t&&"popstate"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"popstate"==t&&"hashchange"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((e,t)=>{s=e,a=t});const c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(e){i["\u0275\u0275invalidFactory"]()},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e})(),fr=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:mr(this.skipLocationChange),replaceUrl:mr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mr(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](dr),i["\u0275\u0275directiveInject"](rn),i["\u0275\u0275injectAttribute"]("tabindex"),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),e})(),pr=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Je&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:mr(this.skipLocationChange),replaceUrl:mr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mr(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](dr),i["\u0275\u0275directiveInject"](rn),i["\u0275\u0275directiveInject"](s.LocationStrategy))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(i["\u0275\u0275hostProperty"]("href",t.href,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275attribute"]("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),e})();function mr(e){return""===e||!!e}class gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yr,this.attachRef=null}}class yr{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new gr,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let vr=(()=>{class e{constructor(e,t,n,r,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new br(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](yr),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275injectAttribute"]("name"),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class br{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===rn?this.route:e===yr?this.childContexts:this.parent.get(e,t)}}class wr{}class _r{preload(e,t){return U(null)}}let xr=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new ar(t,n,t=>e.triggerEvent(new st(t)),t=>e.triggerEvent(new at(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(se(e=>e instanceof Je),Ue(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.NgModuleRef);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return Object(V.a)(n).pipe(Object(re.a)(),Object(ne.a)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Object(Oe.a)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](dr),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](wr))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Er=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ye?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Je&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof dt&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new dt(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(e){i["\u0275\u0275invalidFactory"]()},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e})();const Cr=new i.InjectionToken("ROUTER_CONFIGURATION"),Sr=new i.InjectionToken("ROUTER_FORROOT_GUARD"),Nr=[s.Location,{provide:Pt,useClass:Ft},{provide:dr,useFactory:function(e,t,n,r,i,o,a,u={},c,l){const h=new dr(null,e,t,n,r,i,o,St(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const e=Object(s["\u0275getDOM"])();h.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Pt,yr,s.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,sr,Cr,[class{},new i.Optional],[class{},new i.Optional]]},yr,{provide:rn,useFactory:function(e){return e.routerState.root},deps:[dr]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},xr,_r,class{preload(e,t){return t().pipe(Ee(()=>U(null)))}},{provide:Cr,useValue:{enableTracing:!1}}];function Ar(){return new i.NgProbeToken("Router",dr)}let Tr=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Nr,Mr(t),{provide:Sr,useFactory:Ir,deps:[[dr,new i.Optional,new i.SkipSelf]]},{provide:Cr,useValue:n||{}},{provide:s.LocationStrategy,useFactory:Or,deps:[s.PlatformLocation,[new i.Inject(s.APP_BASE_HREF),new i.Optional],Cr]},{provide:Er,useFactory:Dr,deps:[dr,s.ViewportScroller,Cr]},{provide:wr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_r},{provide:i.NgProbeToken,multi:!0,useFactory:Ar},[Rr,{provide:i.APP_INITIALIZER,multi:!0,useFactory:kr,deps:[Rr]},{provide:Fr,useFactory:Pr,deps:[Rr]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Fr}]]}}static forChild(t){return{ngModule:e,providers:[Mr(t)]}}}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](Sr,8),i["\u0275\u0275inject"](dr,8))}}),e})();function Dr(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Er(e,t,n)}function Or(e,t,n={}){return n.useHash?new s.HashLocationStrategy(e,t):new s.PathLocationStrategy(e,t)}function Ir(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Mr(e){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:sr,multi:!0,useValue:e}]}let Rr=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new q.a}appInitializer(){return this.injector.get(s.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(dr),r=this.injector.get(Cr);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?U(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Cr),n=this.injector.get(xr),r=this.injector.get(Er),o=this.injector.get(dr),s=this.injector.get(i.ApplicationRef);e===s.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.Injector))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function kr(e){return e.appInitializer.bind(e)}function Pr(e){return e.bootstrapListener.bind(e)}const Fr=new i.InjectionToken("Router Initializer");var jr=n("XoHu");function Lr(e,t){return new $.a(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(V.a)(e[a]);let c=!1;n.add(u.subscribe({next:e=>{c||(c=!0,s++),i[a]=e},error:e=>n.error(e),complete:()=>{o++,o!==r&&c||(s===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}const Br=new i.InjectionToken("NgValueAccessor"),Ur={provide:Br,useExisting:Object(i.forwardRef)(()=>Vr),multi:!0};let Vr=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[i["\u0275\u0275ProvidersFeature"]([Ur])]}),e})();const qr={provide:Br,useExisting:Object(i.forwardRef)(()=>Hr),multi:!0},zr=new i.InjectionToken("CompositionEventMode");let Hr=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Object(s["\u0275getDOM"])()?Object(s["\u0275getDOM"])().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](zr,8))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[i["\u0275\u0275ProvidersFeature"]([qr])]}),e})(),$r=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e})(),Wr=(()=>{class e extends $r{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return Qr(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();const Qr=i["\u0275\u0275getInheritedFactory"](Wr);function Gr(){throw new Error("unimplemented")}class Kr extends $r{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Gr()}get asyncValidator(){return Gr()}}class Zr{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Yr=(()=>{class e extends Zr{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Kr,2))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})(),Jr=(()=>{class e extends Zr{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Wr,2))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();function Xr(e){return null==e||0===e.length}const ei=new i.InjectionToken("NgValidators"),ti=new i.InjectionToken("NgAsyncValidators"),ni=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ri{static min(e){return t=>{if(Xr(t.value)||Xr(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Xr(t.value)||Xr(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Xr(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Xr(e.value)||ni.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(Xr(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return ri.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Xr(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(ii);return 0==t.length?null:function(e){return si(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(ii);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(Object(Q.a)(t))return Lr(t,null);if(Object(jr.a)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Lr(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Lr(e=1===e.length&&Object(Q.a)(e[0])?e[0]:e,null).pipe(Object(ne.a)(e=>t(...e)))}return Lr(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(oi)).pipe(Object(ne.a)(si))}}}function ii(e){return null!=e}function oi(e){const t=Object(i["\u0275isPromise"])(e)?Object(V.a)(e):e;if(!Object(i["\u0275isObservable"])(t))throw new Error("Expected validator to return Promise or Observable.");return t}function si(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function ai(e){return e.validate?t=>e.validate(t):e}function ui(e){return e.validate?t=>e.validate(t):e}const ci={provide:Br,useExisting:Object(i.forwardRef)(()=>li),multi:!0};let li=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[i["\u0275\u0275ProvidersFeature"]([ci])]}),e})();const hi={provide:Br,useExisting:Object(i.forwardRef)(()=>fi),multi:!0};let di=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),fi=(()=>{class e{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Kr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](di),i["\u0275\u0275directiveInject"](i.Injector))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i["\u0275\u0275ProvidersFeature"]([hi])]}),e})();const pi={provide:Br,useExisting:Object(i.forwardRef)(()=>mi),multi:!0};let mi=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[i["\u0275\u0275ProvidersFeature"]([pi])]}),e})();const gi='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',yi='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',vi={provide:Br,useExisting:Object(i.forwardRef)(()=>wi),multi:!0};function bi(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let wi=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=i["\u0275looseIdentical"]}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=bi(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i["\u0275\u0275ProvidersFeature"]([vi])]}),e})(),_i=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(bi(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](wi,9))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const xi={provide:Br,useExisting:Object(i.forwardRef)(()=>Ci),multi:!0};function Ei(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Ci=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=i["\u0275looseIdentical"]}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i["\u0275\u0275ProvidersFeature"]([xi])]}),e})(),Si=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Ei(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Ei(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](Ci,9))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function Ni(e,t){return[...t.path,e]}function Ai(e,t){e||Di(t,"Cannot find control with"),t.valueAccessor||Di(t,"No value accessor for form control with"),e.validator=ri.compose([e.validator,t.validator]),e.asyncValidator=ri.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Ti(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Ti(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Ti(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Di(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function Oi(e){return null!=e?ri.compose(e.map(ai)):null}function Ii(e){return null!=e?ri.composeAsync(e.map(ui)):null}const Mi=[Vr,mi,li,wi,Ci,fi];function Ri(e){const t=Pi(e)?e.validators:e;return Array.isArray(t)?Oi(t):t||null}function ki(e,t){const n=Pi(t)?t.asyncValidators:e;return Array.isArray(n)?Ii(n):n||null}function Pi(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Fi{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Ri(e)}setAsyncValidators(e){this.asyncValidator=ki(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=oi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof Li?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Bi&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.EventEmitter,this.statusChanges=new i.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pi(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ji extends Fi{constructor(e=null,t,n){super(Ri(t),ki(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Li extends Fi{constructor(e,t,n){super(Ri(t),ki(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ji?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Bi extends Fi{constructor(e,t,n){super(Ri(t),ki(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ji?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Ui={provide:Wr,useExisting:Object(i.forwardRef)(()=>qi)},Vi=(()=>Promise.resolve(null))();let qi=(()=>{class e extends Wr{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.EventEmitter,this.form=new Li({},Oi(e),Ii(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Vi.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Ai(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Vi.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this._directives,e)})}addFormGroup(e){Vi.then(()=>{const t=this._findContainer(e.path),n=new Li({});(function(e,t){null==e&&Di(t,"Cannot find control with"),e.validator=ri.compose([e.validator,t.validator]),e.asyncValidator=ri.composeAsync([e.asyncValidator,t.asyncValidator])})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Vi.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Vi.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ei,10),i["\u0275\u0275directiveInject"](ti,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i["\u0275\u0275ProvidersFeature"]([Ui]),i["\u0275\u0275InheritDefinitionFeature"]]}),e})(),zi=(()=>{class e extends Wr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ni(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Oi(this._validators)}get asyncValidator(){return Ii(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return Hi(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();const Hi=i["\u0275\u0275getInheritedFactory"](zi);class $i{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${gi}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${yi}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${gi}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${yi}`)}}const Wi={provide:Wr,useExisting:Object(i.forwardRef)(()=>Qi)};let Qi=(()=>{class e extends zi{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof e||this._parent instanceof qi||$i.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Wr,5),i["\u0275\u0275directiveInject"](ei,10),i["\u0275\u0275directiveInject"](ti,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i["\u0275\u0275ProvidersFeature"]([Wi]),i["\u0275\u0275InheritDefinitionFeature"]]}),e})();const Gi={provide:Kr,useExisting:Object(i.forwardRef)(()=>Zi)},Ki=(()=>Promise.resolve(null))();let Zi=(()=>{class e extends Kr{constructor(e,t,n,r){super(),this.control=new ji,this._registered=!1,this.update=new i.EventEmitter,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Di(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return t.forEach(t=>{var o;t.constructor===Hr?n=t:(o=t,Mi.some(e=>o.constructor===e)?(r&&Di(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Di(e,"More than one custom value accessor matches form control with"),i=t))}),i||r||n||(Di(e,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object(i["\u0275looseIdentical"])(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ni(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Oi(this._rawValidators)}get asyncValidator(){return Ii(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ai(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Qi)&&this._parent instanceof zi?$i.formGroupNameException():this._parent instanceof Qi||this._parent instanceof qi||$i.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||$i.missingNameException()}_updateValue(e){Ki.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Ki.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Wr,9),i["\u0275\u0275directiveInject"](ei,10),i["\u0275\u0275directiveInject"](ti,10),i["\u0275\u0275directiveInject"](Br,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i["\u0275\u0275ProvidersFeature"]([Gi]),i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]]}),e})(),Yi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Ji={provide:ei,useExisting:Object(i.forwardRef)(()=>Xi),multi:!0};let Xi=(()=>{class e{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?ri.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("required",t.required?"":null)},inputs:{required:"required"},features:[i["\u0275\u0275ProvidersFeature"]([Ji])]}),e})();const eo={provide:ei,useExisting:Object(i.forwardRef)(()=>to),multi:!0};let to=(()=>{class e{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?ri.email(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[i["\u0275\u0275ProvidersFeature"]([eo])]}),e})();const no={provide:ei,useExisting:Object(i.forwardRef)(()=>ro),multi:!0};let ro=(()=>{class e{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=ri.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[i["\u0275\u0275ProvidersFeature"]([no]),i["\u0275\u0275NgOnChangesFeature"]]}),e})(),io=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})(),oo=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[di],imports:[io]}),e})();class so extends Qe.a{constructor(e,t){super()}schedule(e,t=0){return this}}class ao extends so{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class uo extends ao{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}let co=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class lo extends co{constructor(e,t=co.now){super(e,()=>lo.delegate&&lo.delegate!==this?lo.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return lo.delegate&&lo.delegate!==this?lo.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}class ho extends lo{}const fo=new ho(uo),po=new lo(ao);let mo=1;const go=(()=>Promise.resolve())(),yo={};function vo(e){return e in yo&&(delete yo[e],!0)}const bo={setImmediate(e){const t=mo++;return yo[t]=!0,go.then(()=>vo(t)&&e()),t},clearImmediate(e){vo(e)}};class wo extends ao{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=bo.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(bo.clearImmediate(t),e.scheduled=void 0)}}class _o extends lo{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const xo=new _o(wo);class Eo extends $.a{constructor(e,t=0,n=xo){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,r=t,(Object(Q.a)(r)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=xo)}static create(e,t=0,n=xo){return new Eo(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(Eo.dispatch,this.delayTime,{source:this.source,subscriber:e})}}class Co{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new Eo(t,this.delay,this.scheduler).subscribe(e)}}let So=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return U(this.value);case"E":return e=this.error,new $.a(t=>t.error(e));case"C":return ee()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function No(e,t=0){return function(n){return n.lift(new Ao(e,t))}}class Ao{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new To(e,this.scheduler,this.delay))}}class To extends oe.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(To.dispatch,this.delay,new Do(e,this.destination)))}_next(e){this.scheduleMessage(So.createNext(e))}_error(e){this.scheduleMessage(So.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(So.createComplete()),this.unsubscribe()}}class Do{constructor(e,t){this.notification=e,this.destination=t}}var Oo=n("Wcq6");function Io(){}class Mo{constructor(e,t=fo){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule((function(t){r.runGuarded(()=>{e.apply(this,[t])})}),t,n)}}class Ro{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Io,{},Io,Io)),t.pipe(He(n,n,n)).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ko{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Mo(Zone.current)),this.insideAngular=e.run(()=>new Mo(Zone.current,po))}}function Po(e,t){return function(t){return(t=t.lift(new Ro(e.ngZone))).pipe(function(e,t=0){return function(n){return n.lift(new Co(e,t))}}(e.outsideAngular),No(e.insideAngular))}}const Fo=["ngOnDestroy"],jo=new i.InjectionToken("angularfire2.app.options"),Lo=new i.InjectionToken("angularfire2.app.nameOrConfig"),Bo=new i.Version("6.0.0");function Uo(e,t,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Oo.apps.filter(e=>e&&e.name===r.name)[0]||t.runOutsideAngular(()=>Object(Oo.initializeApp)(e,r))}const Vo={provide:class{},useFactory:Uo,deps:[jo,i.NgZone,[new i.Optional,Lo]]};let qo=(()=>{class e{constructor(e){Object(Oo.registerVersion)("angularfire",Bo.full,e.toString()),Object(Oo.registerVersion)("angular",i.VERSION.full)}static initializeApp(t,n){return{ngModule:e,providers:[{provide:jo,useValue:t},{provide:Lo,useValue:n}]}}}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](i.PLATFORM_ID))},providers:[Vo]}),e})();var zo=n("Ylt2");class Ho extends q.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new $o(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new z.a;if(this.isStopped||this.hasError?o=Qe.a.EMPTY:(this.observers.push(e),o=new zo.a(this,e)),r&&e.add(e=new To(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||fo).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}class $o{constructor(e,t){this.time=e,this.value=t}}const Wo=new i.InjectionToken("GOOGLE_CHARTS_CONFIG");let Qo=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:Wo,useValue:t}]}}}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();function Go(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}let Ko=(()=>{class e{constructor(e,t,r,i){const o=new ko(i),s=Po(o),a=U(void 0).pipe(No(o.outsideAngular),Re(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(ne.a)(()=>Uo(e,i,t)),Object(ne.a)(e=>e.auth()),function(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:void 0,refCount:!1,scheduler:void 0},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){s++,i&&!a||(a=!1,i=new Ho(e,t,r),o=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){u=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return this.authState=a.pipe(No(o.outsideAngular),Re(e=>new $.a(e.onAuthStateChanged.bind(e))),s),this.user=a.pipe(No(o.outsideAngular),Re(e=>new $.a(e.onIdTokenChanged.bind(e))),s),this.idToken=this.user.pipe(Re(e=>e?Object(V.a)(e.getIdToken()):U(null))),this.idTokenResult=this.user.pipe(Re(e=>e?Object(V.a)(e.getIdTokenResult()):U(null))),((e,t,n)=>new Proxy(e,{get:(r,i)=>n.runOutsideAngular(()=>{if(e[i])return e[i];if(Fo.includes(i))return()=>{};let r=t.toPromise().then(e=>{const t=e&&e[i];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>r[t],apply:(e,t,n)=>r.then(e=>e&&e(...n))})})}))(this,a,i)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](jo),i["\u0275\u0275inject"](Lo,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(jo),Object(i["\u0275\u0275inject"])(Lo,8),Object(i["\u0275\u0275inject"])(i.PLATFORM_ID),Object(i["\u0275\u0275inject"])(i.NgZone))},token:e,providedIn:"any"}),e})();var Zo=n("VRyK"),Yo=n("w1tV");class Jo{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Xo(e,this.compare,this.keySelector))}}class Xo extends oe.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}class es{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new ts(e,this.observables,this.project))}}class ts extends G.a{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let e=t[i];this.add(Object(K.a)(this,e,e,i))}}notifyNext(e,t,n,r,i){this.values[n]=t;const o=this.toRespond;if(o.length>0){const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class ns{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new rs(e,this.predicate))}}class rs extends oe.a{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}function is(e){return null==e}function os(e){return"function"==typeof e.set}function ss(e,t){return os(t)?t:e.ref(t)}function as(e,t){if("string"==typeof e)return t.stringCase();if(os(e))return t.firebaseCase();if(function(e){return"function"==typeof e.exportVal}(e))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function us(e,t,n="on",r=po){return new $.a(i=>{let o=null;return o=e[n](t,(e,t)=>{r.schedule(()=>{i.next({snapshot:e,prevKey:t})}),"once"==n&&r.schedule(()=>i.complete())},e=>{r.schedule(()=>i.error(e))}),"on"==n?{unsubscribe(){null!=o&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(Object(ne.a)(e=>{const{snapshot:n,prevKey:r}=e;let i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}}),Object(Yo.a)())}function cs(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function ls(e,t){const{payload:n,prevKey:r,key:i}=t,o=cs(e,i),s=function(e,t){if(is(t))return 0;{const n=cs(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const r={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,r],!1})}return e;case"child_added":if(o>-1){const i=e[o-1];(i&&i.key||null)!=r&&(e=e.filter(e=>e.payload.key!==n.key)).splice(s,0,t)}else{if(null==r)return[t,...e];(e=e.slice()).splice(s,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===i?t:e);case"child_moved":if(o>-1){const t=e.splice(o,1)[0];return(e=e.slice()).splice(s,0,t),e}return e;default:return e}}function hs(e){return(is(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function ds(e,t,n){return function(e,t,n){return us(e,"value","once",n).pipe(Re(r=>{const i=[U(r)];return t.forEach(t=>i.push(us(e,t,"on",n))),Object(Zo.a)(...i).pipe(je(ls,[]))}),e=>e.lift(new Jo(void 0,void 0)))}(e,t=hs(t),n)}function fs(e,t,n){const r=(t=hs(t)).map(t=>us(e,t,"on",n));return Object(Zo.a)(...r)}function ps(e,t){return function(n,r){return as(n,{stringCase:()=>e.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function ms(e,t){return function(){return us(e,"value","on",t)}}n("NSPt");const gs=new i.InjectionToken("angularfire2.realtimeDatabaseURL");let ys=(()=>{class e{constructor(e,t,n,r,i){this.schedulers=new ko(i),this.keepUnstableUntilFirst=Po(this.schedulers),this.database=i.runOutsideAngular(()=>Uo(e,i,t).database(n||void 0))}list(e,t){const n=ss(this.database,e);let r=n;return t&&(r=t(n)),function(e,t){const n=t.schedulers.outsideAngular;return{query:e,update:ps(e.ref,"update"),set:ps(e.ref,"set"),push:t=>e.ref.push(t),remove:(r=e.ref,function(e){return e?as(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}),snapshotChanges:r=>ds(e,r,n).pipe(t.keepUnstableUntilFirst),stateChanges:r=>fs(e,r,n).pipe(t.keepUnstableUntilFirst),auditTrail:r=>function(e,t,n){return function(e,t,n){return function(e,t){return us(e,"value","on",t).pipe(Object(ne.a)(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e,n).pipe(function(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new es(e,n))}}(t),Object(ne.a)(([e,t])=>{let n=e.lastKeyToLoad;const r=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:r}}),(r=e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad),e=>e.lift(new ns(r))),Object(ne.a)(e=>e.actions));var r}(e,fs(e,t).pipe(je((e,t)=>[...e,t],[])),n)}(e,r,n).pipe(t.keepUnstableUntilFirst),valueChanges:r=>ds(e,r,n).pipe(Object(ne.a)(e=>e.map(e=>e.payload.val())),t.keepUnstableUntilFirst)};var r}(r,this)}object(e){const t=ss(this.database,e);return r=this,{query:n=t,snapshotChanges:()=>ms(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>ms(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(ne.a)(e=>e.payload.exists()?e.payload.val():null))};var n,r}createPushId(){return this.database.ref().push().key}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](jo),i["\u0275\u0275inject"](Lo,8),i["\u0275\u0275inject"](gs,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(jo),Object(i["\u0275\u0275inject"])(Lo,8),Object(i["\u0275\u0275inject"])(gs,8),Object(i["\u0275\u0275inject"])(i.PLATFORM_ID),Object(i["\u0275\u0275inject"])(i.NgZone))},token:e,providedIn:"any"}),e})();class vs{}class bs{}class ws{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ws?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ws;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ws?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _s{encodeKey(e){return xs(e)}encodeValue(e){return xs(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function xs(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Es{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _s,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Es({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Cs(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Ss(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ns(e){return"undefined"!=typeof FormData&&e instanceof FormData}class As{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new ws),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Es,this.urlWithParams=t}serializeBody(){return null===this.body?null:Cs(this.body)||Ss(this.body)||Ns(this.body)||"string"==typeof this.body?this.body:this.body instanceof Es?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ns(this.body)?null:Ss(this.body)?this.body.type||null:Cs(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Es?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(u=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),u)),new As(t,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const Ts=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class Ds{constructor(e,t=200,n="OK"){this.headers=e.headers||new ws,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Os extends Ds{constructor(e={}){super(e),this.type=Ts.ResponseHeader}clone(e={}){return new Os({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Is extends Ds{constructor(e={}){super(e),this.type=Ts.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Is({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ms extends Ds{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Rs(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let ks=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof As)r=e;else{let i=void 0;i=n.headers instanceof ws?n.headers:new ws(n.headers);let o=void 0;n.params&&(o=n.params instanceof Es?n.params:new Es({fromObject:n.params})),r=new As(e,t,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=U(r).pipe(Ue(e=>this.handler.handle(e)));if(e instanceof As||"events"===n.observe)return i;const o=i.pipe(se(e=>e instanceof Is));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(ne.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(Object(ne.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(Object(ne.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(Object(ne.a)(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Es).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Rs(n,t))}post(e,t,n={}){return this.request("POST",e,Rs(n,t))}put(e,t,n={}){return this.request("PUT",e,Rs(n,t))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](vs))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class Ps{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Fs=new i.InjectionToken("HTTP_INTERCEPTORS");let js=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const Ls=/^\)\]\}',?\n/;class Bs{}let Us=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Vs=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new $.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new ws(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Os({headers:o,status:t,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof u){const e=u;u=u.replace(Ls,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=e,c&&(c=!1,u={error:l,text:u})}}c?(t.next(new Is({body:u,headers:r,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new Ms({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:r}=o(),i=new Ms({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let u=!1;const c=r=>{u||(t.next(o()),u=!0);let i={type:Ts.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},l=e=>{let n={type:Ts.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),t.next({type:Ts.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Bs))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const qs=new i.InjectionToken("XSRF_COOKIE_NAME"),zs=new i.InjectionToken("XSRF_HEADER_NAME");class Hs{}let $s=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(s["\u0275parseCookieValue"])(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.DOCUMENT),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](qs))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Ws=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Hs),i["\u0275\u0275inject"](zs))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Qs=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Fs,[]);this.chain=e.reduceRight((e,t)=>new Ps(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](bs),i["\u0275\u0275inject"](i.Injector))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Gs=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Ws,useClass:js}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:qs,useValue:t.cookieName}:[],t.headerName?{provide:zs,useValue:t.headerName}:[]]}}}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[Ws,{provide:Fs,useExisting:Ws,multi:!0},{provide:Hs,useClass:$s},{provide:qs,useValue:"XSRF-TOKEN"},{provide:zs,useValue:"X-XSRF-TOKEN"}]}),e})(),Ks=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[ks,{provide:vs,useClass:Qs},Vs,{provide:bs,useExisting:Vs},Us,{provide:Bs,useExisting:Us}],imports:[[Gs.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();function Zs(e){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ys(e){return"number"==typeof e}function Js(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function Xs(e){return e&&"object"===Zs(e)&&!0===Object.getPrototypeOf(e).isComplex||!1}function ea(e){return e&&"object"===Zs(e)&&!0===Object.getPrototypeOf(e).isFraction||!1}function ta(e){return e&&!0===e.constructor.prototype.isUnit||!1}function na(e){return"string"==typeof e}var ra=Array.isArray;function ia(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function oa(e){return Array.isArray(e)||ia(e)}function sa(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function aa(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function ua(e){return e&&!0===e.constructor.prototype.isRange||!1}function ca(e){return e&&!0===e.constructor.prototype.isIndex||!1}function la(e){return"boolean"==typeof e}function ha(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function da(e){return e&&!0===e.constructor.prototype.isHelp||!1}function fa(e){return"function"==typeof e}function pa(e){return e instanceof Date}function ma(e){return e instanceof RegExp}function ga(e){return!(!e||"object"!==Zs(e)||e.constructor!==Object||Xs(e)||ea(e))}function ya(e){return null===e}function va(e){return void 0===e}function ba(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function wa(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function _a(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function xa(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function Ea(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function Ca(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function Sa(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function Na(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function Aa(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function Ta(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function Da(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function Oa(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function Ia(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function Ma(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function Ra(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function ka(e){return e&&!0===e.constructor.prototype.isChain||!1}function Pa(e){var t=Zs(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":Js(e)?"BigNumber":Xs(e)?"Complex":ea(e)?"Fraction":ia(e)?"Matrix":ta(e)?"Unit":ca(e)?"Index":ua(e)?"Range":ha(e)?"ResultSet":Ta(e)?e.type:ka(e)?"Chain":da(e)?"Help":"Object":"function"===t?"Function":t}function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e){var t=Fa(e);if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return ja(e)}));if(e instanceof Date)return new Date(e.valueOf());if(Js(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return La(e,ja)}function La(e,t){var n={};for(var r in e)qa(e,r)&&(n[r]=t(e[r]));return n}function Ba(e,t){for(var n in t)qa(t,n)&&(e[n]=t[n]);return e}function Ua(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!Ua(e[r],t[r]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Ua(e[n],t[n]))return!1;for(n in t)if(!(n in e)||!Ua(e[n],t[n]))return!1;return!0}return e===t}function Va(e,t,n){var r,i=!0;Object.defineProperty(e,t,{get:function(){return i&&(r=n(),i=!1),r},set:function(e){r=e,i=!1},configurable:!0,enumerable:!0})}function qa(e,t){return e&&Object.hasOwnProperty.call(e,t)}function za(e){return Object.keys(e).map((function(t){return e[t]}))}var Ha=n("wOJ8"),$a=n.n(Ha);function Wa(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var Qa=Math.sign||function(e){return e>0?1:e<0?-1:0},Ga=Math.log2||function(e){return Math.log(e)/Math.LN2},Ka=Math.log10||function(e){return Math.log(e)/Math.LN10},Za=Math.log1p||function(e){return Math.log(e+1)},Ya=Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t},Ja=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Xa(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r="auto";switch(t&&(t.notation&&(r=t.notation),Ys(t)?n=t:Ys(t.precision)&&(n=t.precision)),r){case"fixed":return tu(e,n);case"exponential":return nu(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ru(eu(e),t),r=n.exponent,i=n.coefficients,o=r%3==0?r:r<0?r-3-r%3:r-r%3;if(Ys(t))for(;t>i.length||r-o+1>i.length;)i.push(0);else for(var s=Math.abs(r-o)-(i.length-1),a=0;a<s;a++)i.push(0);for(var u=Math.abs(r-o),c=1;u>0;)c++,u--;var l=i.slice(c).join(""),h=Ys(t)&&l.length||l.match(/[1-9]/)?"."+l:"",d=i.slice(0,c).join("")+h+"e"+(r>=0?"+":"")+o.toString();return n.sign+d}(e,n);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=eu(e),s=t?ru(o,t):o;if(s.exponent<r||s.exponent>=i)return nu(e,t);var a=s.coefficients,u=s.exponent;a.length<t&&(a=a.concat(iu(t-a.length))),a=a.concat(iu(u-a.length+1+(a.length<t?t-a.length:0)));var c=u>0?u:0;return c<(a=iu(-u).concat(a)).length-1&&a.splice(c+1,0,"."),s.sign+a.join("")}(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function eu(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var s=r.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===s.length&&(s.push(0),i++),{sign:n,coefficients:s,exponent:i}}function tu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=eu(e),r="number"==typeof t?ru(n,n.exponent+1+t):n,i=r.coefficients,o=r.exponent+1,s=o+(t||0);return i.length<s&&(i=i.concat(iu(s-i.length))),o<0&&(i=iu(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),r.sign+i.join("")}function nu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=eu(e),r=t?ru(n,t):n,i=r.coefficients,o=r.exponent;i.length<t&&(i=i.concat(iu(t-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function ru(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function iu(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var ou=Number.EPSILON||2220446049250313e-31;function su(e,t,n){if(null==n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<ou||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var au=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},uu=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},cu=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},lu=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},hu=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},du=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function fu(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function pu(e){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e,t){return e.substring(e.length-t.length,e.length)===t}function gu(e,t){return"number"==typeof e?Xa(e,t):Js(e)?function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==t&&(t.notation&&(r=t.notation),"number"==typeof t?n=t:t.precision&&(n=t.precision)),r){case"fixed":return function(e,t){return e.toFixed(t)}(e,n);case"exponential":return fu(e,n);case"engineering":return function(e,t){var n=e.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),o=i.toPrecision(t);return-1!==o.indexOf("e")&&(o=i.toString()),o+"e"+(n>=0?"+":"")+r.toString()}(e,n);case"auto":var i=t&&void 0!==t.lowerExp?t.lowerExp:-3,o=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var s=e.toSignificantDigits(n),a=s.e;return(a>=i&&a<o?s.toFixed():fu(e,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}(e,t):function(e){return e&&"object"===pu(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?function e(t,n){if(Array.isArray(t)){for(var r="[",i=t.length,o=0;o<i;o++)0!==o&&(r+=", "),r+=e(t[o],n);return r+"]"}return gu(t,n)}(e,t):na(e)?'"'+e+'"':"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"===pu(e)?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((function(n){return'"'+n+'": '+gu(e[n],t)})).join(", ")+"}":String(e)}function yu(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);"\\"===i?(n+=i,r++,""!==(i=t.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}function vu(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function bu(e,t){if(!na(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Pa(e)+", index: 0)");if(!na(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Pa(t)+", index: 1)");return e===t?0:e>t?1:-1}function wu(e,t,n){if(!(this instanceof wu))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function _u(e,t,n){if(!(this instanceof _u))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function xu(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Eu(e,t){if(0===t.length){if(Array.isArray(e))throw new wu(e.length,0)}else!function e(t,n,r){var i,o=t.length;if(o!==n[r])throw new wu(o,n[r]);if(r<n.length-1){var s=r+1;for(i=0;i<o;i++){if(!Array.isArray(t[i]))throw new wu(n.length-1,n.length,"<");e(t[i],n,s)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new wu(n.length+1,n.length,">")}(e,t,0)}function Cu(e,t){if(!Ys(e)||!Wa(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new _u(e,t)}function Su(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!Ys(e)||!Wa(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+gu(t)+")")})),function e(t,n,r,i){var o,s,a=n[r],u=Math.min(t.length,a);if(t.length=a,r<n.length-1){var c=r+1;for(o=0;o<u;o++)s=t[o],Array.isArray(s)||(t[o]=s=[s]),e(s,n,c,i);for(o=u;o<a;o++)t[o]=s=[],e(s,n,c,i)}else{for(o=0;o<u;o++)for(;Array.isArray(t[o]);)t[o]=t[o][0];for(o=u;o<a;o++)t[o]=i}}(e,t,0,void 0!==n?n:0),e}function Nu(e,t){var n,r=Du(e);function i(e){return e.reduce((function(e,t){return e*t}))}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new wu(0,i(xu(e)),"!=");for(var o=1,s=0;s<t.length;s++)o*=t[s];if(r.length!==o)throw new wu(i(t),i(xu(e)),"!=");try{n=function(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var o=t[i];n=[];for(var s=r.length/o,a=0;a<s;a++)n.push(r.slice(a*o,(a+1)*o));r=n}return r}(r,t)}catch(a){if(a instanceof wu)throw new wu(i(t),i(xu(e)),"!=");throw a}return n}function Au(e,t){for(var n=t||xu(e);Array.isArray(e)&&1===e.length;)e=e[0],n.shift();for(var r=n.length;1===n[r-1];)r--;return r<n.length&&(e=function e(t,n,r){var i,o;if(r<n){var s=r+1;for(i=0,o=t.length;i<o;i++)t[i]=e(t[i],n,s)}else for(;Array.isArray(t);)t=t[0];return t}(e,r,0),n.length=r),e}function Tu(e,t,n,r){var i=r||xu(e);if(n)for(var o=0;o<n;o++)e=[e],i.unshift(1);for(e=function e(t,n,r){var i,o;if(Array.isArray(t)){var s=r+1;for(i=0,o=t.length;i<o;i++)t[i]=e(t[i],n,s)}else for(var a=r;a<n;a++)t=[t];return t}(e,t,0);i.length<t;)i.push(1);return e}function Du(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(n){Array.isArray(n)?n.forEach(e):t.push(n)})),t}function Ou(e,t){return Array.prototype.map.call(e,t)}function Iu(e,t){Array.prototype.forEach.call(e,t)}function Mu(e,t){if(1!==xu(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Ru(e,t){if(1!==xu(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,(function(e){return t.test(e)}))}function ku(e,t){return Array.prototype.join.call(e,t)}function Pu(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],n=0;t[0]={value:e[0],identifier:0};for(var r=1;r<e.length;r++)e[r]===e[r-1]?n++:n=0,t.push({value:e[r],identifier:n});return t}function Fu(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);return t}function ju(e,t){for(var n,r=0,i=0;i<e.length;i++){var o=e[i],s=Array.isArray(o);if(0===i&&s&&(r=o.length),s&&o.length!==r)return;var a=s?ju(o,t):t(o);if(void 0===n)n=a;else if(n!==a)return"mixed"}return n}function Lu(e,t){return-1!==e.indexOf(t)}function Bu(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],o=e[i];void 0!==o&&(n[i]=o)}return n}(r,t.map(Vu));return function(e,t,n){if(!t.filter((function(e){return!function(e){return e&&"?"===e[0]}(e)})).every((function(e){return void 0!==n[e]}))){var r=t.filter((function(e){return void 0===n[e]}));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map((function(e){return'"'.concat(e,'"')})).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Uu(e){return"function"==typeof e&&"string"==typeof e.fn&&Array.isArray(e.dependencies)}function Vu(e){return e&&"?"===e[0]?e.slice(1):e}function qu(e,t,n,r){if(!(this instanceof qu))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}function zu(e){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(wu.prototype=new RangeError).constructor=RangeError,wu.prototype.name="DimensionError",wu.prototype.isDimensionError=!0,(_u.prototype=new RangeError).constructor=RangeError,_u.prototype.name="IndexError",_u.prototype.isIndexError=!0,(qu.prototype=new Error).constructor=Error,qu.prototype.name="ArgumentsError",qu.prototype.isArgumentsError=!0;var Hu={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},$u=["Matrix","Array"],Wu=["number","BigNumber","Fraction"];function Qu(e,t,n){void 0!==e[t]&&-1===n.indexOf(e[t])&&console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map((function(e){return JSON.stringify(e)})).join(", ")+".")}function Gu(){return(Gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ku=n("djRN"),Zu=n.n(Ku),Yu=function(){return Yu=Zu.a.create,Zu.a},Ju=Bu("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var t=e.BigNumber,n=e.Complex,r=e.DenseMatrix,i=e.Fraction,o=Yu();return o.types=[{name:"number",test:Ys},{name:"Complex",test:Xs},{name:"BigNumber",test:Js},{name:"Fraction",test:ea},{name:"Unit",test:ta},{name:"string",test:na},{name:"Chain",test:ka},{name:"Array",test:ra},{name:"Matrix",test:ia},{name:"DenseMatrix",test:sa},{name:"SparseMatrix",test:aa},{name:"Range",test:ua},{name:"Index",test:ca},{name:"boolean",test:la},{name:"ResultSet",test:ha},{name:"Help",test:da},{name:"function",test:fa},{name:"Date",test:pa},{name:"RegExp",test:ma},{name:"null",test:ya},{name:"undefined",test:va},{name:"AccessorNode",test:ba},{name:"ArrayNode",test:wa},{name:"AssignmentNode",test:_a},{name:"BlockNode",test:xa},{name:"ConditionalNode",test:Ea},{name:"ConstantNode",test:Ca},{name:"FunctionNode",test:Na},{name:"FunctionAssignmentNode",test:Sa},{name:"IndexNode",test:Aa},{name:"Node",test:Ta},{name:"ObjectNode",test:Da},{name:"OperatorNode",test:Oa},{name:"ParenthesisNode",test:Ia},{name:"RangeNode",test:Ma},{name:"SymbolNode",test:Ra},{name:"Object",test:ga}],o.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||Xu(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||ec(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||ec(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||ec(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||tc(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||Xu(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){i||tc(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||ec(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||Xu(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||tc(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],o}));function Xu(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function ec(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function tc(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var nc=Bu("ResultSet",[],(function(){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}),{isClass:!0}),rc=n("QSgb"),ic=n.n(rc),oc=Bu("BigNumber",["?on","config"],(function(e){var t=e.on,n=ic.a.clone({precision:e.config.precision});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(e){return new n(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&n.config({precision:e.precision})})),n}),{isClass:!0}),sc=n("7a9l"),ac=n.n(sc);function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cc=Bu("Complex",[],(function(){return ac.a.prototype.type="Complex",ac.a.prototype.isComplex=!0,ac.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ac.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ac.a.prototype.format=function(e){var t=this.im,n=this.re,r=Xa(this.re,e),i=Xa(this.im,e),o=Ys(e)?e:e?e.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(n/t)<s&&(n=0),Math.abs(t/n)<s&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?r+" - i":r+" - "+i.substring(1)+"i":1===t?r+" + i":r+" + "+i+"i"},ac.a.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===uc(t))return ac()(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(Ys(n)){if(ta(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Ys(r))return new ac.a({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ac.a.prototype.valueOf=ac.a.prototype.toString,ac.a.fromJSON=function(e){return new ac.a(e)},ac.a.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},ac.a}),{isClass:!0}),lc=n("1h5C"),hc=n.n(lc),dc=Bu("Fraction",[],(function(){return hc.a.prototype.type="Fraction",hc.a.prototype.isFraction=!0,hc.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},hc.a.fromJSON=function(e){return new hc.a(e)},hc.a}),{isClass:!0}),fc=Bu("Range",[],(function(){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=t,o=null!=n,s=null!=r;if(i)if(Js(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(o)if(Js(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(s)if(Js(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=o?parseFloat(n):0,this.step=s?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var n=t.split(":").map((function(e){return parseFloat(e)}));if(n.some((function(e){return isNaN(e)})))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.step,n=this.end-this.start;return Qa(t)===Qa(n)?e=Math.ceil(n/t):0===n&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;t<r;)e(t,[i],this),t+=n,i++;else if(n<0)for(;t>r;)e(t,[i],this),t+=n,i++},e.prototype.map=function(e){var t=[];return this.forEach((function(n,r,i){t[r[0]]=e(n,r,i)})),t},e.prototype.toArray=function(){var e=[];return this.forEach((function(t,n){e[n[0]]=t})),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=Xa(this.start,e);return 1!==this.step&&(t+=":"+Xa(this.step,e)),t+":"+Xa(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}),{isClass:!0}),pc=Bu("Matrix",[],(function(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0}),mc=Bu("DenseMatrix",["Matrix"],(function(e){function t(e,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(n&&!na(n))throw new Error("Invalid datatype: "+n);if(ia(e))"DenseMatrix"===e.type?(this._data=ja(e._data),this._size=ja(e._size),this._datatype=n||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=n||e._datatype);else if(e&&ra(e.data)&&ra(e.size))this._data=e.data,this._size=e.size,Eu(this._data,this._size),this._datatype=n||e.datatype;else if(ra(e))this._data=function e(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];ra(i)?t[n]=e(i):i&&!0===i.isMatrix&&(t[n]=e(i.valueOf()))}return t}(e),this._size=xu(this._data),Eu(this._data,this._size),this._datatype=n;else{if(e)throw new TypeError("Unsupported type of data ("+Pa(e)+")");this._data=[],this._size=[0],this._datatype=n}}function n(e,n){if(!ca(n))throw new TypeError("Invalid index");if(n.isScalar())return e.get(n.min());var r=n.size();if(r.length!==e._size.length)throw new wu(r.length,e._size.length);for(var i=n.min(),o=n.max(),s=0,a=e._size.length;s<a;s++)Cu(i[s],e._size[s]),Cu(o[s],e._size[s]);return new t(function e(t,n,r,i){var o=i===r-1,s=n.dimension(i);return o?s.map((function(e){return Cu(e,t.length),t[e]})).valueOf():s.map((function(o){return Cu(o,t.length),e(t[o],n,r,i+1)})).valueOf()}(e._data,n,r.length,0),e._datatype)}function r(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,s=t.size(),a=t.isScalar();if(ia(n)?(i=n.size(),n=n.valueOf()):i=xu(n),a){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(s.length<e._size.length)throw new wu(s.length,e._size.length,"<");if(i.length<s.length){for(var u=0,c=0;1===s[u]&&1===i[u];)u++;for(;1===s[u];)c++,u++;n=Tu(n,s.length,c,i)}if(!Ua(s,i))throw new wu(s,i,">");o(e,t.max().map((function(e){return e+1})),r),function e(t,n,r,i,o){var s=o===i-1;n.dimension(o).forEach(s?function(e,n){Cu(e),t[e]=r[n[0]]}:function(s,a){Cu(s),e(t[s],n,r[a[0]],i,o+1)})}(e._data,t,n,s.length,0)}return e}function i(e,t,n){if(0===t.length){for(var r=e._data;ra(r);)r=r[0];return r}return e._size=t.slice(0),e._data=Su(e._data,e._size,n),e}function o(e,t,n){for(var r=e._size.slice(0),o=!1;r.length<t.length;)r.push(0),o=!0;for(var s=0,a=t.length;s<a;s++)t[s]>r[s]&&(r[s]=t[s],o=!0);o&&i(e,r,n)}return(t.prototype=new(0,e.Matrix)).createDenseMatrix=function(e,n){return new t(e,n)},t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return ju(this._data,Pa)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(e,n){return new t(e,n)},t.prototype.subset=function(e,t,i){switch(arguments.length){case 1:return n(this,e);case 2:case 3:return r(this,e,t,i);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(e){if(!ra(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new wu(e.length,this._size.length);for(var t=0;t<e.length;t++)Cu(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;r<i;r++){var o=e[r];Cu(o,n.length),n=n[o]}return n},t.prototype.set=function(e,t,n){if(!ra(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new wu(e.length,this._size.length,"<");var r,i,s;o(this,e.map((function(e){return e+1})),n);var a=this._data;for(r=0,i=e.length-1;r<i;r++)Cu(s=e[r],a.length),a=a[s];return Cu(s=e[e.length-1],a.length),a[s]=t,this},t.prototype.resize=function(e,t,n){if(!oa(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((function(e){return Array.isArray(e)&&1===e.length?e[0]:e}));return i(n?this.clone():this,r,t)},t.prototype.reshape=function(e,t){var n=t?this.clone():this;return n._data=Nu(n._data,e),n._size=e.slice(0),n},t.prototype.clone=function(){return new t({data:ja(this._data),size:ja(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(e){var n=this,r=function t(r,i){return ra(r)?r.map((function(e,n){return t(e,i.concat(n))})):e(r,i,n)}(this._data,[]);return new t(r,void 0!==this._datatype?ju(r,Pa):void 0)},t.prototype.forEach=function(e){var t=this;!function n(r,i){ra(r)?r.forEach((function(e,t){n(e,i.concat(t))})):e(r,i,t)}(this._data,[])},t.prototype.toArray=function(){return ja(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(e){return gu(this._data,e)},t.prototype.toString=function(){return gu(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(e){if(e){if(Js(e)&&(e=e.toNumber()),!Ys(e)||!Wa(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var n=e>0?e:0,r=e<0?-e:0,i=Math.min(this._size[0]-r,this._size[1]-n),o=[],s=0;s<i;s++)o[s]=this._data[s+r][s+n];return new t({data:o,size:[i],datatype:this._datatype})},t.diagonal=function(e,n,r,i){if(!ra(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(Js(e)&&(e=e.toNumber()),!Ys(e)||!Wa(e)||e<1)throw new Error("Size values must be positive integers");return e})),r){if(Js(r)&&(r=r.toNumber()),!Ys(r)||!Wa(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o,s=r>0?r:0,a=r<0?-r:0,u=e[0],c=e[1],l=Math.min(u-a,c-s);if(ra(n)){if(n.length!==l)throw new Error("Invalid value array length");o=function(e){return n[e]}}else if(ia(n)){var h=n.size();if(1!==h.length||h[0]!==l)throw new Error("Invalid matrix length");o=function(e){return n.get([e])}}else o=function(){return n};i||(i=Js(o(0))?o(0).mul(0):0);var d=[];if(e.length>0){d=Su(d,e,i);for(var f=0;f<l;f++)d[f+a][f+s]=o(f)}return new t({data:d,size:[u,c]})},t.fromJSON=function(e){return new t(e)},t.prototype.swapRows=function(e,n){if(!(Ys(e)&&Wa(e)&&Ys(n)&&Wa(n)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Cu(e,this._size[0]),Cu(n,this._size[0]),t._swapRows(e,n,this._data),this},t._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},t}),{isClass:!0}),gc=Bu("clone",["typed"],(function(e){return(0,e.typed)("clone",{any:ja})}));function yc(e){for(var t=0;t<e.length;t++)if(oa(e[t]))return!0;return!1}function vc(e,t){ia(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?vc(i,t):t(i)}}function bc(e,t,n){return e&&"function"==typeof e.map?e.map((function(e){return bc(e,t,n)})):t(e)}function wc(e,t,n){var r=Array.isArray(e)?xu(e):e.size();if(t<0||t>=r.length)throw new _u(t,r.length);return ia(e)?e.create(_c(e.valueOf(),t,n)):_c(e,t,n)}function _c(e,t,n){var r,i,o,s;if(t<=0){if(Array.isArray(e[0])){for(s=function(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;n<i;n++){var s=[];for(t=0;t<r;t++)s.push(e[t][n]);o.push(s)}return o}(e),i=[],r=0;r<s.length;r++)i[r]=_c(s[r],t-1,n);return i}for(o=e[0],r=1;r<e.length;r++)o=n(o,e[r]);return o}for(i=[],r=0;r<e.length;r++)i[r]=_c(e[r],t-1,n);return i}function xc(e,t,n,r,i,o,s,a,u,c,l){var h,d,f,p=e._values,m=e._index,g=e._ptr;if(r)for(d=g[t+1],h=g[t];h<d;h++)n[f=m[h]]!==o?(n[f]=o,s.push(f),c?(r[f]=u?a(p[h],l):a(l,p[h]),i[f]=o):r[f]=p[h]):(r[f]=u?a(p[h],r[f]):a(r[f],p[h]),i[f]=o);else for(d=g[t+1],h=g[t];h<d;h++)n[f=m[h]]!==o?(n[f]=o,s.push(f)):i[f]=o}var Ec=Bu("isInteger",["typed"],(function(e){return(0,e.typed)("isInteger",{number:Wa,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return bc(e,this)}})}));function Cc(e){return e<0}function Sc(e){return e>0}function Nc(e){return 0===e}function Ac(e){return Number.isNaN(e)}Cc.signature="number",Sc.signature="number",Nc.signature="number",Ac.signature="number";var Tc=Bu("isNegative",["typed"],(function(e){return(0,e.typed)("isNegative",{number:Cc,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),Dc=Bu("isNumeric",["typed"],(function(e){return(0,e.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return bc(e,this)}})})),Oc=Bu("hasNumericValue",["typed","isNumeric"],(function(e){var t=e.isNumeric;return(0,e.typed)("hasNumericValue",{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return t(e)}})})),Ic=Bu("isPositive",["typed"],(function(e){return(0,e.typed)("isPositive",{number:Sc,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),Mc=Bu("isZero",["typed"],(function(e){return(0,e.typed)("isZero",{number:Nc,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),Rc=Bu("isNaN",["typed"],(function(e){return(0,e.typed)("isNaN",{number:Ac,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return bc(e,Number.isNaN)}})})),kc=Bu("typeOf",["typed"],(function(e){return(0,e.typed)("typeOf",{any:Pa})}));function Pc(e,t,n){if(null==n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}var Fc=Bu("equalScalar",["typed","config"],(function(e){var t=e.config;return(0,e.typed)("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,n){return su(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.eq(n)||Pc(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,n){return function(e,t,n){return su(e.re,t.re,n)&&su(e.im,t.im,n)}(e,n,t.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)}})})),jc=(Bu("equalScalar",["typed","config"],(function(e){var t=e.config;return(0,e.typed)("equalScalar",{"number, number":function(e,n){return su(e,n,t.epsilon)}})})),Bu("SparseMatrix",["typed","equalScalar","Matrix"],(function(e){var t=e.typed,n=e.equalScalar;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!na(t))throw new Error("Invalid datatype: "+t);if(ia(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?ja(t._values):void 0,e._index=ja(t._index),e._ptr=ja(t._ptr),e._size=ja(t._size),e._datatype=n||t._datatype):i(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&ra(e.index)&&ra(e.ptr)&&ra(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(ra(e))i(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+Pa(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function i(e,r,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var o=r.length,s=0,a=n,u=0;if(na(i)&&(a=t.find(n,[i,i])||n,u=t.convert(0,i)),o>0){var c=0;do{e._ptr.push(e._index.length);for(var l=0;l<o;l++){var h=r[l];if(ra(h)){if(0===c&&s<h.length&&(s=h.length),c<h.length){var d=h[c];a(d,u)||(e._values.push(d),e._index.push(l))}}else 0===c&&s<1&&(s=1),a(h,u)||(e._values.push(h),e._index.push(l))}c++}while(c<s)}e._ptr.push(e._index.length),e._size=[o,s]}function o(e,t){if(!ca(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,i,o,s,a=t.size();if(a.length!==e._size.length)throw new wu(a.length,e._size.length);var u=t.min(),c=t.max();for(n=0,i=e._size.length;n<i;n++)Cu(u[n],e._size[n]),Cu(c[n],e._size[n]);var l=e._values,h=e._index,d=e._ptr,f=t.dimension(0),p=t.dimension(1),m=[],g=[];f.forEach((function(e,t){g[e]=t[0],m[e]=!0}));var y=l?[]:void 0,v=[],b=[];return p.forEach((function(e){for(b.push(v.length),o=d[e],s=d[e+1];o<s;o++)!0===m[n=h[o]]&&(v.push(g[n]),y&&y.push(l[o]))})),b.push(v.length),new r({values:y,index:v,ptr:b,size:a,datatype:e._datatype})}function s(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,o=t.size(),s=t.isScalar();if(ia(n)?(i=n.size(),n=n.toArray()):i=xu(n),s){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new wu(o.length,e._size.length,"<");if(i.length<o.length){for(var a=0,u=0;1===o[a]&&1===i[a];)a++;for(;1===o[a];)u++,a++;n=Tu(n,o.length,u,i)}if(!Ua(o,i))throw new wu(o,i,">");for(var c=t.min()[0],l=t.min()[1],h=i[0],d=i[1],f=0;f<h;f++)for(var p=0;p<d;p++)e.set([f+c,p+l],n[f][p],r)}return e}function a(e,t,n,r){if(n-t==0)return n;for(var i=t;i<n;i++)if(r[i]===e)return i;return t}function u(e,t,n,r,i,o,s){i.splice(e,0,r),o.splice(e,0,t);for(var a=n+1;a<s.length;a++)s[a]++}function c(e,r,i,o){var s=o||0,a=n,u=0;na(e._datatype)&&(a=t.find(n,[e._datatype,e._datatype])||n,u=t.convert(0,e._datatype),s=t.convert(s,e._datatype));var c,l,h,d=!a(s,u),f=e._size[0],p=e._size[1];if(i>p){for(l=p;l<i;l++)if(e._ptr[l]=e._values.length,d)for(c=0;c<f;c++)e._values.push(s),e._index.push(c);e._ptr[i]=e._values.length}else i<p&&(e._ptr.splice(i+1,p-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(p=i,r>f){if(d){var m=0;for(l=0;l<p;l++){e._ptr[l]=e._ptr[l]+m,h=e._ptr[l+1]+m;var g=0;for(c=f;c<r;c++,g++)e._values.splice(h+g,0,s),e._index.splice(h+g,0,c),m++}e._ptr[p]=e._values.length}}else if(r<f){var y=0;for(l=0;l<p;l++){e._ptr[l]=e._ptr[l]-y;var v=e._ptr[l+1]-y;for(h=e._ptr[l];h<v;h++)(c=e._index[h])>r-1&&(e._values.splice(h,1),e._index.splice(h,1),y++)}e._ptr[l]=e._values.length}return e._size[0]=r,e._size[1]=i,e}function l(e,t,n,r,i){var o,s,a=r[0],u=r[1],c=[];for(o=0;o<a;o++)for(c[o]=[],s=0;s<u;s++)c[o][s]=0;for(s=0;s<u;s++)for(var l=n[s+1],h=n[s];h<l;h++)c[o=t[h]][s]=e?i?ja(e[h]):e[h]:1;return c}return(r.prototype=new(0,e.Matrix)).createSparseMatrix=function(e,t){return new r(e,t)},r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return ju(this._values,Pa)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(e,t){return new r(e,t)},r.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},r.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,e);case 2:case 3:return s(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){if(!ra(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new wu(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];Cu(t,this._size[0]),Cu(n,this._size[1]);var r=a(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},r.prototype.set=function(e,r,i){if(!ra(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new wu(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=e[0],s=e[1],l=this._size[0],h=this._size[1],d=n,f=0;na(this._datatype)&&(d=t.find(n,[this._datatype,this._datatype])||n,f=t.convert(0,this._datatype)),(o>l-1||s>h-1)&&(c(this,Math.max(o+1,l),Math.max(s+1,h),i),l=this._size[0],h=this._size[1]),Cu(o,l),Cu(s,h);var p=a(o,this._ptr[s],this._ptr[s+1],this._index);return p<this._ptr[s+1]&&this._index[p]===o?d(r,f)?function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--}(p,s,this._values,this._index,this._ptr):this._values[p]=r:u(p,o,s,r,this._values,this._index,this._ptr),this},r.prototype.resize=function(e,t,n){if(!oa(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((function(e){return Array.isArray(e)&&1===e.length?e[0]:e}));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(e){if(!Ys(e)||!Wa(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+gu(r)+")")})),c(n?this.clone():this,r[0],r[1],t)},r.prototype.reshape=function(e,t){if(!ra(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach((function(t){if(!Ys(t)||!Wa(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+gu(e)+")")})),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var o=0;o<n._ptr[i+1]-n._ptr[i];o++)r.push(i);for(var s=n._values.slice(),c=n._index.slice(),l=0;l<n._index.length;l++){var h=c[l]*n._size[1]+r[l];r[l]=h%e[1],c[l]=Math.floor(h/e[1])}n._values.length=0,n._index.length=0,n._ptr.length=e[1]+1,n._size=e.slice();for(var d=0;d<n._ptr.length;d++)n._ptr[d]=0;for(var f=0;f<s.length;f++){var p=c[f],m=r[f],g=s[f];u(a(p,n._ptr[m],n._ptr[m+1],n._index),p,m,g,n._values,n._index,n._ptr)}return n},r.prototype.clone=function(){return new r({values:this._values?ja(this._values):void 0,index:ja(this._index),ptr:ja(this._ptr),size:ja(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(e,i){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(e,i,o,s,a,u,c){var l=[],h=[],d=[],f=n,p=0;na(e._datatype)&&(f=t.find(n,[e._datatype,e._datatype])||n,p=t.convert(0,e._datatype));for(var m=function(e,t,n){e=u(e,t,n),f(e,p)||(l.push(e),h.push(t))},g=0;g<=a;g++){d.push(l.length);var y=e._ptr[g],v=e._ptr[g+1];if(c)for(var b=y;b<v;b++){var w=e._index[b];w>=0&&w<=o&&m(e._values[b],w-0,g-0)}else{for(var _={},x=y;x<v;x++)_[e._index[x]]=e._values[x];for(var E=0;E<=o;E++)m(E in _?_[E]:0,E-0,g-0)}}return d.push(l.length),new r({values:l,index:h,ptr:d,size:[o-0+1,a-0+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(t,n,r){return e(t,[n,r],o)}),i)},r.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],s=this._ptr[i+1];if(t)for(var a=o;a<s;a++)e(this._values[a],[this._index[a],i],this);else{for(var u={},c=o;c<s;c++)u[this._index[c]]=this._values[c];for(var l=0;l<n;l++)e(l in u?u[l]:0,[l,i],this)}}},r.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},r.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+gu(t,e)+" x "+gu(n,e)+"] density: "+gu(r,e)+"\n",o=0;o<n;o++)for(var s=this._ptr[o+1],a=this._ptr[o];a<s;a++)i+="\n    ("+gu(this._index[a],e)+", "+gu(o,e)+") ==> "+(this._values?gu(this._values[a],e):"X");return i},r.prototype.toString=function(){return gu(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(e){if(e){if(Js(e)&&(e=e.toNumber()),!Ys(e)||!Wa(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,i=this._size[1],o=Math.min(this._size[0]-n,i-t),s=[],a=[],u=[];u[0]=0;for(var c=t;c<i&&s.length<o;c++)for(var l=this._ptr[c+1],h=this._ptr[c];h<l;h++){var d=this._index[h];if(d===c-t+n){s.push(this._values[h]),a[s.length-1]=d-n;break}}return u.push(s.length),new r({values:s,index:a,ptr:u,size:[o,1]})},r.fromJSON=function(e){return new r(e)},r.diagonal=function(e,i,o,s,a){if(!ra(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(Js(e)&&(e=e.toNumber()),!Ys(e)||!Wa(e)||e<1)throw new Error("Size values must be positive integers");return e})),o){if(Js(o)&&(o=o.toNumber()),!Ys(o)||!Wa(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var u=n,c=0;na(a)&&(u=t.find(n,[a,a])||n,c=t.convert(0,a));var l,h=o>0?o:0,d=o<0?-o:0,f=e[0],p=e[1],m=Math.min(f-d,p-h);if(ra(i)){if(i.length!==m)throw new Error("Invalid value array length");l=function(e){return i[e]}}else if(ia(i)){var g=i.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");l=function(e){return i.get([e])}}else l=function(){return i};for(var y=[],v=[],b=[],w=0;w<p;w++){b.push(y.length);var _=w-h;if(_>=0&&_<m){var x=l(_);u(x,c)||(v.push(_+d),y.push(x))}}return b.push(y.length),new r({values:y,index:v,ptr:b,size:[f,p]})},r.prototype.swapRows=function(e,t){if(!(Ys(e)&&Wa(e)&&Ys(t)&&Wa(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Cu(e,this._size[0]),Cu(t,this._size[0]),r._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(e,t,n,r,i){for(var o=r[e+1],s=r[e];s<o;s++)i(n[s],t[s])},r._swapRows=function(e,t,n,r,i,o){for(var s=0;s<n;s++){var u=o[s],c=o[s+1],l=a(e,u,c,i),h=a(t,u,c,i);if(l<c&&h<c&&i[l]===e&&i[h]===t){if(r){var d=r[l];r[l]=r[h],r[h]=d}}else if(l<c&&i[l]===e&&(h>=c||i[h]!==t)){var f=r?r[l]:void 0;i.splice(h,0,t),r&&r.splice(h,0,f),i.splice(h<=l?l+1:l,1),r&&r.splice(h<=l?l+1:l,1)}else if(h<c&&i[h]===t&&(l>=c||i[l]!==e)){var p=r?r[h]:void 0;i.splice(l,0,e),r&&r.splice(l,0,p),i.splice(l<=h?h+1:h,1),r&&r.splice(l<=h?h+1:h,1)}}},r}),{isClass:!0})),Lc=Bu("number",["typed"],(function(e){var t=(0,e.typed)("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return bc(e,this)}});return t.fromJSON=function(e){return parseFloat(e.value)},t})),Bc=Bu("string",["typed"],(function(e){return(0,e.typed)("string",{"":function(){return""},number:Xa,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return bc(e,this)},any:function(e){return String(e)}})})),Uc=Bu("boolean",["typed"],(function(e){return(0,e.typed)("boolean",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!==e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return bc(e,this)}})})),Vc=Bu("bignumber",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("bignumber",{"":function(){return new t(0)},number:function(e){return new t(e+"")},string:function(e){return new t(e)},BigNumber:function(e){return e},Fraction:function(e){return new t(e.n).div(e.d).times(e.s)},null:function(e){return new t(0)},"Array | Matrix":function(e){return bc(e,this)}})})),qc=Bu("complex",["typed","Complex"],(function(e){var t=e.Complex;return(0,e.typed)("complex",{"":function(){return t.ZERO},number:function(e){return new t(e,0)},"number, number":function(e,n){return new t(e,n)},"BigNumber, BigNumber":function(e,n){return new t(e.toNumber(),n.toNumber())},Fraction:function(e){return new t(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return t(e)},null:function(e){return t(0)},Object:function(e){if("re"in e&&"im"in e)return new t(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new t(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return bc(e,this)}})})),zc=Bu("fraction",["typed","Fraction"],(function(e){var t=e.Fraction;return(0,e.typed)("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t(e)},string:function(e){return new t(e)},"number, number":function(e,n){return new t(e,n)},null:function(e){return new t(0)},BigNumber:function(e){return new t(e.toString())},Fraction:function(e){return e},Object:function(e){return new t(e)},"Array | Matrix":function(e){return bc(e,this)}})})),Hc=Bu("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.DenseMatrix,n=e.SparseMatrix;return(0,e.typed)("matrix",{"":function(){return r([])},string:function(e){return r([],e)},"string, string":function(e,t){return r([],e,t)},Array:function(e){return r(e)},Matrix:function(e){return r(e,e.storage())},"Array | Matrix, string":r,"Array | Matrix, string, string":r});function r(e,r,i){if("dense"===r||"default"===r||void 0===r)return new t(e,i);if("sparse"===r)return new n(e,i);throw new TypeError("Unknown matrix type "+JSON.stringify(r)+".")}})),$c=Bu("splitUnit",["typed"],(function(e){return(0,e.typed)("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}})}));function Wc(e){return Math.abs(e)}function Qc(e,t){return e+t}function Gc(e,t){return e*t}function Kc(e){return-e}function Zc(e){return e}function Yc(e){return Ya(e)}function Jc(e){return Math.ceil(e)}function Xc(e){return e*e*e}function el(e){return Math.exp(e)}function tl(e){return Ja(e)}function nl(e,t){if(!Wa(e)||!Wa(t))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==t;)n=e%t,e=t,t=n;return e<0?-e:e}function rl(e,t){if(!Wa(e)||!Wa(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function il(e){return Math.log(e)}function ol(e){return Ka(e)}function sl(e){return Ga(e)}function al(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function ul(e,t){var n=t<0;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function cl(e){return Qa(e)}function ll(e){return e*e}function hl(e,t){var n,r,i,o=0,s=1,a=1,u=0;if(!Wa(e)||!Wa(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(r=Math.floor(e/t))*t,n=o,o=s-r*o,s=n,n=a,a=u-r*a,u=n,e=t,t=i;return e<0?[-e,-s,-u]:[e,e?s:0,u]}function dl(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function fl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(tu(e,t))}Wc.signature="number",Qc.signature="number, number",Gc.signature="number, number",Kc.signature="number",Zc.signature="number",Yc.signature="number",Jc.signature="number",Xc.signature="number",el.signature="number",tl.signature="number",nl.signature="number, number",rl.signature="number, number",il.signature="number",ol.signature="number",sl.signature="number",al.signature="number, number",ul.signature="number, number",cl.signature="number",ll.signature="number",hl.signature="number, number",dl.signature="number, number",fl.signature="number, number";var pl=Bu("unaryMinus",["typed"],(function(e){return(0,e.typed)("unaryMinus",{number:Kc,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=this(e.value),t},"Array | Matrix":function(e){return bc(e,this,!0)}})})),ml=Bu("unaryPlus",["typed","config","BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return(0,e.typed)("unaryPlus",{number:Zc,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return bc(e,this,!0)},"boolean | string":function(e){return"BigNumber"===t.number?new n(+e):+e}})})),gl=Bu("abs",["typed"],(function(e){return(0,e.typed)("abs",{number:Wc,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return bc(e,this,!0)},Unit:function(e){return e.abs()}})})),yl=Bu("apply",["typed","isInteger"],(function(e){var t=e.isInteger;return(0,e.typed)("apply",{"Array | Matrix, number | BigNumber, function":function(e,n,r){if(!t(n))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(e)?xu(e):e.size();if(n<0||n>=i.length)throw new _u(n,i.length);return ia(e)?e.create(vl(e.valueOf(),n,r)):vl(e,n,r)}})}));function vl(e,t,n){var r,i,o;if(t<=0){if(Array.isArray(e[0])){for(o=function(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;n<i;n++){var s=[];for(t=0;t<r;t++)s.push(e[t][n]);o.push(s)}return o}(e),i=[],r=0;r<o.length;r++)i[r]=vl(o[r],t-1,n);return i}return n(e)}for(i=[],r=0;r<e.length;r++)i[r]=vl(e[r],t-1,n);return i}var bl=Bu("addScalar",["typed"],(function(e){return(0,e.typed)("addScalar",{"number, number":Qc,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=this(n.value,t.value),n.fixPrefix=!1,n}})})),wl=Bu("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],(function(e){var t=e.config,n=e.isNegative,r=e.unaryMinus,i=e.matrix,o=e.Complex,s=e.BigNumber,a=e.Fraction;return(0,e.typed)("cbrt",{number:Yc,Complex:u,"Complex, boolean":u,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&Xs(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=u(e.value),t}var i,o=n(e.value);o&&(e.value=r(e.value)),i=Js(e.value)?new s(1).div(3):ea(e.value)?new a(1,3):1/3;var c=e.pow(i);return o&&(c.value=r(c.value)),c},"Array | Matrix":function(e){return bc(e,this,!0)}});function u(e,n){var r=e.arg()/3,s=e.abs(),a=new o(Yc(s),0).mul(new o(0,r).exp());if(n){var u=[a,new o(Yc(s),0).mul(new o(0,r+2*Math.PI/3).exp()),new o(Yc(s),0).mul(new o(0,r-2*Math.PI/3).exp())];return"Array"===t.matrix?u:i(u)}return a}})),_l=Bu("ceil",["typed","config","round"],(function(e){var t=e.config,n=e.round;return(0,e.typed)("ceil",{number:function(e){return su(e,n(e),t.epsilon)?n(e):Jc(e)},Complex:function(e){return e.ceil()},BigNumber:function(e){return Pc(e,n(e),t.epsilon)?n(e):e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return bc(e,this,!0)}})})),xl=Bu("cube",["typed"],(function(e){return(0,e.typed)("cube",{number:Xc,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return bc(e,this,!0)},Unit:function(e){return e.pow(3)}})})),El=Bu("exp",["typed"],(function(e){return(0,e.typed)("exp",{number:el,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return bc(e,this)}})})),Cl=Bu("expm1",["typed","Complex"],(function(e){var t=e.Complex;return(0,e.typed)("expm1",{number:tl,Complex:function(e){var n=Math.exp(e.re);return new t(n*Math.cos(e.im)-1,n*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return bc(e,this)}})})),Sl=Bu("fix",["typed","Complex","ceil","floor"],(function(e){var t=e.Complex,n=e.ceil,r=e.floor;return(0,e.typed)("fix",{number:function(e){return e>0?r(e):n(e)},Complex:function(e){return new t(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(e){return e.isNegative()?n(e):r(e)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return bc(e,this,!0)}})})),Nl=Bu("floor",["typed","config","round"],(function(e){var t=e.config,n=e.round;return(0,e.typed)("floor",{number:function(e){return su(e,n(e),t.epsilon)?n(e):Math.floor(e)},Complex:function(e){return e.floor()},BigNumber:function(e){return Pc(e,n(e),t.epsilon)?n(e):e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return bc(e,this,!0)}})})),Al=Bu("algorithm01",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o=e._data,s=e._size,a=e._datatype,u=n._values,c=n._index,l=n._ptr,h=n._size,d=n._datatype;if(s.length!==h.length)throw new wu(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,p,m=s[0],g=s[1],y="string"==typeof a&&a===d?a:void 0,v=y?t.find(r,[y,y]):r,b=[];for(f=0;f<m;f++)b[f]=[];var w=[],_=[];for(p=0;p<g;p++){for(var x=p+1,E=l[p+1],C=l[p];C<E;C++)w[f=c[C]]=i?v(u[C],o[f][p]):v(o[f][p],u[C]),_[f]=x;for(f=0;f<m;f++)b[f][p]=_[f]===x?w[f]:o[f][p]}return e.createDenseMatrix({data:b,size:[m,g],datatype:y})}})),Tl=Bu("algorithm04",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,s=e._index,a=e._ptr,u=e._size,c=e._datatype,l=r._values,h=r._index,d=r._ptr,f=r._size,p=r._datatype;if(u.length!==f.length)throw new wu(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,g=u[0],y=u[1],v=n,b=0,w=i;"string"==typeof c&&c===p&&(v=t.find(n,[m=c,m]),b=t.convert(0,m),w=t.find(i,[m,m]));var _,x,E,C,S=o&&l?[]:void 0,N=[],A=[],T=o&&l?[]:void 0,D=o&&l?[]:void 0,O=[],I=[];for(x=0;x<y;x++){A[x]=N.length;var M=x+1;for(C=a[x+1],E=a[x];E<C;E++)N.push(_=s[E]),O[_]=M,T&&(T[_]=o[E]);for(C=d[x+1],E=d[x];E<C;E++)if(O[_=h[E]]===M){if(T){var R=w(T[_],l[E]);v(R,b)?O[_]=null:T[_]=R}}else N.push(_),I[_]=M,D&&(D[_]=l[E]);if(T&&D)for(E=A[x];E<N.length;)O[_=N[E]]===M?(S[E]=T[_],E++):I[_]===M?(S[E]=D[_],E++):N.splice(E,1)}return A[y]=N.length,e.createSparseMatrix({values:S,index:N,ptr:A,size:[g,y],datatype:m})}})),Dl=Bu("algorithm10",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,r,i,o){var s=e._values,a=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,d=c[0],f=c[1],p=i;"string"==typeof l&&(r=t.convert(r,h=l),p=t.find(i,[h,h]));for(var m=[],g=[],y=[],v=0;v<f;v++){for(var b=v+1,w=u[v+1],_=u[v];_<w;_++){var x=a[_];g[x]=s[_],y[x]=b}for(var E=0;E<d;E++)0===v&&(m[E]=[]),m[E][v]=y[E]===b?o?p(r,g[E]):p(g[E],r):r}return new n({data:m,size:[d,f],datatype:h})}})),Ol=Bu("algorithm13",["typed"],(function(e){var t=e.typed;return function(e,n,r){var i,o=e._data,s=e._size,a=e._datatype,u=n._data,c=n._size,l=n._datatype,h=[];if(s.length!==c.length)throw new wu(s.length,c.length);for(var d=0;d<s.length;d++){if(s[d]!==c[d])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");h[d]=s[d]}var f=r;"string"==typeof a&&a===l&&(f=t.find(r,[i=a,i]));var p=h.length>0?function e(t,n,r,i,o,s){var a=[];if(n===r.length-1)for(var u=0;u<i;u++)a[u]=t(o[u],s[u]);else for(var c=0;c<i;c++)a[c]=e(t,n+1,r,r[n+1],o[c],s[c]);return a}(f,0,h,h[0],o,u):[];return e.createDenseMatrix({data:p,size:h,datatype:i})}})),Il=Bu("algorithm14",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o,s=e._data,a=e._size,u=e._datatype,c=r;"string"==typeof u&&(n=t.convert(n,o=u),c=t.find(r,[o,o]));var l=a.length>0?function e(t,n,r,i,o,s,a){var u=[];if(n===r.length-1)for(var c=0;c<i;c++)u[c]=a?t(s,o[c]):t(o[c],s);else for(var l=0;l<i;l++)u[l]=e(t,n+1,r,r[n+1],o[l],s,a);return u}(c,0,a,a[0],s,n,i):[];return e.createDenseMatrix({data:l,size:ja(a),datatype:o})}})),Ml=Bu("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=e.DenseMatrix,s=Al({typed:t}),a=Tl({typed:t,equalScalar:r}),u=Dl({typed:t,DenseMatrix:o}),c=Ol({typed:t}),l=Il({typed:t});return t("gcd",{"number, number":nl,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var n=new i(0);!t.isZero();){var r=e.mod(t);e=t,t=r}return e.lt(n)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return u(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return l(n(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return l(n(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}})})),Rl=Bu("algorithm02",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i,o){var s=e._data,a=e._size,u=e._datatype,c=r._values,l=r._index,h=r._ptr,d=r._size,f=r._datatype;if(a.length!==d.length)throw new wu(a.length,d.length);if(a[0]!==d[0]||a[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,m=a[0],g=a[1],y=n,v=0,b=i;"string"==typeof u&&u===f&&(y=t.find(n,[p=u,p]),v=t.convert(0,p),b=t.find(i,[p,p]));for(var w=[],_=[],x=[],E=0;E<g;E++){x[E]=_.length;for(var C=h[E+1],S=h[E];S<C;S++){var N=l[S],A=o?b(c[S],s[N][E]):b(s[N][E],c[S]);y(A,v)||(_.push(N),w.push(A))}}return x[g]=_.length,r.createSparseMatrix({values:w,index:_,ptr:x,size:[m,g],datatype:p})}})),kl=Bu("algorithm06",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,s=e._size,a=e._datatype,u=r._values,c=r._size,l=r._datatype;if(s.length!==c.length)throw new wu(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");var h,d=s[0],f=s[1],p=n,m=0,g=i;"string"==typeof a&&a===l&&(p=t.find(n,[h=a,h]),m=t.convert(0,h),g=t.find(i,[h,h]));for(var y=o&&u?[]:void 0,v=[],b=[],w=y?[]:void 0,_=[],x=[],E=0;E<f;E++){b[E]=v.length;var C=E+1;if(xc(e,E,_,w,x,C,v,g),xc(r,E,_,w,x,C,v,g),w)for(var S=b[E];S<v.length;){var N=v[S];if(x[N]===C){var A=w[N];p(A,m)?v.splice(S,1):(y.push(A),S++)}else v.splice(S,1)}else for(var T=b[E];T<v.length;)x[v[T]]!==C?v.splice(T,1):T++}return b[f]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[d,f],datatype:h})}})),Pl=Bu("algorithm11",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i,o){var s=e._values,a=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,d=c[0],f=c[1],p=n,m=0,g=i;"string"==typeof l&&(p=t.find(n,[h=l,h]),m=t.convert(0,h),r=t.convert(r,h),g=t.find(i,[h,h]));for(var y=[],v=[],b=[],w=0;w<f;w++){b[w]=v.length;for(var _=u[w+1],x=u[w];x<_;x++){var E=a[x],C=o?g(r,s[x]):g(s[x],r);p(C,m)||(v.push(E),y.push(C))}}return b[f]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[d,f],datatype:h})}})),Fl=Bu("lcm",["typed","matrix","equalScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=Rl({typed:t,equalScalar:r}),o=kl({typed:t,equalScalar:r}),s=Pl({typed:t,equalScalar:r}),a=Ol({typed:t}),u=Il({typed:t});return t("lcm",{"number, number":rl,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;for(var n=e.times(t);!t.isZero();){var r=t;t=e.mod(r),e=r}return n.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return a(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return s(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return u(n(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return u(n(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}})})),jl=Bu("log10",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex;return(0,e.typed)("log10",{number:function(e){return e>=0||t.predictable?ol(e):new n(e,0).log().div(Math.LN10)},Complex:function(e){return new n(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||t.predictable?e.log():new n(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return bc(e,this)}})})),Ll=Bu("log2",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex;return(0,e.typed)("log2",{number:function(e){return e>=0||t.predictable?sl(e):r(new n(e,0))},Complex:r,BigNumber:function(e){return!e.isNegative()||t.predictable?e.log(2):r(new n(e.toNumber(),0))},"Array | Matrix":function(e){return bc(e,this)}});function r(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}})),Bl=Bu("algorithm03",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o=e._data,s=e._size,a=e._datatype,u=n._values,c=n._index,l=n._ptr,h=n._size,d=n._datatype;if(s.length!==h.length)throw new wu(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,p=s[0],m=s[1],g=0,y=r;"string"==typeof a&&a===d&&(g=t.convert(0,f=a),y=t.find(r,[f,f]));for(var v=[],b=0;b<p;b++)v[b]=[];for(var w=[],_=[],x=0;x<m;x++){for(var E=x+1,C=l[x+1],S=l[x];S<C;S++){var N=c[S];w[N]=i?y(u[S],o[N][x]):y(o[N][x],u[S]),_[N]=E}for(var A=0;A<p;A++)v[A][x]=_[A]===E?w[A]:i?y(g,o[A][x]):y(o[A][x],g)}return e.createDenseMatrix({data:v,size:[p,m],datatype:f})}})),Ul=Bu("algorithm05",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,s=e._index,a=e._ptr,u=e._size,c=e._datatype,l=r._values,h=r._index,d=r._ptr,f=r._size,p=r._datatype;if(u.length!==f.length)throw new wu(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,g=u[0],y=u[1],v=n,b=0,w=i;"string"==typeof c&&c===p&&(v=t.find(n,[m=c,m]),b=t.convert(0,m),w=t.find(i,[m,m]));var _,x,E,C,S=o&&l?[]:void 0,N=[],A=[],T=S?[]:void 0,D=S?[]:void 0,O=[],I=[];for(x=0;x<y;x++){A[x]=N.length;var M=x+1;for(E=a[x],C=a[x+1];E<C;E++)N.push(_=s[E]),O[_]=M,T&&(T[_]=o[E]);for(E=d[x],C=d[x+1];E<C;E++)O[_=h[E]]!==M&&N.push(_),I[_]=M,D&&(D[_]=l[E]);if(S)for(E=A[x];E<N.length;){var R=O[_=N[E]],k=I[_];if(R===M||k===M){var P=w(R===M?T[_]:b,k===M?D[_]:b);v(P,b)?N.splice(E,1):(S.push(P),E++)}}}return A[y]=N.length,e.createSparseMatrix({values:S,index:N,ptr:A,size:[g,y],datatype:m})}})),Vl=Bu("algorithm12",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,r,i,o){var s=e._values,a=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,d=c[0],f=c[1],p=i;"string"==typeof l&&(r=t.convert(r,h=l),p=t.find(i,[h,h]));for(var m=[],g=[],y=[],v=0;v<f;v++){for(var b=v+1,w=u[v+1],_=u[v];_<w;_++){var x=a[_];g[x]=s[_],y[x]=b}for(var E=0;E<d;E++)0===v&&(m[E]=[]),m[E][v]=y[E]===b?o?p(r,g[E]):p(g[E],r):o?p(r,0):p(0,r)}return new n({data:m,size:[d,f],datatype:h})}})),ql=Bu("mod",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=Rl({typed:t,equalScalar:r}),s=Bl({typed:t}),a=Ul({typed:t,equalScalar:r}),u=Pl({typed:t,equalScalar:r}),c=Vl({typed:t,DenseMatrix:i}),l=Ol({typed:t}),h=Il({typed:t});return t("mod",{"number, number":al,"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return h(e,t,this,!1)},"any, SparseMatrix":function(e,t){return c(t,e,this,!0)},"any, DenseMatrix":function(e,t){return h(t,e,this,!0)},"Array, any":function(e,t){return h(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return h(n(t),e,this,!0).valueOf()}})})),zl=Bu("multiplyScalar",["typed"],(function(e){return(0,e.typed)("multiplyScalar",{"number, number":Gc,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var n=t.clone();return n.value=null===n.value?n._normalize(e):this(n.value,e),n},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var n=e.clone();return n.value=null===n.value?n._normalize(t):this(n.value,t),n},"Unit, Unit":function(e,t){return e.multiply(t)}})})),Hl=Bu("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(function(e){var t=e.typed,n=e.matrix,r=e.addScalar,i=e.multiplyScalar,o=e.equalScalar,s=e.dot,a=Pl({typed:t,equalScalar:o}),u=Il({typed:t});function c(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var l=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var o,s=e._data,a=e._size,u=e._datatype,c=n._data,l=n._datatype,h=a[0],d=a[1],f=r,p=i;u&&l&&u===l&&"string"==typeof u&&(f=t.find(r,[o=u,o]),p=t.find(i,[o,o]));for(var m=[],g=0;g<h;g++){for(var y=s[g],v=p(y[0],c[0]),b=1;b<d;b++)v=f(v,p(y[b],c[b]));m[g]=v}return e.createDenseMatrix({data:m,size:[h],datatype:o})},"SparseMatrix, any":function(e,n){var s=e._values,a=e._index,u=e._ptr,c=e._datatype;if(!s)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,h=n._data,d=n._datatype,f=e._size[0],p=n._size[0],m=[],g=[],y=[],v=r,b=i,w=o,_=0;c&&d&&c===d&&"string"==typeof c&&(v=t.find(r,[l=c,l]),b=t.find(i,[l,l]),w=t.find(o,[l,l]),_=t.convert(0,l));var x=[],E=[];y[0]=0;for(var C=0;C<p;C++){var S=h[C];if(!w(S,_))for(var N=u[C+1],A=u[C];A<N;A++){var T=a[A];E[T]?x[T]=v(x[T],b(S,s[A])):(E[T]=!0,g.push(T),x[T]=b(S,s[A]))}}for(var D=g.length,O=0;O<D;O++)m[O]=x[g[O]];return y[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:y,size:[f,1],datatype:l})}}),h=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var o,s=e._data,a=e._size,u=e._datatype,c=n._data,l=n._datatype,h=a[0],d=a[1],f=n._size[1],p=r,m=i;u&&l&&u===l&&"string"==typeof u&&(p=t.find(r,[o=u,o]),m=t.find(i,[o,o]));for(var g=[],y=0;y<h;y++){var v=s[y];g[y]=[];for(var b=0;b<f;b++){for(var w=m(v[0],c[0][b]),_=1;_<d;_++)w=p(w,m(v[_],c[_][b]));g[y][b]=w}}return e.createDenseMatrix({data:g,size:[h,f],datatype:o})},"DenseMatrix, SparseMatrix":function(e,n){var s=e._data,a=e._size,u=e._datatype,c=n._values,l=n._index,h=n._ptr,d=n._size,f=n._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,m=a[0],g=d[1],y=r,v=i,b=o,w=0;u&&f&&u===f&&"string"==typeof u&&(y=t.find(r,[p=u,p]),v=t.find(i,[p,p]),b=t.find(o,[p,p]),w=t.convert(0,p));for(var _=[],x=[],E=[],C=n.createSparseMatrix({values:_,index:x,ptr:E,size:[m,g],datatype:p}),S=0;S<g;S++){E[S]=x.length;var N=h[S],A=h[S+1];if(A>N)for(var T=0,D=0;D<m;D++){for(var O=D+1,I=void 0,M=N;M<A;M++){var R=l[M];T!==O?(I=v(s[D][R],c[M]),T=O):I=y(I,v(s[D][R],c[M]))}T!==O||b(I,w)||(x.push(D),_.push(I))}}return E[g]=x.length,C},"SparseMatrix, DenseMatrix":function(e,n){var s=e._values,a=e._index,u=e._ptr,c=e._datatype;if(!s)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,h=n._data,d=n._datatype,f=e._size[0],p=n._size[0],m=n._size[1],g=r,y=i,v=o,b=0;c&&d&&c===d&&"string"==typeof c&&(g=t.find(r,[l=c,l]),y=t.find(i,[l,l]),v=t.find(o,[l,l]),b=t.convert(0,l));for(var w=[],_=[],x=[],E=e.createSparseMatrix({values:w,index:_,ptr:x,size:[f,m],datatype:l}),C=[],S=[],N=0;N<m;N++){x[N]=_.length;for(var A=N+1,T=0;T<p;T++){var D=h[T][N];if(!v(D,b))for(var O=u[T+1],I=u[T];I<O;I++){var M=a[I];S[M]!==A?(S[M]=A,_.push(M),C[M]=y(D,s[I])):C[M]=g(C[M],y(D,s[I]))}}for(var R=_.length,k=x[N];k<R;k++)w[k]=C[_[k]]}return x[m]=_.length,E},"SparseMatrix, SparseMatrix":function(e,n){var o,s=e._values,a=e._index,u=e._ptr,c=e._datatype,l=n._values,h=n._index,d=n._ptr,f=n._datatype,p=e._size[0],m=n._size[1],g=s&&l,y=r,v=i;c&&f&&c===f&&"string"==typeof c&&(y=t.find(r,[o=c,o]),v=t.find(i,[o,o]));for(var b,w,_,x,E,C,S=g?[]:void 0,N=[],A=[],T=e.createSparseMatrix({values:S,index:N,ptr:A,size:[p,m],datatype:o}),D=g?[]:void 0,O=[],I=0;I<m;I++){A[I]=N.length;var M=I+1;for(x=d[I+1],_=d[I];_<x;_++)if(C=h[_],g)for(w=u[C+1],b=u[C];b<w;b++)O[E=a[b]]!==M?(O[E]=M,N.push(E),D[E]=v(l[_],s[b])):D[E]=y(D[E],v(l[_],s[b]));else for(w=u[C+1],b=u[C];b<w;b++)O[E=a[b]]!==M&&(O[E]=M,N.push(E));if(g)for(var R=N.length,k=A[I];k<R;k++)S[k]=D[N[k]]}return A[m]=N.length,T}});return t("multiply",Ba({"Array, Array":function(e,t){c(xu(e),xu(t));var r=this(n(e),n(t));return ia(r)?r.valueOf():r},"Matrix, Matrix":function(e,n){var o=e.size(),a=n.size();return c(o,a),1===o.length?1===a.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return s(e,t)}(e,n,o[0]):function(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var o,s=e._data,a=e._datatype,u=n._data,c=n._datatype,l=e._size[0],h=n._size[1],d=r,f=i;a&&c&&a===c&&"string"==typeof a&&(d=t.find(r,[o=a,o]),f=t.find(i,[o,o]));for(var p=[],m=0;m<h;m++){for(var g=f(s[0],u[0][m]),y=1;y<l;y++)g=d(g,f(s[y],u[y][m]));p[m]=g}return e.createDenseMatrix({data:p,size:[h],datatype:o})}(e,n)}(e,n):1===a.length?l(e,n):h(e,n)},"Matrix, Array":function(e,t){return this(e,n(t))},"Array, Matrix":function(e,t){return this(n(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return a(e,t,i,!1)},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"any, SparseMatrix":function(e,t){return a(t,e,i,!0)},"any, DenseMatrix":function(e,t){return u(t,e,i,!0)},"Array, any":function(e,t){return u(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}},i.signatures))})),$l=Bu("nthRoot",["typed","matrix","equalScalar","BigNumber"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=Al({typed:t}),s=Rl({typed:t,equalScalar:r}),a=kl({typed:t,equalScalar:r}),u=Pl({typed:t,equalScalar:r}),c=Ol({typed:t}),l=Il({typed:t}),h="Complex number not supported in function nthRoot. Use nthRoots instead.";return t("nthRoot",{number:function(e){return ul(e,2)},"number, number":ul,BigNumber:function(e){return d(e,new i(2))},Complex:function(e){throw new Error(h)},"Complex, number":function(e,t){throw new Error(h)},"BigNumber, BigNumber":d,"Array | Matrix":function(e){return this(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return a(e,t,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return o(e,t,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return u(t,e,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,n(t)).valueOf()}});function d(e,t){var n=i.precision,r=i.clone({precision:n+2}),o=new i(0),s=new r(1),a=t.isNegative();if(a&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return a?new r(1/0):0;if(!e.isFinite())return a?o:e;var u=e.abs().pow(s.div(t));return u=e.isNeg()?u.neg():u,new i((a?s.div(u):u).toPrecision(n))}})),Wl=Bu("sign",["typed","BigNumber","Fraction","complex"],(function(e){var t=e.BigNumber,n=e.complex,r=e.Fraction;return(0,e.typed)("sign",{number:cl,Complex:function(e){return 0===e.im?n(cl(e.re)):e.sign()},BigNumber:function(e){return new t(e.cmp(0))},Fraction:function(e){return new r(e.s,1)},"Array | Matrix":function(e){return bc(e,this,!0)},Unit:function(e){return this(e.value)}})})),Ql=Bu("sqrt",["config","typed","Complex"],(function(e){var t=e.config,n=e.Complex;return(0,e.typed)("sqrt",{number:r,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():r(e.toNumber())},"Array | Matrix":function(e){return bc(e,this,!0)},Unit:function(e){return e.pow(.5)}});function r(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new n(e,0).sqrt()}})),Gl=Bu("square",["typed"],(function(e){return(0,e.typed)("square",{number:ll,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return bc(e,this,!0)},Unit:function(e){return e.pow(2)}})})),Kl=Bu("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.addScalar,o=e.unaryMinus,s=e.DenseMatrix,a=Al({typed:t}),u=Bl({typed:t}),c=Ul({typed:t,equalScalar:r}),l=Dl({typed:t,DenseMatrix:s}),h=Ol({typed:t}),d=Il({typed:t});return t("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=this(n.value,t.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(e,t){return Zl(e,t),c(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return Zl(e,t),u(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return Zl(e,t),a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return Zl(e,t),h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return l(e,o(t),i)},"DenseMatrix, any":function(e,t){return d(e,t,this)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(n(t),e,this,!0).valueOf()}})}));function Zl(e,t){var n=e.size(),r=t.size();if(n.length!==r.length)throw new wu(n.length,r.length)}var Yl=Bu("xgcd",["typed","config","matrix","BigNumber"],(function(e){var t=e.config,n=e.matrix,r=e.BigNumber;return(0,e.typed)("xgcd",{"number, number":function(e,r){var i=hl(e,r);return"Array"===t.matrix?i:n(i)},"BigNumber, BigNumber":function(e,i){var o,s,a,u,c=new r(0),l=new r(1),h=c,d=l,f=l,p=c;if(!e.isInt()||!i.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!i.isZero();)s=e.div(i).floor(),a=e.mod(i),o=h,h=d.minus(s.times(h)),d=o,o=f,f=p.minus(s.times(f)),p=o,e=i,i=a;return u=e.lt(c)?[e.neg(),d.neg(),p.neg()]:[e,e.isZero()?0:d,p],"Array"===t.matrix?u:n(u)}})})),Jl=Bu("algorithm09",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,s=e._index,a=e._ptr,u=e._size,c=e._datatype,l=r._values,h=r._index,d=r._ptr,f=r._size,p=r._datatype;if(u.length!==f.length)throw new wu(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,g=u[0],y=u[1],v=n,b=0,w=i;"string"==typeof c&&c===p&&(v=t.find(n,[m=c,m]),b=t.convert(0,m),w=t.find(i,[m,m]));var _,x,E,C,S=o&&l?[]:void 0,N=[],A=[],T=S?[]:void 0,D=[];for(x=0;x<y;x++){A[x]=N.length;var O=x+1;if(T)for(C=d[x+1],E=d[x];E<C;E++)D[_=h[E]]=O,T[_]=l[E];for(C=a[x+1],E=a[x];E<C;E++)if(_=s[E],T){var I=w(o[E],D[_]===O?T[_]:b);v(I,b)||(N.push(_),S.push(I))}else N.push(_)}return A[y]=N.length,e.createSparseMatrix({values:S,index:N,ptr:A,size:[g,y],datatype:m})}})),Xl=Bu("dotMultiply",["typed","matrix","equalScalar","multiplyScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.multiplyScalar,o=Rl({typed:t,equalScalar:r}),s=Jl({typed:t,equalScalar:r}),a=Pl({typed:t,equalScalar:r}),u=Ol({typed:t}),c=Il({typed:t});return t("dotMultiply",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,i)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,i,!1)},"DenseMatrix, any":function(e,t){return c(e,t,i,!1)},"any, SparseMatrix":function(e,t){return a(t,e,i,!0)},"any, DenseMatrix":function(e,t){return c(t,e,i,!0)},"Array, any":function(e,t){return c(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,i,!0).valueOf()}})}));function eh(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return rh(e,t,(function(e,t){return e&t}))}function th(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var r=e.plus(new t(1));return r.s=-r.s||null,t.config({precision:n}),r}function nh(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var r=new n(-1);return e.isZero()||t.eq(r)||e.eq(t)?t:t.isZero()||e.eq(r)?e:e.isFinite()&&t.isFinite()?rh(e,t,(function(e,t){return e|t})):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?r:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function rh(e,t,n){var r,i,o,s,a,u=e.constructor,c=+(e.s<0),l=+(t.s<0);if(c){r=ih(th(e));for(var h=0;h<r.length;++h)r[h]^=1}else r=ih(e);if(l){i=ih(th(t));for(var d=0;d<i.length;++d)i[d]^=1}else i=ih(t);r.length<=i.length?(o=r,s=i,a=c):(o=i,s=r,a=l);var f=o.length,p=s.length,m=1^n(c,l),g=new u(1^m),y=new u(1),v=new u(2),b=u.precision;for(u.config({precision:1e9});f>0;)n(o[--f],s[--p])===m&&(g=g.plus(y)),y=y.times(v);for(;p>0;)n(a,s[--p])===m&&(g=g.plus(y)),y=y.times(v);return u.config({precision:b}),0===m&&(g.s=-g.s),g}function ih(e){for(var t=e.d,n=t[0]+"",r=1;r<t.length;++r){for(var i=t[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}for(var s=n.length;"0"===n.charAt(s);)s--;var a=e.e,u=n.slice(0,s+1||1),c=u.length;if(a>0)if(++a>c)for(a-=c;a--;)u+="0";else a<c&&(u=u.slice(0,a)+"."+u.slice(a));for(var l=[0],h=0;h<u.length;){for(var d=l.length;d--;)l[d]*=10;l[0]+=parseInt(u.charAt(h++));for(var f=0;f<l.length;++f)l[f]>1&&(null==l[f+1]&&(l[f+1]=0),l[f+1]+=l[f]>>1,l[f]&=1)}return l.reverse()}function oh(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var r=new n(-1);return e.eq(r)?th(t):t.eq(r)?th(e):e.isFinite()&&t.isFinite()?rh(e,t,(function(e,t){return e^t})):e.isFinite()||t.isFinite()?new n(e.isNegative()===t.isNegative()?1/0:-1/0):r}function sh(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new n(2).pow(t)):new n(NaN)}function ah(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new n(2).pow(t)).floor():e.isNegative()?new n(-1):e.isFinite()?new n(0):new n(NaN)}var uh="number, number";function ch(e,t){if(!Wa(e)||!Wa(t))throw new Error("Integers expected in function bitAnd");return e&t}function lh(e){if(!Wa(e))throw new Error("Integer expected in function bitNot");return~e}function hh(e,t){if(!Wa(e)||!Wa(t))throw new Error("Integers expected in function bitOr");return e|t}function dh(e,t){if(!Wa(e)||!Wa(t))throw new Error("Integers expected in function bitXor");return e^t}function fh(e,t){if(!Wa(e)||!Wa(t))throw new Error("Integers expected in function leftShift");return e<<t}function ph(e,t){if(!Wa(e)||!Wa(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function mh(e,t){if(!Wa(e)||!Wa(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}ch.signature=uh,lh.signature="number",hh.signature=uh,dh.signature=uh,fh.signature=uh,ph.signature=uh,mh.signature=uh;var gh=Bu("bitAnd",["typed","matrix","equalScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=Rl({typed:t,equalScalar:r}),o=kl({typed:t,equalScalar:r}),s=Pl({typed:t,equalScalar:r}),a=Ol({typed:t}),u=Il({typed:t});return t("bitAnd",{"number, number":ch,"BigNumber, BigNumber":eh,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return a(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,this,!0).valueOf()}})})),yh=Bu("bitNot",["typed"],(function(e){return(0,e.typed)("bitNot",{number:lh,BigNumber:th,"Array | Matrix":function(e){return bc(e,this)}})})),vh=Bu("bitOr",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=Al({typed:t}),s=Tl({typed:t,equalScalar:r}),a=Dl({typed:t,DenseMatrix:i}),u=Ol({typed:t}),c=Il({typed:t});return t("bitOr",{"number, number":hh,"BigNumber, BigNumber":nh,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return a(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,this,!0).valueOf()}})})),bh=Bu("algorithm07",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,i,o){var s=e._size,a=e._datatype,u=i._size,c=i._datatype;if(s.length!==u.length)throw new wu(s.length,u.length);if(s[0]!==u[0]||s[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+u+")");var l,h,d,f=s[0],p=s[1],m=0,g=o;"string"==typeof a&&a===c&&(m=t.convert(0,l=a),g=t.find(o,[l,l]));var y=[];for(h=0;h<f;h++)y[h]=[];var v=[],b=[],w=[],_=[];for(d=0;d<p;d++){var x=d+1;for(r(e,d,w,v,x),r(i,d,_,b,x),h=0;h<f;h++)y[h][d]=g(w[h]===x?v[h]:m,_[h]===x?b[h]:m)}return new n({data:y,size:[f,p],datatype:l})};function r(e,t,n,r,i){for(var o=e._values,s=e._index,a=e._ptr,u=a[t],c=a[t+1];u<c;u++){var l=s[u];n[l]=i,r[l]=o[u]}}})),wh=Bu("bitXor",["typed","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.DenseMatrix,i=Bl({typed:t}),o=bh({typed:t,DenseMatrix:r}),s=Vl({typed:t,DenseMatrix:r}),a=Ol({typed:t}),u=Il({typed:t});return t("bitXor",{"number, number":dh,"BigNumber, BigNumber":oh,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return a(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,this,!0).valueOf()}})})),_h=Bu("arg",["typed"],(function(e){return(0,e.typed)("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return bc(e,this)}})})),xh=Bu("conj",["typed"],(function(e){return(0,e.typed)("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return bc(e,this)}})})),Eh=Bu("im",["typed"],(function(e){return(0,e.typed)("im",{number:function(e){return 0},BigNumber:function(e){return e.mul(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return bc(e,this)}})})),Ch=Bu("re",["typed"],(function(e){return(0,e.typed)("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return bc(e,this)}})}));function Sh(e){return!e}function Nh(e,t){return!(!e&&!t)}function Ah(e,t){return!!e!=!!t}function Th(e,t){return!(!e||!t)}Sh.signature="number",Nh.signature="number, number",Ah.signature="number, number",Th.signature="number, number";var Dh=Bu("not",["typed"],(function(e){return(0,e.typed)("not",{number:Sh,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),Oh=Bu("or",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=Bl({typed:t}),s=Ul({typed:t,equalScalar:r}),a=Vl({typed:t,DenseMatrix:i}),u=Ol({typed:t}),c=Il({typed:t});return t("or",{"number, number":Nh,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return a(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,this,!0).valueOf()}})})),Ih=Bu("xor",["typed","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.DenseMatrix,i=Bl({typed:t}),o=bh({typed:t,DenseMatrix:r}),s=Vl({typed:t,DenseMatrix:r}),a=Ol({typed:t}),u=Il({typed:t});return t("xor",{"number, number":Ah,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return a(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,this,!0).valueOf()}})})),Mh=Bu("concat",["typed","matrix","isInteger"],(function(e){var t=e.matrix,n=e.isInteger;return(0,e.typed)("concat",{"...Array | Matrix | number | BigNumber":function(e){var r,i,o=e.length,s=-1,a=!1,u=[];for(r=0;r<o;r++){var c=e[r];if(ia(c)&&(a=!0),Ys(c)||Js(c)){if(r!==o-1)throw new Error("Dimension must be specified as last argument");if(i=s,s=c.valueOf(),!n(s))throw new TypeError("Integer number expected for dimension");if(s<0||r>0&&s>i)throw new _u(s,i+1)}else{var l=ja(c).valueOf(),h=xu(l);if(u[r]=l,i=s,s=h.length-1,r>0&&s!==i)throw new wu(i+1,s+1)}}if(0===u.length)throw new SyntaxError("At least one matrix expected");for(var d=u.shift();u.length;)d=Rh(d,u.shift(),s,0);return a?t(d):d},"...string":function(e){return e.join("")}})}));function Rh(e,t,n,r){if(r<n){if(e.length!==t.length)throw new wu(e.length,t.length);for(var i=[],o=0;o<e.length;o++)i[o]=Rh(e[o],t[o],n,r+1);return i}return e.concat(t)}var kh=Bu("column",["typed","Index","matrix","range"],(function(e){var t=e.Index,n=e.matrix,r=e.range;return(0,e.typed)("column",{"Matrix, number":i,"Array, number":function(e,t){return i(n(ja(e)),t).valueOf()}});function i(e,n){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Cu(n,e.size()[1]);var i=r(0,e.size()[0]),o=new t(i,n);return e.subset(o)}})),Ph=Bu("cross",["typed","matrix","subtract","multiply"],(function(e){var t=e.matrix,n=e.subtract,r=e.multiply;return(0,e.typed)("cross",{"Matrix, Matrix":function(e,n){return t(i(e.toArray(),n.toArray()))},"Matrix, Array":function(e,n){return t(i(e.toArray(),n))},"Array, Matrix":function(e,n){return t(i(e,n.toArray()))},"Array, Array":i});function i(e,t){var i=Math.max(xu(e).length,xu(t).length);e=Au(e),t=Au(t);var o=xu(e),s=xu(t);if(1!==o.length||1!==s.length||3!==o[0]||3!==s[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+o.join(", ")+"], B = ["+s.join(", ")+"])");var a=[n(r(e[1],t[2]),r(e[2],t[1])),n(r(e[2],t[0]),r(e[0],t[2])),n(r(e[0],t[1]),r(e[1],t[0]))];return i>1?[a]:a}})),Fh=Bu("diag",["typed","matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.matrix,n=e.DenseMatrix,r=e.SparseMatrix;return(0,e.typed)("diag",{Array:function(e){return i(e,0,xu(e),null)},"Array, number":function(e,t){return i(e,t,xu(e),null)},"Array, BigNumber":function(e,t){return i(e,t.toNumber(),xu(e),null)},"Array, string":function(e,t){return i(e,0,xu(e),t)},"Array, number, string":function(e,t,n){return i(e,t,xu(e),n)},"Array, BigNumber, string":function(e,t,n){return i(e,t.toNumber(),xu(e),n)},Matrix:function(e){return i(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return i(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return i(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return i(e,0,e.size(),t)},"Matrix, number, string":function(e,t,n){return i(e,t,e.size(),n)},"Matrix, BigNumber, string":function(e,t,n){return i(e,t.toNumber(),e.size(),n)}});function i(e,i,o,s){if(!Wa(i))throw new TypeError("Second parameter in function diag must be an integer");var a=i>0?i:0,u=i<0?-i:0;switch(o.length){case 1:return function(e,t,i,o,s,a){var u=[o+s,o+a];if(i&&"sparse"!==i&&"dense"!==i)throw new TypeError("Unknown matrix type ".concat(i,'"'));var c="sparse"===i?r.diagonal(u,e,t):n.diagonal(u,e,t);return null!==i?c:c.valueOf()}(e,i,s,o[0],u,a);case 2:return function(e,n,r,i,o,s){if(ia(e)){var a=e.diagonal(n);return null!==r?r!==a.storage()?t(a,r):a:a.valueOf()}for(var u=Math.min(i[0]-o,i[1]-s),c=[],l=0;l<u;l++)c[l]=e[l+o][l+s];return null!==r?t(c):c}(e,i,s,o,u,a)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}));function jh(e){return(jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lh(e,t){return function n(){"object"!==jh(n.cache)&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t(r):JSON.stringify(r);return o in n.cache||(n.cache[o]=e.apply(e,r)),n.cache[o]}}function Bh(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)}),-1)}var Uh=Bu("filter",["typed"],(function(e){return(0,e.typed)("filter",{"Array, function":Vh,"Matrix, function":function(e,t){return e.create(Vh(e.toArray(),t))},"Array, RegExp":Ru,"Matrix, RegExp":function(e,t){return e.create(Ru(e.toArray(),t))}})}));function Vh(e,t){var n=Bh(t);return Mu(e,(function(e,r,i){return 1===n?t(e):2===n?t(e,[r]):t(e,[r],i)}))}var qh=Bu("flatten",["typed","matrix"],(function(e){var t=e.matrix;return(0,e.typed)("flatten",{Array:function(e){return Du(ja(e))},Matrix:function(e){var n=Du(ja(e.toArray()));return t(n)}})})),zh=Bu("forEach",["typed"],(function(e){return(0,e.typed)("forEach",{"Array, function":Hh,"Matrix, function":function(e,t){return e.forEach(t)}})}));function Hh(e,t){var n=Bh(t);!function r(i,o){Array.isArray(i)?Iu(i,(function(e,t){r(e,o.concat(t))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e,[])}var $h=Bu("getMatrixDataType",["typed"],(function(e){return(0,e.typed)("getMatrixDataType",{Array:function(e){return ju(e,Pa)},Matrix:function(e){return e.getDataType()}})})),Wh=Bu("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(function(e){var t=e.config,n=e.matrix,r=e.BigNumber,i=e.DenseMatrix,o=e.SparseMatrix;return(0,e.typed)("identity",{"":function(){return"Matrix"===t.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return a(e,e,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return a(e,e,t)},"number | BigNumber, number | BigNumber":function(e,n){return a(e,n,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return a(e,t,n)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return a(e[0],e[0],t);case 2:return a(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function a(e,t,n){var s=Js(e)||Js(t)?r:null;if(Js(e)&&(e=e.toNumber()),Js(t)&&(t=t.toNumber()),!Wa(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!Wa(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var a=s?new r(1):1,u=s?new s(0):0,c=[e,t];if(n){if("sparse"===n)return o.diagonal(c,a,0,u);if("dense"===n)return i.diagonal(c,a,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var l=Su([],c,u),h=e<t?e:t,d=0;d<h;d++)l[d][d]=a;return l}})),Qh=Bu("kron",["typed","matrix","multiplyScalar"],(function(e){var t=e.matrix,n=e.multiplyScalar;return(0,e.typed)("kron",{"Matrix, Matrix":function(e,n){return t(r(e.toArray(),n.toArray()))},"Matrix, Array":function(e,n){return t(r(e.toArray(),n))},"Array, Matrix":function(e,n){return t(r(e,n.toArray()))},"Array, Array":r});function r(e,t){if(1===xu(e).length&&(e=[e]),1===xu(t).length&&(t=[t]),xu(e).length>2||xu(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var r=[],i=[];return e.map((function(e){return t.map((function(t){return r.push(i=[]),e.map((function(e){return t.map((function(t){return i.push(n(e,t))}))}))}))}))&&r}})),Gh=Bu("map",["typed"],(function(e){return(0,e.typed)("map",{"Array, function":Kh,"Matrix, function":function(e,t){return e.map(t)}})}));function Kh(e,t){var n=Bh(t);return function r(i,o){return Array.isArray(i)?i.map((function(e,t){return r(e,o.concat(t))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e,[])}var Zh=Bu("diff",["typed","matrix","subtract","number"],(function(e){var t=e.matrix,n=e.subtract,r=e.number;return(0,e.typed)("diff",{"Array | Matrix":function(e){return ia(e)?t(o(e.toArray())):o(e)},"Array | Matrix, number":function(e,n){if(!Wa(n))throw new RangeError("Dimension must be a whole number");return ia(e)?t(i(e.toArray(),n)):i(e,n)},"Array | Matrix, BigNumber":function(e,t){return this(e,r(t))}});function i(e,t){if(ia(e)&&(e=e.toArray()),!Array.isArray(e))throw RangeError("Array/Matrix does not have that many dimensions");if(t>0){var n=[];return e.forEach((function(e){n.push(i(e,t-1))})),n}if(0===t)return o(e);throw RangeError("Cannot have negative dimension")}function o(e){var t=[],n=e.length;if(n<2)return e;for(var r=1;r<n;r++)t.push(s(e[r-1],e[r]));return t}function s(e,t){ia(e)&&(e=e.toArray()),ia(t)&&(t=t.toArray());var r=Array.isArray(e),i=Array.isArray(t);if(r&&i)return function(e,t){if(e.length!==t.length)throw RangeError("Not all sub-arrays have the same length");for(var n=[],r=e.length,i=0;i<r;i++)n.push(s(e[i],t[i]));return n}(e,t);if(!r&&!i)return n(t,e);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}})),Yh=Bu("ones",["typed","config","matrix","BigNumber"],(function(e){var t=e.config,n=e.matrix,r=e.BigNumber;return(0,e.typed)("ones",{"":function(){return"Array"===t.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var n=e.pop();return i(e,n)}return"Array"===t.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){var i=function(e){var t=!1;return e.forEach((function(e,n,r){Js(e)&&(t=!0,r[n]=e.toNumber())})),t}(e)?new r(1):1;if(function(e){e.forEach((function(e){if("number"!=typeof e||!Wa(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}))}(e),t){var o=n(t);return e.length>0?o.resize(e,i):o}var s=[];return e.length>0?Su(s,e,i):s}}));function Jh(){throw new Error('No "bignumber" implementation available')}function Xh(){throw new Error('No "fraction" implementation available')}function ed(){throw new Error('No "matrix" implementation available')}var td=Bu("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.config,n=e.matrix,r=e.bignumber,i=e.smaller,o=e.smallerEq,s=e.larger,a=e.largerEq;return(0,e.typed)("range",{string:c,"string, boolean":c,"number, number":function(e,t){return u(l(e,t,1))},"number, number, number":function(e,t,n){return u(l(e,t,n))},"number, number, boolean":function(e,t,n){return u(n?h(e,t,1):l(e,t,1))},"number, number, number, boolean":function(e,t,n,r){return u(r?h(e,t,n):l(e,t,n))},"BigNumber, BigNumber":function(e,t){return u(d(e,t,new(0,e.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return u(d(e,t,n))},"BigNumber, BigNumber, boolean":function(e,t,n){var r=e.constructor;return u(n?f(e,t,new r(1)):d(e,t,new r(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return u(r?f(e,t,n):d(e,t,n))}});function u(e){return"Matrix"===t.matrix?n?n(e):ed():e}function c(e,n){var i=function(e){var t=e.split(":").map((function(e){return Number(e)}));if(t.some((function(e){return isNaN(e)})))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!i)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===t.number?(void 0===r&&Jh(),u((n?f:d)(r(i.start),r(i.end),r(i.step)))):u((n?h:l)(i.start,i.end,i.step))}function l(e,t,n){var r=[],o=e;if(n>0)for(;i(o,t);)r.push(o),o+=n;else if(n<0)for(;s(o,t);)r.push(o),o+=n;return r}function h(e,t,n){var r=[],i=e;if(n>0)for(;o(i,t);)r.push(i),i+=n;else if(n<0)for(;a(i,t);)r.push(i),i+=n;return r}function d(e,t,n){var o=r(0),a=[],u=e;if(n.gt(o))for(;i(u,t);)a.push(u),u=u.plus(n);else if(n.lt(o))for(;s(u,t);)a.push(u),u=u.plus(n);return a}function f(e,t,n){var i=r(0),s=[],u=e;if(n.gt(i))for(;o(u,t);)s.push(u),u=u.plus(n);else if(n.lt(i))for(;a(u,t);)s.push(u),u=u.plus(n);return s}})),nd=Bu("reshape",["typed","isInteger","matrix"],(function(e){var t=e.isInteger,n=e.matrix;return(0,e.typed)("reshape",{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):n(Nu(e.valueOf(),t))},"Array, Array":function(e,n){return n.forEach((function(e){if(!t(e))throw new TypeError("Invalid size for dimension: "+e)})),Nu(e,n)}})})),rd=Bu("resize",["config","matrix"],(function(e){var t=e.config,n=e.matrix;return function(e,i,o){if(2!==arguments.length&&3!==arguments.length)throw new qu("resize",arguments.length,2,3);if(ia(i)&&(i=i.valueOf()),Js(i[0])&&(i=i.map((function(e){return Js(e)?e.toNumber():e}))),ia(e))return e.resize(i,o,!0);if("string"==typeof e)return r(e,i,o);var s=!Array.isArray(e)&&"Array"!==t.matrix;if(0===i.length){for(;Array.isArray(e);)e=e[0];return ja(e)}Array.isArray(e)||(e=[e]);var a=Su(e=ja(e),i,o);return s?n(a):a};function r(e,t,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new wu(t.length,1);var r=t[0];if("number"!=typeof r||!Wa(r))throw new TypeError("Invalid size, must contain positive integers (size: "+gu(t)+")");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var i=e,o=0,s=r-e.length;o<s;o++)i+=n;return i}return e}})),id=Bu("row",["typed","Index","matrix","range"],(function(e){var t=e.Index,n=e.matrix,r=e.range;return(0,e.typed)("row",{"Matrix, number":i,"Array, number":function(e,t){return i(n(ja(e)),t).valueOf()}});function i(e,n){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Cu(n,e.size()[0]);var i=r(0,e.size()[1]),o=new t(n,i);return e.subset(o)}})),od=Bu("size",["typed","config","?matrix"],(function(e){var t=e.config,n=e.matrix;return(0,e.typed)("size",{Matrix:function(e){return e.create(e.size())},Array:xu,string:function(e){return"Array"===t.matrix?[e.length]:n([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:n?n([]):ed()}})})),sd=Bu("squeeze",["typed","matrix"],(function(e){var t=e.matrix;return(0,e.typed)("squeeze",{Array:function(e){return Au(ja(e))},Matrix:function(e){var n=Au(e.toArray());return Array.isArray(n)?t(n):n},any:function(e){return ja(e)}})}));function ad(e){return(ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ud(e,t){if(dd(e)&&ld(e,t))return e[t];if("function"==typeof e[t]&&hd(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function cd(e,t,n){if(dd(e)&&ld(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function ld(e,t){return!(!e||"object"!==ad(e)||!qa(fd,t)&&(t in Object.prototype||t in Function.prototype))}function hd(e,t){return!(null==e||"function"!=typeof e[t]||qa(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)||!qa(pd,t)&&(t in Object.prototype||t in Function.prototype))}function dd(e){return"object"===ad(e)&&e&&e.constructor===Object}var fd={length:!0,name:!0},pd={toString:!0,valueOf:!0,toLocaleString:!0},md=Bu("subset",["typed","matrix"],(function(e){var t=e.matrix;return(0,e.typed)("subset",{"Array, Index":function(e,n){var r=t(e).subset(n);return n.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":vd,"string, Index":gd,"Array, Index, any":function(e,n,r){return t(ja(e)).subset(n,r,void 0).valueOf()},"Array, Index, any, any":function(e,n,r,i){return t(ja(e)).subset(n,r,i).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":yd,"string, Index, string, string":yd,"Object, Index, any":bd})}));function gd(e,t){if(!ca(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new wu(t.size().length,1);var n=e.length;Cu(t.min()[0],n),Cu(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach((function(t){i+=e.charAt(t)})),i}function yd(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new wu(t.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0);if(i.size()[0]!==n.length)throw new wu(i.size()[0],n.length);var o=e.length;Cu(t.min()[0]),Cu(t.max()[0]);for(var s=[],a=0;a<o;a++)s[a]=e.charAt(a);if(i.forEach((function(e,t){s[e]=n.charAt(t[0])})),s.length>o)for(var u=o-1,c=s.length;u<c;u++)s[u]||(s[u]=r);return s.join("")}function vd(e,t){if(1!==t.size().length)throw new wu(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return ud(e,n)}function bd(e,t,n){if(1!==t.size().length)throw new wu(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=ja(e);return cd(i,r,n),i}var wd=Bu("transpose",["typed","matrix"],(function(e){var t=e.matrix;return(0,e.typed)("transpose",{Array:function(e){return this(t(e)).valueOf()},Matrix:function(e){var t,n=e.size();switch(n.length){case 1:t=e.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+gu(n)+")");switch(e.storage()){case"dense":t=function(e,t,n){for(var r,i=e._data,o=[],s=0;s<n;s++){r=o[s]=[];for(var a=0;a<t;a++)r[a]=ja(i[a][s])}return e.createDenseMatrix({data:o,size:[n,t],datatype:e._datatype})}(e,r,i);break;case"sparse":t=function(e,t,n){for(var r,i,o,s=e._values,a=e._index,u=e._ptr,c=s?[]:void 0,l=[],h=[],d=[],f=0;f<t;f++)d[f]=0;for(r=0,i=a.length;r<i;r++)d[a[r]]++;for(var p=0,m=0;m<t;m++)h.push(p),p+=d[m],d[m]=h[m];for(h.push(p),o=0;o<n;o++)for(var g=u[o+1],y=u[o];y<g;y++){var v=d[a[y]]++;l[v]=o,s&&(c[v]=ja(s[y]))}return e.createSparseMatrix({values:c,index:l,ptr:h,size:[n,t],datatype:e._datatype})}(e,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+gu(this._size)+")")}return t},any:function(e){return ja(e)}})})),_d=Bu("ctranspose",["typed","transpose","conj"],(function(e){var t=e.transpose,n=e.conj;return(0,e.typed)("ctranspose",{any:function(e){return n(t(e))}})})),xd=Bu("zeros",["typed","config","matrix","BigNumber"],(function(e){var t=e.config,n=e.matrix,r=e.BigNumber;return(0,e.typed)("zeros",{"":function(){return"Array"===t.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var n=e.pop();return i(e,n)}return"Array"===t.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){var i=function(e){var t=!1;return e.forEach((function(e,n,r){Js(e)&&(t=!0,r[n]=e.toNumber())})),t}(e)?new r(0):0;if(function(e){e.forEach((function(e){if("number"!=typeof e||!Wa(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}))}(e),t){var o=n(t);return e.length>0?o.resize(e,i):o}var s=[];return e.length>0?Su(s,e,i):s}})),Ed=Bu("erf",["typed"],(function(e){return(0,e.typed)("name",{number:function(e){var t=Math.abs(e);return t>=Td?Qa(e):t<=Cd?Qa(e)*function(e){var t,n=e*e,r=Nd[0][4]*n,i=n;for(t=0;t<3;t+=1)r=(r+Nd[0][t])*n,i=(i+Ad[0][t])*n;return e*(r+Nd[0][3])/(i+Ad[0][3])}(t):t<=4?Qa(e)*(1-function(e){var t,n=Nd[1][8]*e,r=e;for(t=0;t<7;t+=1)n=(n+Nd[1][t])*e,r=(r+Ad[1][t])*e;var i=(n+Nd[1][7])/(r+Ad[1][7]),o=parseInt(16*e)/16,s=(e-o)*(e+o);return Math.exp(-o*o)*Math.exp(-s)*i}(t)):Qa(e)*(1-function(e){var t,n=1/(e*e),r=Nd[2][5]*n,i=n;for(t=0;t<4;t+=1)r=(r+Nd[2][t])*n,i=(i+Ad[2][t])*n;var o=n*(r+Nd[2][4])/(i+Ad[2][4]);o=(Sd-o)/e;var s=(e-(n=parseInt(16*e)/16))*(e+n);return Math.exp(-n*n)*Math.exp(-s)*o}(t))},"Array | Matrix":function(e){return bc(e,this)}})})),Cd=.46875,Sd=.5641895835477563,Nd=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Ad=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Td=Math.pow(2,53),Dd=Bu("mode",["typed","isNaN","isNumeric"],(function(e){var t=e.isNaN,n=e.isNumeric;return(0,e.typed)("mode",{"Array | Matrix":r,"...":function(e){return r(e)}});function r(e){if(0===(e=Du(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var r={},i=[],o=0,s=0;s<e.length;s++){var a=e[s];if(n(a)&&t(a))throw new Error("Cannot calculate mode of an array containing NaN values");a in r||(r[a]=0),r[a]++,r[a]===o?i.push(a):r[a]>o&&(o=r[a],i=[a])}return i}}));function Od(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+Pa(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+Pa(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}var Id=Bu("prod",["typed","config","multiplyScalar","numeric"],(function(e){var t=e.config,n=e.multiplyScalar,r=e.numeric;return(0,e.typed)("prod",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return i(e)}});function i(e){var i;if(vc(e,(function(e){try{i=void 0===i?e:n(i,e)}catch(t){throw Od(t,"prod",e)}})),"string"==typeof i&&(i=r(i,t.number)),void 0===i)throw new Error("Cannot calculate prod of an empty array");return i}})),Md=Bu("format",["typed"],(function(e){return(0,e.typed)("format",{any:gu,"any, Object | function | number":gu})})),Rd=Bu("print",["typed"],(function(e){return(0,e.typed)("print",{"string, Object | Array":kd,"string, Object | Array, number | Object":kd})}));function kd(e,t,n){return e.replace(/\$([\w.]+)/g,(function(e,r){for(var i=r.split("."),o=t[i.shift()];i.length&&void 0!==o;){var s=i.shift();o=s?o[s]:o+"."}return void 0!==o?na(o)?o:gu(o,n):e}))}var Pd=Bu("to",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=Ol({typed:t}),i=Il({typed:t});return t("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return r(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"Matrix, any":function(e,t){return i(e,t,this,!1)},"any, Matrix":function(e,t){return i(t,e,this,!0)},"Array, any":function(e,t){return i(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return i(n(t),e,this,!0).valueOf()}})})),Fd=Bu("isPrime",["typed"],(function(e){return(0,e.typed)("isPrime",{number:function(e){if(0*e!=0)return!1;if(e<=3)return e>1;if(e%2==0||e%3==0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t==0||e%(t+2)==0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!=0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;for(var t=5;e.gte(t*t);t+=6)if(e.mod(t).eq(0)||e.mod(t+2).eq(0))return!1;return!0},"Array | Matrix":function(e){return bc(e,this)}})})),jd=Bu("numeric",["number","?bignumber","?fraction"],(function(e){var t=e.number,n=e.bignumber,r=e.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:function(e){return t(e)},BigNumber:n?function(e){return n(e)}:Jh,Fraction:r?function(e){return r(e)}:Xh};return function(e,t){var n=Pa(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in o))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(o).join(", "));return t===n?e:o[t](e)}})),Ld=Bu("divideScalar",["typed","numeric"],(function(e){var t=e.numeric;return(0,e.typed)("divideScalar",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,n){var r=e.clone(),i=t(1,Pa(n));return r.value=this(null===r.value?r._normalize(i):r.value,n),r},"number | Fraction | BigNumber, Unit":function(e,n){var r=n.clone();r=r.pow(-1);var i=t(1,Pa(e));return r.value=this(e,null===n.value?n._normalize(i):n.value),r},"Unit, Unit":function(e,t){return e.divide(t)}})})),Bd=Bu("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(function(e){var t=e.config,n=e.identity,r=e.multiply,i=e.matrix,o=e.number,s=e.fraction,a=e.Complex;return(0,e.typed)("pow",{"number, number":u,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,n){return n.isInteger()||e>=0||t.predictable?e.pow(n):new a(e.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(e,n){if(1!==n.d){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return u(e.valueOf(),n.valueOf())}return e.pow(n)},"Array, number":c,"Array, BigNumber":function(e,t){return c(e,t.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(e,t){return l(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function u(e,n){if(t.predictable&&!Wa(n)&&e<0)try{var r=s(n),i=o(r);if((n===i||Math.abs((n-i)/n)<1e-14)&&r.d%2==1)return(r.n%2==0?1:-1)*Math.pow(-e,n)}catch(u){}return t.predictable&&(e<-1&&n===1/0||e>-1&&e<0&&n===-1/0)?NaN:Wa(n)||e>=0||t.predictable?dl(e,n):e*e<1&&n===1/0||e*e>1&&n===-1/0?0:new a(e,0).pow(n,0)}function c(e,t){if(!Wa(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var i=xu(e);if(2!==i.length)throw new Error("For A^b, A must be 2 dimensional (A has "+i.length+" dimensions)");if(i[0]!==i[1])throw new Error("For A^b, A must be square (size is "+i[0]+"x"+i[1]+")");for(var o=n(i[0]).valueOf(),s=e;t>=1;)1==(1&t)&&(o=r(s,o)),t>>=1,s=r(s,s);return o}function l(e,t){return i(c(e.valueOf(),t))}}));function Ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(n),!0).forEach((function(t){qd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zd="Number of decimals in function round must be an integer",Hd=Bu("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.BigNumber,s=e.DenseMatrix,a=Pl({typed:t,equalScalar:r}),u=Vl({typed:t,DenseMatrix:s}),c=Il({typed:t});return t("round",Vd(Vd({},$d),{},{Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(zd);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(zd);var n=t.toNumber();return e.round(n)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(zd);return new o(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(zd);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(zd);return e.round(t)},"Array | Matrix":function(e){return bc(e,this,!0)},"SparseMatrix, number | BigNumber":function(e,t){return a(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):c(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return c(n(e),t,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return c(n(t),e,this,!0).valueOf()}}))})),$d={number:fl,"number, number":function(e,t){if(!Wa(t))throw new TypeError(zd);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return fl(e,t)}},Wd=Bu("log",["config","typed","divideScalar","Complex"],(function(e){var t=e.config,n=e.divideScalar,r=e.Complex;return(0,e.typed)("log",{number:function(e){return e>=0||t.predictable?il(e):new r(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.ln():new r(e.toNumber(),0).log()},"Array | Matrix":function(e){return bc(e,this)},"any, any":function(e,t){return n(this(e),this(t))}})})),Qd=Bu("log1p",["typed","config","divideScalar","log","Complex"],(function(e){var t=e.config,n=e.divideScalar,r=e.log,i=e.Complex;return(0,e.typed)("log1p",{number:function(e){return e>=-1||t.predictable?Za(e):o(new i(e,0))},Complex:o,BigNumber:function(e){var n=e.plus(1);return!n.isNegative()||t.predictable?n.ln():o(new i(e.toNumber(),0))},"Array | Matrix":function(e){return bc(e,this)},"any, any":function(e,t){return n(this(e),r(t))}});function o(e){var t=e.re+1;return new i(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}})),Gd=Bu("nthRoots",["config","typed","divideScalar","Complex"],(function(e){var t=e.Complex,n=[function(e){return new t(e,0)},function(e){return new t(0,e)},function(e){return new t(-e,0)},function(e){return new t(0,-e)}];function r(e,r){if(r<0)throw new Error("Root must be greater than zero");if(0===r)throw new Error("Root must be non-zero");if(r%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new t(0,0)];var i,o="number"==typeof e;(o||0===e.re||0===e.im)&&(i=o?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var s=e.arg(),a=e.abs(),u=[],c=Math.pow(a,1/r),l=0;l<r;l++){var h=(i+4*l)/r;h!==Math.round(h)?u.push(new t({r:c,phi:(s+2*Math.PI*l)/r})):u.push(n[h%4](c))}return u}return(0,e.typed)("nthRoots",{Complex:function(e){return r(e,2)},"Complex, number":r})})),Kd=Bu("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix"],(function(e){var t=e.typed,n=e.equalScalar,r=e.matrix,i=e.pow,o=e.DenseMatrix,s=Bl({typed:t}),a=bh({typed:t,DenseMatrix:o}),u=Pl({typed:t,equalScalar:n}),c=Vl({typed:t,DenseMatrix:o}),l=Ol({typed:t}),h=Il({typed:t});return t("dotPow",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,i)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return h(e,t,this,!1)},"any, SparseMatrix":function(e,t){return c(t,e,this,!0)},"any, DenseMatrix":function(e,t){return h(t,e,this,!0)},"Array, any":function(e,t){return h(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return h(r(t),e,this,!0).valueOf()}})})),Zd=Bu("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.divideScalar,o=e.DenseMatrix,s=Rl({typed:t,equalScalar:r}),a=Bl({typed:t}),u=bh({typed:t,DenseMatrix:o}),c=Pl({typed:t,equalScalar:r}),l=Vl({typed:t,DenseMatrix:o}),h=Ol({typed:t}),d=Il({typed:t});return t("dotDivide",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,i)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return c(e,t,i,!1)},"DenseMatrix, any":function(e,t){return d(e,t,i,!1)},"any, SparseMatrix":function(e,t){return l(t,e,i,!0)},"any, DenseMatrix":function(e,t){return d(t,e,i,!0)},"Array, any":function(e,t){return d(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return d(n(t),e,i,!0).valueOf()}})}));function Yd(e){var t=e.DenseMatrix;return function(e,n,r){var i=e.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+gu(i)+")");var o,s,a,u=i[0];if(u!==i[1])throw new RangeError("Matrix must be square (size: "+gu(i)+")");if(ia(n)){var c=n.size();if(1===c.length){if(c[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],a=n._data,s=0;s<u;s++)o[s]=[a[s]];return new t({data:o,size:[u,1],datatype:n._datatype})}if(2===c.length){if(c[0]!==u||1!==c[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(sa(n)){if(r){for(o=[],a=n._data,s=0;s<u;s++)o[s]=[a[s][0]];return new t({data:o,size:[u,1],datatype:n._datatype})}return n}for(o=[],s=0;s<u;s++)o[s]=[0];for(var l=n._values,h=n._index,d=n._ptr,f=d[1],p=d[0];p<f;p++)o[s=h[p]][0]=l[p];return new t({data:o,size:[u,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(ra(n)){var m=xu(n);if(1===m.length){if(m[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],s=0;s<u;s++)o[s]=[n[s]];return new t({data:o,size:[u,1]})}if(2===m.length){if(m[0]!==u||1!==m[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],s=0;s<u;s++)o[s]=[n[s][0]];return new t({data:o,size:[u,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}var Jd=Bu("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.divideScalar,i=e.multiplyScalar,o=e.subtract,s=e.equalScalar,a=e.DenseMatrix,u=Yd({DenseMatrix:a});return t("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n,c,l=(t=u(e,t,!0))._data,h=e._size[0],d=e._size[1],f=e._values,p=e._index,m=e._ptr,g=[],y=0;y<d;y++){var v=l[y][0]||0;if(s(v,0))g[y]=[0];else{var b=0,w=[],_=[],x=m[y+1];for(c=m[y];c<x;c++)(n=p[c])===y?b=f[c]:n>y&&(w.push(f[c]),_.push(n));if(s(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var E=r(v,b);for(c=0,x=_.length;c<x;c++)l[n=_[c]]=[o(l[n][0]||0,i(E,w[c]))];g[y]=[E]}}return new a({data:g,size:[h,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return c(e,t)},"Array, Array | Matrix":function(e,t){return c(n(e),t).valueOf()}});function c(e,t){for(var n=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],h=[],d=e._data,f=0;f<l;f++){var p=n[f][0]||0,m=void 0;if(s(p,0))m=0;else{var g=d[f][f];if(s(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(p,g);for(var y=f+1;y<c;y++)n[y]=[o(n[y][0]||0,i(m,d[y][f]))]}h[f]=[m]}return new a({data:h,size:[c,1]})}})),Xd=Bu("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.divideScalar,i=e.multiplyScalar,o=e.subtract,s=e.equalScalar,a=e.DenseMatrix,u=Yd({DenseMatrix:a});return t("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n,c,l=(t=u(e,t,!0))._data,h=e._size[0],d=e._values,f=e._index,p=e._ptr,m=[],g=e._size[1]-1;g>=0;g--){var y=l[g][0]||0;if(s(y,0))m[g]=[0];else{var v=0,b=[],w=[],_=p[g],x=p[g+1];for(c=x-1;c>=_;c--)(n=f[c])===g?v=d[c]:n<g&&(b.push(d[c]),w.push(n));if(s(v,0))throw new Error("Linear system cannot be solved since matrix is singular");var E=r(y,v);for(c=0,x=w.length;c<x;c++)l[n=w[c]]=[o(l[n][0],i(E,b[c]))];m[g]=[E]}}return new a({data:m,size:[h,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return c(e,t)},"Array, Array | Matrix":function(e,t){return c(n(e),t).valueOf()}});function c(e,t){for(var n=(t=u(e,t,!0))._data,c=e._size[0],l=[],h=e._data,d=e._size[1]-1;d>=0;d--){var f=n[d][0]||0,p=void 0;if(s(f,0))p=0;else{var m=h[d][d];if(s(m,0))throw new Error("Linear system cannot be solved since matrix is singular");p=r(f,m);for(var g=d-1;g>=0;g--)n[g]=[o(n[g][0]||0,i(p,h[g][d]))]}l[d]=[p]}return new a({data:l,size:[c,1]})}})),ef=Bu("algorithm08",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,s=e._index,a=e._ptr,u=e._size,c=e._datatype,l=r._values,h=r._index,d=r._ptr,f=r._size,p=r._datatype;if(u.length!==f.length)throw new wu(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");if(!o||!l)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,g=u[0],y=u[1],v=n,b=0,w=i;"string"==typeof c&&c===p&&(v=t.find(n,[m=c,m]),b=t.convert(0,m),w=t.find(i,[m,m]));for(var _,x,E,C=[],S=[],N=[],A=[],T=[],D=0;D<y;D++){N[D]=S.length;var O=D+1;for(x=a[D+1],_=a[D];_<x;_++)T[E=s[_]]=O,A[E]=o[_],S.push(E);for(x=d[D+1],_=d[D];_<x;_++)T[E=h[_]]===O&&(A[E]=w(A[E],l[_]));for(_=N[D];_<S.length;){var I=A[E=S[_]];v(I,b)?S.splice(_,1):(C.push(I),_++)}}return N[y]=S.length,e.createSparseMatrix({values:C,index:S,ptr:N,size:[g,y],datatype:m})}})),tf=Bu("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,s=Al({typed:t}),a=Rl({typed:t,equalScalar:r}),u=ef({typed:t,equalScalar:r}),c=Dl({typed:t,DenseMatrix:o}),l=Pl({typed:t,equalScalar:r}),h=Ol({typed:t}),d=Il({typed:t});return t("leftShift",{"number, number":fh,"BigNumber, BigNumber":sh,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():l(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):c(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,n(t)).valueOf()}})})),nf=Bu("rightArithShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,s=Al({typed:t}),a=Rl({typed:t,equalScalar:r}),u=ef({typed:t,equalScalar:r}),c=Dl({typed:t,DenseMatrix:o}),l=Pl({typed:t,equalScalar:r}),h=Ol({typed:t}),d=Il({typed:t});return t("rightArithShift",{"number, number":ph,"BigNumber, BigNumber":ah,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():l(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):c(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,n(t)).valueOf()}})})),rf=Bu("rightLogShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,s=Al({typed:t}),a=Rl({typed:t,equalScalar:r}),u=ef({typed:t,equalScalar:r}),c=Dl({typed:t,DenseMatrix:o}),l=Pl({typed:t,equalScalar:r}),h=Ol({typed:t}),d=Il({typed:t});return t("rightLogShift",{"number, number":mh,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():l(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):c(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,n(t)).valueOf()}})})),of=Bu("and",["typed","matrix","equalScalar","zeros","not"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.not,s=Rl({typed:t,equalScalar:r}),a=kl({typed:t,equalScalar:r}),u=Pl({typed:t,equalScalar:r}),c=Ol({typed:t}),l=Il({typed:t});return t("and",{"number, number":Th,"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return o(t)?i(e.size(),e.storage()):u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return o(t)?i(e.size(),e.storage()):l(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(e)?i(e.size(),e.storage()):u(t,e,this,!0)},"any, DenseMatrix":function(e,t){return o(e)?i(e.size(),e.storage()):l(t,e,this,!0)},"Array, any":function(e,t){return this(n(e),t).valueOf()},"any, Array":function(e,t){return this(e,n(t)).valueOf()}})})),sf=Bu("compare",["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.equalScalar,i=e.matrix,o=e.BigNumber,s=e.Fraction,a=e.DenseMatrix,u=Bl({typed:t}),c=Ul({typed:t,equalScalar:r}),l=Vl({typed:t,DenseMatrix:a}),h=Ol({typed:t}),d=Il({typed:t});return t("compare",{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,t){return su(e,t,n.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return Pc(e,t,n.epsilon)?new o(0):new o(e.cmp(t))},"Fraction, Fraction":function(e,t){return new s(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return this(i(e),t)},"Matrix, Array":function(e,t){return this(e,i(t))},"SparseMatrix, any":function(e,t){return l(e,t,this,!1)},"DenseMatrix, any":function(e,t){return d(e,t,this,!1)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(i(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(i(t),e,this,!0).valueOf()}})})),af=n("6XX6"),uf=n.n(af),cf=Bu("compareNatural",["typed","compare"],(function(e){var t=e.compare,n=t.signatures["boolean,boolean"];return(0,e.typed)("compareNatural",{"any, any":function(e,i){var o,s=Pa(e),a=Pa(i);if(!("number"!==s&&"BigNumber"!==s&&"Fraction"!==s||"number"!==a&&"BigNumber"!==a&&"Fraction"!==a))return"0"!==(o=t(e,i)).toString()?o>0?1:-1:uf()(s,a);if("Array"===s||"Matrix"===s||"Array"===a||"Matrix"===a)return 0!==(o=function e(t,n,i){return aa(n)&&aa(i)?r(t,n.toJSON().values,i.toJSON().values):aa(n)?e(t,n.toArray(),i):aa(i)?e(t,n,i.toArray()):sa(n)?e(t,n.toJSON().data,i):sa(i)?e(t,n,i.toJSON().data):Array.isArray(n)?Array.isArray(i)?r(t,n,i):e(t,n,[i]):e(t,[n],i)}(this,e,i))?o:uf()(s,a);if(s!==a)return uf()(s,a);if("Complex"===s)return function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}(e,i);if("Unit"===s)return e.equalBase(i)?this(e.value,i.value):r(this,e.formatUnits(),i.formatUnits());if("boolean"===s)return n(e,i);if("string"===s)return uf()(e,i);if("Object"===s)return function(e,t,n){var i=Object.keys(t),o=Object.keys(n);i.sort(uf.a),o.sort(uf.a);var s=r(e,i,o);if(0!==s)return s;for(var a=0;a<i.length;a++){var u=e(t[i[a]],n[o[a]]);if(0!==u)return u}return 0}(this,e,i);if("null"===s)return 0;if("undefined"===s)return 0;throw new TypeError('Unsupported type of value "'+s+'"')}});function r(e,t,n){for(var r=0,i=Math.min(t.length,n.length);r<i;r++){var o=e(t[r],n[r]);if(0!==o)return o}return t.length>n.length?1:t.length<n.length?-1:0}})),lf=Bu("compareText",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=Ol({typed:t}),i=Il({typed:t});return t("compareText",{"any, any":bu,"DenseMatrix, DenseMatrix":function(e,t){return r(e,t,bu)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"DenseMatrix, any":function(e,t){return i(e,t,bu,!1)},"any, DenseMatrix":function(e,t){return i(t,e,bu,!0)},"Array, any":function(e,t){return i(n(e),t,bu,!1).valueOf()},"any, Array":function(e,t){return i(n(t),e,bu,!0).valueOf()}})})),hf=Bu("equal",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=Bl({typed:t}),s=bh({typed:t,DenseMatrix:i}),a=Vl({typed:t,DenseMatrix:i}),u=Ol({typed:t}),c=Il({typed:t});return t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,r)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,r,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,r,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,r)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,r,!1)},"DenseMatrix, any":function(e,t){return c(e,t,r,!1)},"any, SparseMatrix":function(e,t){return a(t,e,r,!0)},"any, DenseMatrix":function(e,t){return c(t,e,r,!0)},"Array, any":function(e,t){return c(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,r,!0).valueOf()}})})),df=(Bu("equal",["typed","equalScalar"],(function(e){var t=e.equalScalar;return(0,e.typed)("equal",{"any, any":function(e,n){return null===e?null===n:null===n?null===e:void 0===e?void 0===n:void 0===n?void 0===e:t(e,n)}})})),Bu("equalText",["typed","compareText","isZero"],(function(e){var t=e.compareText,n=e.isZero;return(0,e.typed)("equalText",{"any, any":function(e,r){return n(t(e,r))}})}))),ff=Bu("smaller",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=Bl({typed:t}),s=bh({typed:t,DenseMatrix:i}),a=Vl({typed:t,DenseMatrix:i}),u=Ol({typed:t}),c=Il({typed:t});return t("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!su(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!Pc(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return a(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return a(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),pf=Bu("smallerEq",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=Bl({typed:t}),s=bh({typed:t,DenseMatrix:i}),a=Vl({typed:t,DenseMatrix:i}),u=Ol({typed:t}),c=Il({typed:t});return t("smallerEq",{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||su(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||Pc(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return a(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return a(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),mf=Bu("larger",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=Bl({typed:t}),s=bh({typed:t,DenseMatrix:i}),a=Vl({typed:t,DenseMatrix:i}),u=Ol({typed:t}),c=Il({typed:t});return t("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!su(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!Pc(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return a(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return a(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),gf=Bu("largerEq",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=Bl({typed:t}),s=bh({typed:t,DenseMatrix:i}),a=Vl({typed:t,DenseMatrix:i}),u=Ol({typed:t}),c=Il({typed:t});return t("largerEq",{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,t){return e>=t||su(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||Pc(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return a(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return a(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),yf=Bu("deepEqual",["typed","equal"],(function(e){var t=e.equal;return(0,e.typed)("deepEqual",{"any, any":function(e,n){return function e(n,r){if(Array.isArray(n)){if(Array.isArray(r)){var i=n.length;if(i!==r.length)return!1;for(var o=0;o<i;o++)if(!e(n[o],r[o]))return!1;return!0}return!1}return!Array.isArray(r)&&t(n,r)}(e.valueOf(),n.valueOf())}})})),vf=Bu("unequal",["typed","config","equalScalar","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.equalScalar,r=e.matrix,i=e.DenseMatrix,o=Bl({typed:t}),s=bh({typed:t,DenseMatrix:i}),a=Vl({typed:t,DenseMatrix:i}),u=Ol({typed:t}),c=Il({typed:t});return t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:l(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return a(e,t,l,!1)},"DenseMatrix, any":function(e,t){return c(e,t,l,!1)},"any, SparseMatrix":function(e,t){return a(t,e,l,!0)},"any, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, any":function(e,t){return c(r(e),t,l,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,l,!0).valueOf()}});function l(e,t){return!n(e,t)}})),bf=(Bu("unequal",["typed","equalScalar"],(function(e){var t=e.equalScalar;return(0,e.typed)("unequal",{"any, any":function(e,n){return null===e?null!==n:null===n?null!==e:void 0===e?void 0!==n:void 0===n?void 0!==e:!t(e,n)}})})),Bu("partitionSelect",["typed","isNumeric","isNaN","compare"],(function(e){var t=e.isNumeric,n=e.isNaN,r=e.compare,i=r,o=function(e,t){return-r(e,t)};return(0,e.typed)("partitionSelect",{"Array | Matrix, number":function(e,t){return s(e,t,i)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return s(e,t,i);if("desc"===n)return s(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(e,t,n){if(!Wa(t)||t<0)throw new Error("k must be a non-negative integer");if(ia(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return a(e.valueOf(),t,n)}if(Array.isArray(e))return a(e,t,n)}function a(e,r,i){if(r>=e.length)throw new Error("k out of bounds");for(var o=0;o<e.length;o++)if(t(e[o])&&n(e[o]))return e[o];for(var s=0,a=e.length-1;s<a;){for(var u=s,c=a,l=e[Math.floor(Math.random()*(a-s+1))+s];u<c;)if(i(e[u],l)>=0){var h=e[c];e[c]=e[u],e[u]=h,--c}else++u;i(e[u],l)>0&&--u,r<=u?a=u:s=u+1}return e[r]}}))),wf=Bu("sort",["typed","matrix","compare","compareNatural"],(function(e){var t=e.matrix,n=e.compare,r=e.compareNatural,i=n,o=function(e,t){return-n(e,t)};return(0,e.typed)("sort",{Array:function(e){return a(e),e.sort(i)},Matrix:function(e){return u(e),t(e.toArray().sort(i),e.storage())},"Array, function":function(e,t){return a(e),e.sort(t)},"Matrix, function":function(e,n){return u(e),t(e.toArray().sort(n),e.storage())},"Array, string":function(e,t){return a(e),e.sort(s(t))},"Matrix, string":function(e,n){return u(e),t(e.toArray().sort(s(n)),e.storage())}});function s(e){if("asc"===e)return i;if("desc"===e)return o;if("natural"===e)return r;throw new Error('String "asc", "desc", or "natural" expected')}function a(e){if(1!==xu(e).length)throw new Error("One dimensional array expected")}function u(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}})),_f=Bu("max",["typed","config","numeric","larger"],(function(e){var t=e.config,n=e.numeric,r=e.larger;return(0,e.typed)("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return wc(e,t.valueOf(),i)},"...":function(e){if(yc(e))throw new TypeError("Scalar values expected in function max");return o(e)}});function i(e,t){try{return r(e,t)?e:t}catch(n){throw Od(n,"max",t)}}function o(e){var i;if(vc(e,(function(e){try{isNaN(e)&&"number"==typeof e?i=NaN:(void 0===i||r(e,i))&&(i=e)}catch(t){throw Od(t,"max",e)}})),void 0===i)throw new Error("Cannot calculate max of an empty array");return"string"==typeof i&&(i=n(i,t.number)),i}})),xf=Bu("min",["typed","config","numeric","smaller"],(function(e){var t=e.config,n=e.numeric,r=e.smaller;return(0,e.typed)("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return wc(e,t.valueOf(),i)},"...":function(e){if(yc(e))throw new TypeError("Scalar values expected in function min");return o(e)}});function i(e,t){try{return r(e,t)?e:t}catch(n){throw Od(n,"min",t)}}function o(e){var i;if(vc(e,(function(e){try{isNaN(e)&&"number"==typeof e?i=NaN:(void 0===i||r(e,i))&&(i=e)}catch(t){throw Od(t,"min",e)}})),void 0===i)throw new Error("Cannot calculate min of an empty array");return"string"==typeof i&&(i=n(i,t.number)),i}})),Ef=Bu("ImmutableDenseMatrix",["smaller","DenseMatrix"],(function(e){var t=e.smaller,n=e.DenseMatrix;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!na(t))throw new Error("Invalid datatype: "+t);if(ia(e)||ra(e)){var i=new n(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&ra(e.data)&&ra(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+Pa(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return(r.prototype=new n).type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(e){switch(arguments.length){case 1:var t=n.prototype.subset.call(this,e);return ia(t)?new r({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:ja(this._data),size:ja(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var e=null;this.forEach((function(n){(null===e||t(n,e))&&(e=n)})),this._min=null!==e?e:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var e=null;this.forEach((function(n){(null===e||t(e,n))&&(e=n)})),this._max=null!==e?e:void 0}return this._max},r}),{isClass:!0}),Cf=Bu("Index",["ImmutableDenseMatrix"],(function(e){var t=e.ImmutableDenseMatrix;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var o=arguments[t];if(ua(o))this._dimensions.push(o),this._isScalar=!1;else if(Array.isArray(o)||ia(o)){var s=r(o.valueOf());this._dimensions.push(s);var a=s.size();1===a.length&&1===a[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(r([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function r(e){for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!Wa(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var e=new n;return e._dimensions=ja(this._dimensions),e._isScalar=this._isScalar,e},n.create=function(e){var t=new n;return n.apply(t,e),t},n.prototype.size=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"==typeof r?1:r.size()[0]}return e},n.prototype.max=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"==typeof r?r:r.max()}return e},n.prototype.min=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"==typeof r?r:r.min()}return e},n.prototype.forEach=function(e){for(var t=0,n=this._dimensions.length;t<n;t++)e(this._dimensions[t],t,this)},n.prototype.dimension=function(e){return this._dimensions[e]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.valueOf=n.prototype.toArray=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e.push("string"==typeof r?r:r.toArray())}return e},n.prototype.toString=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e.push("string"==typeof r?JSON.stringify(r):r.toString())}return"["+e.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(e){return n.create(e.dimensions)},n}),{isClass:!0}),Sf=Bu("FibonacciHeap",["smaller","larger"],(function(e){var t=e.smaller,n=e.larger,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child===t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,n){var r={key:e,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,t(e,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,o=e.degree,a=e.child;o>0;){var u=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=u,o--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var o,a=Math.floor(Math.log(i)*r)+1,u=new Array(a),c=0,l=e;if(l)for(c++,l=l.right;l!==e;)c++,l=l.right;for(;c>0;){for(var h=l.degree,d=l.right;o=u[h];){if(n(l.key,o.key)){var f=o;o=l,l=f}s(o,l),u[h]=null,h++}u[h]=l,l=d,c--}e=null;for(var p=0;p<a;p++)(o=u[p])&&(e?(o.left.right=o.right,o.right.left=o.left,o.left=e,o.right=e.right,e.right=o,o.right.left=o,t(o.key,e.key)&&(e=o)):e=o);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){this._minimum=function(e,n,r){n.key=-1;var i=n.parent;return i&&t(n.key,i.key)&&(o(e,n,i),function e(t,n){var r=n.parent;r&&(n.mark?(o(t,n,r),e(r)):n.mark=!0)}(e,i)),t(n.key,e.key)&&(e=n),e}(this._minimum,e),this.extractMinimum()};var s=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i}),{isClass:!0}),Nf=Bu("Spa",["addScalar","equalScalar","FibonacciHeap"],(function(e){var t=e.addScalar,n=e.equalScalar,r=e.FibonacciHeap;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,n){var r=this._values[e];r?r.value=t(r.value,n):(r=this._heap.insert(e,n),this._values[e]=r)},i.prototype.forEach=function(e,t,r){var i=this._heap,o=this._values,s=[],a=i.extractMinimum();for(a&&s.push(a);a&&a.key<=t;)a.key>=e&&(n(a.value,0)||r(a.key,a.value,this)),(a=i.extractMinimum())&&s.push(a);for(var u=0;u<s.length;u++){var c=s[u];o[(a=i.insert(c.key,c.value)).key]=a}},i.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}),{isClass:!0}),Af=Lh((function(e){return new e(1).exp()}),If),Tf=Lh((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),If),Df=Lh((function(e){return e.acos(-1)}),If),Of=Lh((function(e){return Df(e).times(2)}),If);function If(e){return e[0].precision}function Mf(e){return(Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rf(){return(Rf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kf(Object(n),!0).forEach((function(t){Ff(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ff(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jf=Bu("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(function(e){var t,n,r,i=e.on,o=e.config,s=e.addScalar,a=e.subtract,u=e.multiplyScalar,c=e.divideScalar,l=e.pow,h=e.abs,d=e.fix,f=e.round,p=e.equal,m=e.isNumeric,g=e.format,y=e.Complex,v=e.BigNumber,b=e.Fraction,w=e.number;function _(e,t){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=e&&!m(e)&&!Xs(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var n=_.parse(t);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:P,prefix:I.NONE,power:0}],this.dimensions=[];for(var r=0;r<M.length;r++)this.dimensions[r]=0}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function x(){for(;" "===r||"\t"===r;)C()}function E(e){return e>="0"&&e<="9"}function C(){n++,r=t.charAt(n)}function S(e){r=t.charAt(n=e)}function N(){var e="",t=n;if("+"===r?C():"-"===r&&(e+=r,C()),!function(e){return e>="0"&&e<="9"||"."===e}(r))return S(t),null;if("."===r){if(e+=r,C(),!E(r))return S(t),null}else{for(;E(r);)e+=r,C();"."===r&&(e+=r,C())}for(;E(r);)e+=r,C();if("E"===r||"e"===r){var i="",o=n;if(i+=r,C(),"+"!==r&&"-"!==r||(i+=r,C()),!E(r))return S(o),e;for(e+=i;E(r);)e+=r,C()}return e}function A(){for(var e="",i=t.charCodeAt(n);i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122;)e+=r,C(),i=t.charCodeAt(n);return((i=e.charCodeAt(0))>=65&&i<=90||i>=97&&i<=122)&&e||null}function T(e){return r===e?(C(),e):null}function D(e){if(qa(F,e)){var t=F[e];return{unit:t,prefix:t.prefixes[""]}}for(var n in F)if(qa(F,n)&&mu(e,n)){var r=F[n],i=e.substring(0,e.length-n.length),o=qa(r.prefixes,i)?r.prefixes[i]:void 0;if(void 0!==o)return{unit:r,prefix:o}}return null}function O(e){return e.equalBase(R.NONE)&&null!==e.value&&!o.predictable?e.value:e}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(e,i){if(i=i||{},n=-1,r="","string"!=typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var s=new _;s.units=[];var a=1,u=!1;C(),x();var c=N(),l=null;if(c){if("BigNumber"===o.number)l=new v(c);else if("Fraction"===o.number)try{l=new b(c)}catch(E){l=parseFloat(c)}else l=parseFloat(c);x(),T("*")?(a=1,u=!0):T("/")&&(a=-1,u=!0)}for(var h=[],d=1;;){for(x();"("===r;)h.push(a),d*=a,a=1,C(),x();var f;if(!r)break;var p=r;if(null===(f=A()))throw new SyntaxError('Unexpected "'+p+'" in "'+t+'" at index '+n.toString());var m=D(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var g=a*d;if(x(),T("^")){x();var y=N();if(null===y)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=y}s.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var w=0;w<M.length;w++)s.dimensions[w]+=(m.unit.dimensions[w]||0)*g;for(x();")"===r;){if(0===h.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());d/=h.pop(),C(),x()}u=!1,T("*")?(a=1,u=!0):T("/")?(a=-1,u=!0):a=1,m.unit.base&&(B.auto[m.unit.base.key]={unit:m.unit,prefix:m.prefix})}if(x(),r)throw new SyntaxError('Could not parse: "'+e+'"');if(u)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==h.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===s.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return s.value=void 0!==l?s._normalize(l):null,s},_.prototype.clone=function(){var e=new _;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=ja(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var n in e.units[t]={},this.units[t])qa(this.units[t],n)&&(e.units[t][n]=this.units[t][n]);return e},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(e){var t,n,r,i,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var a=e;o=_._getNumberConverter(Pa(e));for(var c=0;c<this.units.length;c++)t=o(this.units[c].unit.value),i=o(this.units[c].prefix.value),r=o(this.units[c].power),a=u(a,l(u(t,i),r));return a}return t=(o=_._getNumberConverter(Pa(e)))(this.units[0].unit.value),n=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),u(s(e,n),u(t,i))},_.prototype._denormalize=function(e,t){var n,r,i,o,s;if(null==e||0===this.units.length)return e;if(this._isDerived()){var h=e;s=_._getNumberConverter(Pa(e));for(var d=0;d<this.units.length;d++)n=s(this.units[d].unit.value),o=s(this.units[d].prefix.value),i=s(this.units[d].power),h=c(h,l(u(n,o),i));return h}return n=(s=_._getNumberConverter(Pa(e)))(this.units[0].unit.value),o=s(this.units[0].prefix.value),r=s(this.units[0].unit.offset),a(c(c(e,n),null==t?o:t),r)},_.isValuelessUnit=function(e){return null!==D(e)},_.prototype.hasBase=function(e){if("string"==typeof e&&(e=R[e]),!e)return!1;for(var t=0;t<M.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equalBase=function(e){for(var t=0;t<M.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equals=function(e){return this.equalBase(e)&&p(this.value,e.value)},_.prototype.multiply=function(e){for(var t=this.clone(),n=0;n<M.length;n++)t.dimensions[n]=(this.dimensions[n]||0)+(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i=Pf({},e.units[r]);t.units.push(i)}if(null!==this.value||null!==e.value){var o=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=u(o,s)}else t.value=null;return t.skipAutomaticSimplification=!1,O(t)},_.prototype.divide=function(e){for(var t=this.clone(),n=0;n<M.length;n++)t.dimensions[n]=(this.dimensions[n]||0)-(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i=Pf(Pf({},e.units[r]),{},{power:-e.units[r].power});t.units.push(i)}if(null!==this.value||null!==e.value){var o=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=c(o,s)}else t.value=null;return t.skipAutomaticSimplification=!1,O(t)},_.prototype.pow=function(e){for(var t=this.clone(),n=0;n<M.length;n++)t.dimensions[n]=(this.dimensions[n]||0)*e;for(var r=0;r<t.units.length;r++)t.units[r].power*=e;return t.value=null!==t.value?l(t.value,e):null,t.skipAutomaticSimplification=!1,O(t)},_.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?h(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=F.W);return e},_.prototype.to=function(e){var t,n=null===this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=_.parse(e),!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=ja(n),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}if(ta(e)){if(!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=ja(n),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(e){return w(this.toNumeric(e))},_.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(e){var t=new _(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var e,t,n=this.clone(),r=[];for(var i in U)if(qa(U,i)&&n.hasBase(R[i])){e=i;break}if("NONE"===e)n.units=[];else if(e&&qa(U,e)&&(t=U[e]),t)n.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var o=!1,s=0;s<M.length;s++){var a=M[s];Math.abs(n.dimensions[s]||0)>1e-12&&(qa(U,a)?r.push({unit:U[a].unit,prefix:U[a].prefix,power:n.dimensions[s]||0}):o=!0)}r.length<n.units.length&&!o&&(n.units=r)}return n},_.prototype.toSI=function(){for(var e=this.clone(),t=[],n=0;n<M.length;n++){var r=M[n];if(Math.abs(e.dimensions[n]||0)>1e-12){if(!qa(B.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");t.push({unit:B.si[r].unit,prefix:B.si[r].prefix,power:e.dimensions[n]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},_.prototype.formatUnits=function(){for(var e="",t="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var o=0;o<this.units.length;o++)this.units[o].power<0&&(n>0?(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,Math.abs(this.units[o].power+1)>1e-15&&(t+="^"+-this.units[o].power)):(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,t+="^"+this.units[o].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var s=e;return n>0&&r>0&&(s+=" / "),s+t},_.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in null!=t.value&&Xs(t.value)&&(n=Math.abs(t.value.re)<1e-14),t.units)qa(t.units,r)&&t.units[r].unit&&("VA"===t.units[r].unit.name&&n?t.units[r].unit=F.VAR:"VAR"!==t.units[r].unit.name||n||(t.units[r].unit=F.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),o=null!==t.value?g(i,e||{}):"",s=t.formatUnits();return t.value&&Xs(t.value)&&(o="("+o+")"),s.length>0&&o.length>0&&(o+=" "),o+s},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?h(this.value):0,t=h(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var r=this.units[0].power,i=Math.log(e/Math.pow(n.value*t,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var s in o)if(qa(o,s)){var a=o[s];if(a.scientific){var u=Math.abs(Math.log(e/Math.pow(a.value*t,r))/Math.LN10-1.2);(u<i||u===i&&a.name.length<n.name.length)&&(n=a,i=u)}}return n},_.prototype.splitUnit=function(e){for(var t=this.clone(),n=[],r=0;r<e.length&&(t=t.to(e[r]),r!==e.length-1);r++){var i=t.toNumeric(),o=f(i),u=new _(p(o,i)?o:d(t.toNumeric()),e[r].toString());n.push(u),t=a(t,u)}for(var c=0,l=0;l<n.length;l++)c=s(c,n[l].value);return p(c,this.value)&&(t.value=0),n.push(t),n};var I={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};I.SHORTLONG=Rf({},I.SHORT,I.LONG),I.BINARY_SHORT=Rf({},I.BINARY_SHORT_SI,I.BINARY_SHORT_IEC),I.BINARY_LONG=Rf({},I.BINARY_LONG_SI,I.BINARY_LONG_IEC);var M=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],R={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var k in R)qa(R,k)&&(R[k].key=k);var P={name:"",base:{},value:1,offset:0,dimensions:M.map((function(e){return 0}))},F={meter:{name:"meter",base:R.LENGTH,prefixes:I.LONG,value:1,offset:0},inch:{name:"inch",base:R.LENGTH,prefixes:I.NONE,value:.0254,offset:0},foot:{name:"foot",base:R.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yard:{name:"yard",base:R.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mile:{name:"mile",base:R.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},link:{name:"link",base:R.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rod:{name:"rod",base:R.LENGTH,prefixes:I.NONE,value:5.0292,offset:0},chain:{name:"chain",base:R.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:R.LENGTH,prefixes:I.NONE,value:1e-10,offset:0},m:{name:"m",base:R.LENGTH,prefixes:I.SHORT,value:1,offset:0},in:{name:"in",base:R.LENGTH,prefixes:I.NONE,value:.0254,offset:0},ft:{name:"ft",base:R.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yd:{name:"yd",base:R.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mi:{name:"mi",base:R.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},li:{name:"li",base:R.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rd:{name:"rd",base:R.LENGTH,prefixes:I.NONE,value:5.02921,offset:0},ch:{name:"ch",base:R.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},mil:{name:"mil",base:R.LENGTH,prefixes:I.NONE,value:254e-7,offset:0},m2:{name:"m2",base:R.SURFACE,prefixes:I.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:R.SURFACE,prefixes:I.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:R.SURFACE,prefixes:I.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:R.SURFACE,prefixes:I.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:R.SURFACE,prefixes:I.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:R.SURFACE,prefixes:I.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:R.SURFACE,prefixes:I.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:R.SURFACE,prefixes:I.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:R.SURFACE,prefixes:I.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:R.SURFACE,prefixes:I.NONE,value:1e4,offset:0},m3:{name:"m3",base:R.VOLUME,prefixes:I.CUBIC,value:1,offset:0},L:{name:"L",base:R.VOLUME,prefixes:I.SHORT,value:.001,offset:0},l:{name:"l",base:R.VOLUME,prefixes:I.SHORT,value:.001,offset:0},litre:{name:"litre",base:R.VOLUME,prefixes:I.LONG,value:.001,offset:0},cuin:{name:"cuin",base:R.VOLUME,prefixes:I.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:R.VOLUME,prefixes:I.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:R.VOLUME,prefixes:I.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:R.VOLUME,prefixes:I.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:R.VOLUME,prefixes:I.NONE,value:15e-6,offset:0},drop:{name:"drop",base:R.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:R.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},minim:{name:"minim",base:R.VOLUME,prefixes:I.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:R.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:R.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:R.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:R.VOLUME,prefixes:I.NONE,value:1e-6,offset:0},cup:{name:"cup",base:R.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:R.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:R.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:R.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:R.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:R.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:R.VOLUME,prefixes:I.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:R.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:R.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:R.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:R.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:R.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:R.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:R.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:R.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},obl:{name:"obl",base:R.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},g:{name:"g",base:R.MASS,prefixes:I.SHORT,value:.001,offset:0},gram:{name:"gram",base:R.MASS,prefixes:I.LONG,value:.001,offset:0},ton:{name:"ton",base:R.MASS,prefixes:I.SHORT,value:907.18474,offset:0},t:{name:"t",base:R.MASS,prefixes:I.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:R.MASS,prefixes:I.LONG,value:1e3,offset:0},grain:{name:"grain",base:R.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:R.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:R.MASS,prefixes:I.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:R.MASS,prefixes:I.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:R.MASS,prefixes:I.NONE,value:45.359237,offset:0},stick:{name:"stick",base:R.MASS,prefixes:I.NONE,value:.115,offset:0},stone:{name:"stone",base:R.MASS,prefixes:I.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:R.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:R.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:R.MASS,prefixes:I.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:R.MASS,prefixes:I.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:R.MASS,prefixes:I.NONE,value:45.359237,offset:0},s:{name:"s",base:R.TIME,prefixes:I.SHORT,value:1,offset:0},min:{name:"min",base:R.TIME,prefixes:I.NONE,value:60,offset:0},h:{name:"h",base:R.TIME,prefixes:I.NONE,value:3600,offset:0},second:{name:"second",base:R.TIME,prefixes:I.LONG,value:1,offset:0},sec:{name:"sec",base:R.TIME,prefixes:I.LONG,value:1,offset:0},minute:{name:"minute",base:R.TIME,prefixes:I.NONE,value:60,offset:0},hour:{name:"hour",base:R.TIME,prefixes:I.NONE,value:3600,offset:0},day:{name:"day",base:R.TIME,prefixes:I.NONE,value:86400,offset:0},week:{name:"week",base:R.TIME,prefixes:I.NONE,value:604800,offset:0},month:{name:"month",base:R.TIME,prefixes:I.NONE,value:2629800,offset:0},year:{name:"year",base:R.TIME,prefixes:I.NONE,value:31557600,offset:0},decade:{name:"decade",base:R.TIME,prefixes:I.NONE,value:315576e3,offset:0},century:{name:"century",base:R.TIME,prefixes:I.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:R.TIME,prefixes:I.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:R.FREQUENCY,prefixes:I.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:R.FREQUENCY,prefixes:I.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:R.ANGLE,prefixes:I.SHORT,value:1,offset:0},radian:{name:"radian",base:R.ANGLE,prefixes:I.LONG,value:1,offset:0},deg:{name:"deg",base:R.ANGLE,prefixes:I.SHORT,value:null,offset:0},degree:{name:"degree",base:R.ANGLE,prefixes:I.LONG,value:null,offset:0},grad:{name:"grad",base:R.ANGLE,prefixes:I.SHORT,value:null,offset:0},gradian:{name:"gradian",base:R.ANGLE,prefixes:I.LONG,value:null,offset:0},cycle:{name:"cycle",base:R.ANGLE,prefixes:I.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:R.ANGLE,prefixes:I.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:R.ANGLE,prefixes:I.NONE,value:null,offset:0},A:{name:"A",base:R.CURRENT,prefixes:I.SHORT,value:1,offset:0},ampere:{name:"ampere",base:R.CURRENT,prefixes:I.LONG,value:1,offset:0},K:{name:"K",base:R.TEMPERATURE,prefixes:I.NONE,value:1,offset:0},degC:{name:"degC",base:R.TEMPERATURE,prefixes:I.NONE,value:1,offset:273.15},degF:{name:"degF",base:R.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:R.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:R.TEMPERATURE,prefixes:I.NONE,value:1,offset:0},celsius:{name:"celsius",base:R.TEMPERATURE,prefixes:I.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:R.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:R.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:R.AMOUNT_OF_SUBSTANCE,prefixes:I.SHORT,value:1,offset:0},mole:{name:"mole",base:R.AMOUNT_OF_SUBSTANCE,prefixes:I.LONG,value:1,offset:0},cd:{name:"cd",base:R.LUMINOUS_INTENSITY,prefixes:I.SHORT,value:1,offset:0},candela:{name:"candela",base:R.LUMINOUS_INTENSITY,prefixes:I.LONG,value:1,offset:0},N:{name:"N",base:R.FORCE,prefixes:I.SHORT,value:1,offset:0},newton:{name:"newton",base:R.FORCE,prefixes:I.LONG,value:1,offset:0},dyn:{name:"dyn",base:R.FORCE,prefixes:I.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:R.FORCE,prefixes:I.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:R.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:R.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:R.FORCE,prefixes:I.LONG,value:4448.2216,offset:0},J:{name:"J",base:R.ENERGY,prefixes:I.SHORT,value:1,offset:0},joule:{name:"joule",base:R.ENERGY,prefixes:I.SHORT,value:1,offset:0},erg:{name:"erg",base:R.ENERGY,prefixes:I.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:R.ENERGY,prefixes:I.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:R.ENERGY,prefixes:I.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:R.ENERGY,prefixes:I.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:R.ENERGY,prefixes:I.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:R.POWER,prefixes:I.SHORT,value:1,offset:0},watt:{name:"watt",base:R.POWER,prefixes:I.LONG,value:1,offset:0},hp:{name:"hp",base:R.POWER,prefixes:I.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:R.POWER,prefixes:I.SHORT,value:y.I,offset:0},VA:{name:"VA",base:R.POWER,prefixes:I.SHORT,value:1,offset:0},Pa:{name:"Pa",base:R.PRESSURE,prefixes:I.SHORT,value:1,offset:0},psi:{name:"psi",base:R.PRESSURE,prefixes:I.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:R.PRESSURE,prefixes:I.NONE,value:101325,offset:0},bar:{name:"bar",base:R.PRESSURE,prefixes:I.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:R.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:R.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:R.PRESSURE,prefixes:I.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:R.PRESSURE,prefixes:I.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:R.ELECTRIC_CHARGE,prefixes:I.LONG,value:1,offset:0},C:{name:"C",base:R.ELECTRIC_CHARGE,prefixes:I.SHORT,value:1,offset:0},farad:{name:"farad",base:R.ELECTRIC_CAPACITANCE,prefixes:I.LONG,value:1,offset:0},F:{name:"F",base:R.ELECTRIC_CAPACITANCE,prefixes:I.SHORT,value:1,offset:0},volt:{name:"volt",base:R.ELECTRIC_POTENTIAL,prefixes:I.LONG,value:1,offset:0},V:{name:"V",base:R.ELECTRIC_POTENTIAL,prefixes:I.SHORT,value:1,offset:0},ohm:{name:"ohm",base:R.ELECTRIC_RESISTANCE,prefixes:I.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:R.ELECTRIC_INDUCTANCE,prefixes:I.LONG,value:1,offset:0},H:{name:"H",base:R.ELECTRIC_INDUCTANCE,prefixes:I.SHORT,value:1,offset:0},siemens:{name:"siemens",base:R.ELECTRIC_CONDUCTANCE,prefixes:I.LONG,value:1,offset:0},S:{name:"S",base:R.ELECTRIC_CONDUCTANCE,prefixes:I.SHORT,value:1,offset:0},weber:{name:"weber",base:R.MAGNETIC_FLUX,prefixes:I.LONG,value:1,offset:0},Wb:{name:"Wb",base:R.MAGNETIC_FLUX,prefixes:I.SHORT,value:1,offset:0},tesla:{name:"tesla",base:R.MAGNETIC_FLUX_DENSITY,prefixes:I.LONG,value:1,offset:0},T:{name:"T",base:R.MAGNETIC_FLUX_DENSITY,prefixes:I.SHORT,value:1,offset:0},b:{name:"b",base:R.BIT,prefixes:I.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:R.BIT,prefixes:I.BINARY_LONG,value:1,offset:0},B:{name:"B",base:R.BIT,prefixes:I.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:R.BIT,prefixes:I.BINARY_LONG,value:8,offset:0}},j={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function L(e){if("BigNumber"===e.number){var t=Df(v);F.rad.value=new v(1),F.deg.value=t.div(180),F.grad.value=t.div(200),F.cycle.value=t.times(2),F.arcsec.value=t.div(648e3),F.arcmin.value=t.div(10800)}else F.rad.value=1,F.deg.value=Math.PI/180,F.grad.value=Math.PI/200,F.cycle.value=2*Math.PI,F.arcsec.value=Math.PI/648e3,F.arcmin.value=Math.PI/10800;F.radian.value=F.rad.value,F.degree.value=F.deg.value,F.gradian.value=F.grad.value}L(o),i&&i("config",(function(e,t){e.number!==t.number&&L(e)}));var B={si:{NONE:{unit:P,prefix:I.NONE[""]},LENGTH:{unit:F.m,prefix:I.SHORT[""]},MASS:{unit:F.g,prefix:I.SHORT.k},TIME:{unit:F.s,prefix:I.SHORT[""]},CURRENT:{unit:F.A,prefix:I.SHORT[""]},TEMPERATURE:{unit:F.K,prefix:I.SHORT[""]},LUMINOUS_INTENSITY:{unit:F.cd,prefix:I.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:F.mol,prefix:I.SHORT[""]},ANGLE:{unit:F.rad,prefix:I.SHORT[""]},BIT:{unit:F.bits,prefix:I.SHORT[""]},FORCE:{unit:F.N,prefix:I.SHORT[""]},ENERGY:{unit:F.J,prefix:I.SHORT[""]},POWER:{unit:F.W,prefix:I.SHORT[""]},PRESSURE:{unit:F.Pa,prefix:I.SHORT[""]},ELECTRIC_CHARGE:{unit:F.C,prefix:I.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:F.F,prefix:I.SHORT[""]},ELECTRIC_POTENTIAL:{unit:F.V,prefix:I.SHORT[""]},ELECTRIC_RESISTANCE:{unit:F.ohm,prefix:I.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:F.H,prefix:I.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:F.S,prefix:I.SHORT[""]},MAGNETIC_FLUX:{unit:F.Wb,prefix:I.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:F.T,prefix:I.SHORT[""]},FREQUENCY:{unit:F.Hz,prefix:I.SHORT[""]}}};B.cgs=JSON.parse(JSON.stringify(B.si)),B.cgs.LENGTH={unit:F.m,prefix:I.SHORT.c},B.cgs.MASS={unit:F.g,prefix:I.SHORT[""]},B.cgs.FORCE={unit:F.dyn,prefix:I.SHORT[""]},B.cgs.ENERGY={unit:F.erg,prefix:I.NONE[""]},B.us=JSON.parse(JSON.stringify(B.si)),B.us.LENGTH={unit:F.ft,prefix:I.NONE[""]},B.us.MASS={unit:F.lbm,prefix:I.NONE[""]},B.us.TEMPERATURE={unit:F.degF,prefix:I.NONE[""]},B.us.FORCE={unit:F.lbf,prefix:I.NONE[""]},B.us.ENERGY={unit:F.BTU,prefix:I.BTU[""]},B.us.POWER={unit:F.hp,prefix:I.NONE[""]},B.us.PRESSURE={unit:F.psi,prefix:I.NONE[""]},B.auto=JSON.parse(JSON.stringify(B.si));var U=B.auto;for(var V in _.setUnitSystem=function(e){if(!qa(B,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(B).join(", "));U=B[e]},_.getUnitSystem=function(){for(var e in B)if(qa(B,e)&&B[e]===U)return e},_.typeConverters={BigNumber:function(e){return new v(e+"")},Fraction:function(e){return new b(e)},Complex:function(e){return e},number:function(e){return e}},_._getNumberConverter=function(e){if(!_.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return _.typeConverters[e]},F)if(qa(F,V)){var q=F[V];q.dimensions=q.base.dimensions}for(var z in j)if(qa(j,z)){var H=F[j[z]],$={};for(var W in H)qa(H,W)&&($[W]=H[W]);$.name=z,F[z]=$}return _.createUnit=function(e,t){if("object"!==Mf(e))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var n in e)if(qa(e,n)&&_.deleteUnit(n),e[n].aliases)for(var r=0;r<e[n].aliases.length;r++)_.deleteUnit(e[n].aliases[r]);var i;for(var o in e)qa(e,o)&&(i=_.createUnitSingle(o,e[o]));return i},_.createUnitSingle=function(e,t,n){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(qa(F,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!r(n))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!r(n)&&!function(e){return e>="0"&&e<="9"}(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var r,i,o,s=null,a=[],u=0;if(t&&"Unit"===t.type)s=t.clone();else if("string"==typeof t)""!==t&&(r=t);else{if("object"!==Mf(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');r=t.definition,i=t.prefixes,u=t.offset,o=t.baseName,t.aliases&&(a=t.aliases.valueOf())}if(a)for(var c=0;c<a.length;c++)if(qa(F,a[c]))throw new Error('Cannot create alias "'+a[c]+'": a unit with that name already exists');if(r&&"string"==typeof r&&!s)try{s=_.parse(r,{allowNoUnits:!0})}catch(C){throw C.message='Could not create unit "'+e+'" from "'+r+'": '+C.message,C}else r&&"Unit"===r.type&&(s=r.clone());a=a||[],u=u||0,i=i&&i.toUpperCase&&I[i.toUpperCase()]||I.NONE;var l={};if(s){l={name:e,value:s.value,dimensions:s.dimensions.slice(0),prefixes:i,offset:u};var h=!1;for(var d in R)if(qa(R,d)){for(var f=!0,p=0;p<M.length;p++)if(Math.abs((l.dimensions[p]||0)-(R[d].dimensions[p]||0))>1e-12){f=!1;break}if(f){h=!0,l.base=R[d];break}}if(!h){o=o||e+"_STUFF";var m={dimensions:s.dimensions.slice(0)};m.key=o,R[o]=m,U[o]={unit:l,prefix:I.NONE[""]},l.base=R[o]}}else{if(M.indexOf(o=o||e+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var g in M.push(o),R)qa(R,g)&&(R[g].dimensions[M.length-1]=0);for(var y={dimensions:[]},v=0;v<M.length;v++)y.dimensions[v]=0;y.dimensions[M.length-1]=1,y.key=o,R[o]=y,l={name:e,value:1,dimensions:R[o].dimensions.slice(0),prefixes:i,offset:u,base:R[o]},U[o]={unit:l,prefix:I.NONE[""]}}_.UNITS[e]=l;for(var b=0;b<a.length;b++){var w=a[b],x={};for(var E in l)qa(l,E)&&(x[E]=l[E]);x.name=w,_.UNITS[w]=x}return new _(null,e)},_.deleteUnit=function(e){delete _.UNITS[e]},_.PREFIXES=I,_.BASE_DIMENSIONS=M,_.BASE_UNITS=R,_.UNIT_SYSTEMS=B,_.UNITS=F,_}),{isClass:!0}),Lf=Bu("unit",["typed","Unit"],(function(e){var t=e.Unit;return(0,e.typed)("unit",{Unit:function(e){return e.clone()},string:function(e){return t.isValuelessUnit(e)?new t(null,e):t.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(e,n){return new t(e,n)},"Array | Matrix":function(e){return bc(e,this)}})})),Bf=Bu("sparse",["typed","SparseMatrix"],(function(e){var t=e.SparseMatrix;return(0,e.typed)("sparse",{"":function(){return new t([])},string:function(e){return new t([],e)},"Array | Matrix":function(e){return new t(e)},"Array | Matrix, string":function(e,n){return new t(e,n)}})})),Uf=Bu("createUnit",["typed","Unit"],(function(e){var t=e.Unit;return(0,e.typed)("createUnit",{"Object, Object":function(e,n){return t.createUnit(e,n)},Object:function(e){return t.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,n,r){var i={};return i[e]=n,t.createUnit(i,r)},"string, Unit | string | Object":function(e,n){var r={};return r[e]=n,t.createUnit(r,{})},string:function(e){var n={};return n[e]={},t.createUnit(n,{})}})})),Vf=Bu("acos",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex;return(0,e.typed)("acos",{number:function(e){return e>=-1&&e<=1||t.predictable?Math.acos(e):new n(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return bc(e,this)}})}));function qf(e){return au(e)}function zf(e){return Math.atan(1/e)}function Hf(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function $f(e){return Math.asin(1/e)}function Wf(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function Qf(e){return Math.acos(1/e)}function Gf(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function Kf(e){return uu(e)}function Zf(e){return cu(e)}function Yf(e){return 1/Math.tan(e)}function Jf(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function Xf(e){return 1/Math.sin(e)}function ep(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*Qa(e)}function tp(e){return 1/Math.cos(e)}function np(e){return 2/(Math.exp(e)+Math.exp(-e))}function rp(e){return hu(e)}qf.signature="number",zf.signature="number",Hf.signature="number",$f.signature="number",Wf.signature="number",Qf.signature="number",Gf.signature="number",Kf.signature="number",Zf.signature="number",Yf.signature="number",Jf.signature="number",Xf.signature="number",ep.signature="number",tp.signature="number",np.signature="number",rp.signature="number";var ip=Bu("acosh",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex;return(0,e.typed)("acosh",{number:function(e){return e>=1||t.predictable?qf(e):e<=-1?new n(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new n(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return bc(e,this)}})})),op=Bu("acot",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("acot",{number:zf,Complex:function(e){return e.acot()},BigNumber:function(e){return new t(1).div(e).atan()},"Array | Matrix":function(e){return bc(e,this)}})})),sp=Bu("acoth",["typed","config","Complex","BigNumber"],(function(e){var t=e.config,n=e.Complex,r=e.BigNumber;return(0,e.typed)("acoth",{number:function(e){return e>=1||e<=-1||t.predictable?Hf(e):new n(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new r(1).div(e).atanh()},"Array | Matrix":function(e){return bc(e,this)}})})),ap=Bu("acsc",["typed","config","Complex","BigNumber"],(function(e){var t=e.config,n=e.Complex,r=e.BigNumber;return(0,e.typed)("acsc",{number:function(e){return e<=-1||e>=1||t.predictable?$f(e):new n(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new r(1).div(e).asin()},"Array | Matrix":function(e){return bc(e,this)}})})),up=Bu("acsch",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("acsch",{number:Wf,Complex:function(e){return e.acsch()},BigNumber:function(e){return new t(1).div(e).asinh()},"Array | Matrix":function(e){return bc(e,this)}})})),cp=Bu("asec",["typed","config","Complex","BigNumber"],(function(e){var t=e.config,n=e.Complex,r=e.BigNumber;return(0,e.typed)("asec",{number:function(e){return e<=-1||e>=1||t.predictable?Qf(e):new n(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new r(1).div(e).acos()},"Array | Matrix":function(e){return bc(e,this)}})})),lp=Bu("asech",["typed","config","Complex","BigNumber"],(function(e){var t=e.config,n=e.Complex,r=e.BigNumber;return(0,e.typed)("asech",{number:function(e){if(e<=1&&e>=-1||t.predictable){var r=1/e;if(r>0||t.predictable)return Gf(e);var i=Math.sqrt(r*r-1);return new n(Math.log(i-r),Math.PI)}return new n(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new r(1).div(e).acosh()},"Array | Matrix":function(e){return bc(e,this)}})})),hp=Bu("asin",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex;return(0,e.typed)("asin",{number:function(e){return e>=-1&&e<=1||t.predictable?Math.asin(e):new n(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return bc(e,this,!0)}})})),dp=Bu("asinh",["typed"],(function(e){return(0,e.typed)("asinh",{number:Kf,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return bc(e,this,!0)}})})),fp=Bu("atan",["typed"],(function(e){return(0,e.typed)("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return bc(e,this,!0)}})})),pp=Bu("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=e.DenseMatrix,s=Rl({typed:t,equalScalar:r}),a=Bl({typed:t}),u=Jl({typed:t,equalScalar:r}),c=Pl({typed:t,equalScalar:r}),l=Vl({typed:t,DenseMatrix:o}),h=Ol({typed:t}),d=Il({typed:t});return t("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return i.atan2(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return l(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return d(n(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return d(n(t),e,this,!0).valueOf()}})})),mp=Bu("atanh",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex;return(0,e.typed)("atanh",{number:function(e){return e<=1&&e>=-1||t.predictable?Zf(e):new n(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return bc(e,this,!0)}})})),gp=Bu("cos",["typed"],(function(e){return(0,e.typed)("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),yp=Bu("cosh",["typed"],(function(e){return(0,e.typed)("cosh",{number:lu,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),vp=Bu("cot",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("cot",{number:Yf,Complex:function(e){return e.cot()},BigNumber:function(e){return new t(1).div(e.tan())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),bp=Bu("coth",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("coth",{number:Jf,Complex:function(e){return e.coth()},BigNumber:function(e){return new t(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),wp=Bu("csc",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("csc",{number:Xf,Complex:function(e){return e.csc()},BigNumber:function(e){return new t(1).div(e.sin())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),_p=Bu("csch",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("csch",{number:ep,Complex:function(e){return e.csch()},BigNumber:function(e){return new t(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),xp=Bu("sec",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("sec",{number:tp,Complex:function(e){return e.sec()},BigNumber:function(e){return new t(1).div(e.cos())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),Ep=Bu("sech",["typed","BigNumber"],(function(e){var t=e.BigNumber;return(0,e.typed)("sech",{number:np,Complex:function(e){return e.sech()},BigNumber:function(e){return new t(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this)}})})),Cp=Bu("sin",["typed"],(function(e){return(0,e.typed)("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this,!0)}})})),Sp=Bu("sinh",["typed"],(function(e){return(0,e.typed)("sinh",{number:rp,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this,!0)}})})),Np=Bu("tan",["typed"],(function(e){return(0,e.typed)("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this,!0)}})})),Ap=Bu("tanh",["typed"],(function(e){return(0,e.typed)("tanh",{number:du,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(e.value)},"Array | Matrix":function(e){return bc(e,this,!0)}})})),Tp=Bu("setCartesian",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index,o=e.DenseMatrix;return(0,e.typed)("setCartesian",{"Array | Matrix, Array | Matrix":function(e,s){var a=[];if(0!==n(t(e),new i(0))&&0!==n(t(s),new i(0))){var u=Du(Array.isArray(e)?e:e.toArray()).sort(r),c=Du(Array.isArray(s)?s:s.toArray()).sort(r);a=[];for(var l=0;l<u.length;l++)for(var h=0;h<c.length;h++)a.push([u[l],c[h]])}return Array.isArray(e)&&Array.isArray(s)?a:new o(a)}})})),Dp=Bu("setDifference",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index,o=e.DenseMatrix;return(0,e.typed)("setDifference",{"Array | Matrix, Array | Matrix":function(e,s){var a;if(0===n(t(e),new i(0)))a=[];else{if(0===n(t(s),new i(0)))return Du(e.toArray());var u,c=Pu(Du(Array.isArray(e)?e:e.toArray()).sort(r)),l=Pu(Du(Array.isArray(s)?s:s.toArray()).sort(r));a=[];for(var h=0;h<c.length;h++){u=!1;for(var d=0;d<l.length;d++)if(0===r(c[h].value,l[d].value)&&c[h].identifier===l[d].identifier){u=!0;break}u||a.push(c[h])}}return Array.isArray(e)&&Array.isArray(s)?Fu(a):new o(Fu(a))}})})),Op=Bu("setDistinct",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index,o=e.DenseMatrix;return(0,e.typed)("setDistinct",{"Array | Matrix":function(e){var s;if(0===n(t(e),new i(0)))s=[];else{var a=Du(Array.isArray(e)?e:e.toArray()).sort(r);(s=[]).push(a[0]);for(var u=1;u<a.length;u++)0!==r(a[u],a[u-1])&&s.push(a[u])}return Array.isArray(e)?s:new o(s)}})})),Ip=Bu("setIntersect",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index,o=e.DenseMatrix;return(0,e.typed)("setIntersect",{"Array | Matrix, Array | Matrix":function(e,s){var a;if(0===n(t(e),new i(0))||0===n(t(s),new i(0)))a=[];else{var u=Pu(Du(Array.isArray(e)?e:e.toArray()).sort(r)),c=Pu(Du(Array.isArray(s)?s:s.toArray()).sort(r));a=[];for(var l=0;l<u.length;l++)for(var h=0;h<c.length;h++)if(0===r(u[l].value,c[h].value)&&u[l].identifier===c[h].identifier){a.push(u[l]);break}}return Array.isArray(e)&&Array.isArray(s)?Fu(a):new o(Fu(a))}})})),Mp=Bu("setIsSubset",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index;return(0,e.typed)("setIsSubset",{"Array | Matrix, Array | Matrix":function(e,o){if(0===n(t(e),new i(0)))return!0;if(0===n(t(o),new i(0)))return!1;for(var s,a=Pu(Du(Array.isArray(e)?e:e.toArray()).sort(r)),u=Pu(Du(Array.isArray(o)?o:o.toArray()).sort(r)),c=0;c<a.length;c++){s=!1;for(var l=0;l<u.length;l++)if(0===r(a[c].value,u[l].value)&&a[c].identifier===u[l].identifier){s=!0;break}if(!1===s)return!1}return!0}})})),Rp=Bu("setMultiplicity",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index;return(0,e.typed)("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,o){if(0===n(t(o),new i(0)))return 0;for(var s=Du(Array.isArray(o)?o:o.toArray()),a=0,u=0;u<s.length;u++)0===r(s[u],e)&&a++;return a}})})),kp=Bu("setPowerset",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index;return(0,e.typed)("setPowerset",{"Array | Matrix":function(e){if(0===n(t(e),new i(0)))return[];for(var s=Du(Array.isArray(e)?e:e.toArray()).sort(r),a=[],u=0;u.toString(2).length<=s.length;)a.push(o(s,u.toString(2).split("").reverse())),u++;return function(e){for(var t=[],n=e.length-1;n>0;n--)for(var r=0;r<n;r++)e[r].length>e[r+1].length&&(t=e[r],e[r]=e[r+1],e[r+1]=t);return e}(a)}});function o(e,t){for(var n=[],r=0;r<t.length;r++)"1"===t[r]&&n.push(e[r]);return n}})),Pp=Bu("setSize",["typed","compareNatural"],(function(e){var t=e.compareNatural;return(0,e.typed)("setSize",{"Array | Matrix":function(e){return Array.isArray(e)?Du(e).length:Du(e.toArray()).length},"Array | Matrix, boolean":function(e,n){if(!1===n||0===e.length)return Array.isArray(e)?Du(e).length:Du(e.toArray()).length;for(var r=Du(Array.isArray(e)?e:e.toArray()).sort(t),i=1,o=1;o<r.length;o++)0!==t(r[o],r[o-1])&&i++;return i}})})),Fp=Bu("setSymDifference",["typed","size","concat","subset","setDifference","Index"],(function(e){var t=e.size,n=e.concat,r=e.subset,i=e.setDifference,o=e.Index;return(0,e.typed)("setSymDifference",{"Array | Matrix, Array | Matrix":function(e,s){if(0===r(t(e),new o(0)))return Du(s);if(0===r(t(s),new o(0)))return Du(e);var a=Du(e),u=Du(s);return n(i(a,u),i(u,a))}})})),jp=Bu("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],(function(e){var t=e.size,n=e.concat,r=e.subset,i=e.setIntersect,o=e.setSymDifference,s=e.Index;return(0,e.typed)("setUnion",{"Array | Matrix, Array | Matrix":function(e,a){if(0===r(t(e),new s(0)))return Du(a);if(0===r(t(a),new s(0)))return Du(e);var u=Du(e),c=Du(a);return n(o(u,c),i(u,c))}})})),Lp=Bu("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.addScalar,i=e.equalScalar,o=e.DenseMatrix,s=Al({typed:t}),a=Tl({typed:t,equalScalar:i}),u=Dl({typed:t,DenseMatrix:o}),c=Ol({typed:t}),l=Il({typed:t});return t("add",Ba({"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,r)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,r,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,r,!0)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,r)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"DenseMatrix, any":function(e,t){return l(e,t,r,!1)},"SparseMatrix, any":function(e,t){return u(e,t,r,!1)},"any, DenseMatrix":function(e,t){return l(t,e,r,!0)},"any, SparseMatrix":function(e,t){return u(t,e,r,!0)},"Array, any":function(e,t){return l(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}},r.signatures))})),Bp=Bu("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],(function(e){var t=e.abs,n=e.addScalar,r=e.divideScalar,i=e.multiplyScalar,o=e.sqrt,s=e.smaller,a=e.isPositive;return(0,e.typed)("hypot",{"... number | BigNumber":function(e){for(var u=0,c=0,l=0;l<e.length;l++){var h=t(e[l]);s(c,h)?(u=i(u,i(r(c,h),r(c,h))),u=n(u,1),c=h):u=n(u,a(h)?i(r(h,c),r(h,c)):h)}return i(c,o(u))},Array:function(e){return this.apply(this,Du(e))},Matrix:function(e){return this.apply(this,Du(e.toArray()))}})})),Up=Bu("norm",["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],(function(e){var t=e.abs,n=e.add,r=e.pow,i=e.conj,o=e.sqrt,s=e.multiply,a=e.equalScalar,u=e.larger,c=e.smaller,l=e.matrix,h=e.ctranspose,d=e.eigs;return(0,e.typed)("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return f(l(e),2)},Matrix:function(e){return f(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return this(e)},"Array, number | BigNumber | string":function(e,t){return f(l(e),t)},"Matrix, number | BigNumber | string":function(e,t){return f(e,t)}});function f(e,l){var p=e.size();if(1===p.length)return function(e,i){if(i===Number.POSITIVE_INFINITY||"inf"===i)return function(e){var n=0;return e.forEach((function(e){var r=t(e);u(r,n)&&(n=r)}),!0),n}(e);if(i===Number.NEGATIVE_INFINITY||"-inf"===i)return function(e){var n;return e.forEach((function(e){var r=t(e);n&&!c(r,n)||(n=r)}),!0),n||0}(e);if("fro"===i)return f(e,2);if("number"==typeof i&&!isNaN(i)){if(!a(i,0)){var o=0;return e.forEach((function(e){o=n(r(t(e),i),o)}),!0),r(o,1/i)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(e,l);if(2===p.length){if(p[0]&&p[1])return function(e,r){if(1===r)return function(e){var r=[],i=0;return e.forEach((function(e,o){var s=o[1],a=n(r[s]||0,t(e));u(a,i)&&(i=a),r[s]=a}),!0),i}(e);if(r===Number.POSITIVE_INFINITY||"inf"===r)return function(e){var r=[],i=0;return e.forEach((function(e,o){var s=o[0],a=n(r[s]||0,t(e));u(a,i)&&(i=a),r[s]=a}),!0),i}(e);if("fro"===r)return function(e){var r=0;return e.forEach((function(e,t){r=n(r,s(e,i(e)))})),t(o(r))}(e);if(2===r)return function(e){var n=e.size();if(n[0]!==n[1])throw new RangeError("Invalid matrix dimensions");var r=h(e),i=s(r,e),a=d(i).values,u=a.get([a.size()[0]-1]);return t(o(u))}(e);throw new Error("Unsupported parameter value "+r)}(e,l);throw new RangeError("Invalid matrix dimensions")}}})),Vp=Bu("dot",["typed","addScalar","multiplyScalar","conj","size"],(function(e){var t=e.typed,n=e.addScalar,r=e.multiplyScalar,i=e.conj,o=e.size;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,o){var u=s(e,o),c=ia(e)?e._data:e,l=ia(e)?e._datatype:void 0,h=ia(o)?o._data:o,d=ia(o)?o._datatype:void 0,f=2===a(e).length,p=2===a(o).length,m=n,g=r;if(l&&d&&l===d&&"string"==typeof l){var y=l;m=t.find(n,[y,y]),g=t.find(r,[y,y])}if(!f&&!p){for(var v=g(i(c[0]),h[0]),b=1;b<u;b++)v=m(v,g(i(c[b]),h[b]));return v}if(!f&&p){for(var w=g(i(c[0]),h[0][0]),_=1;_<u;_++)w=m(w,g(i(c[_]),h[_][0]));return w}if(f&&!p){for(var x=g(i(c[0][0]),h[0]),E=1;E<u;E++)x=m(x,g(i(c[E][0]),h[E]));return x}if(f&&p){for(var C=g(i(c[0][0]),h[0][0]),S=1;S<u;S++)C=m(C,g(i(c[S][0]),h[S][0]));return C}},"SparseMatrix, SparseMatrix":function(e,t){s(e,t);for(var i=e._index,o=e._values,a=t._index,u=t._values,c=0,l=n,h=r,d=0,f=0;d<i.length&&f<a.length;){var p=i[d],m=a[f];p<m?d++:p>m?f++:p===m&&(c=l(c,h(o[d],u[f])),d++,f++)}return c}});function s(e,t){var n,r,i=a(e),o=a(t);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===o.length)r=o[0];else{if(2!==o.length||1!==o[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");r=o[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function a(e){return ia(e)?e.size():o(e)}})),qp=Bu("trace",["typed","matrix","add"],(function(e){var t=e.matrix,n=e.add;return(0,e.typed)("trace",{Array:function(e){return r(t(e))},SparseMatrix:function(e){var t=e._values,r=e._index,i=e._ptr,o=e._size,s=o[1];if(o[0]===s){var a=0;if(t.length>0)for(var u=0;u<s;u++)for(var c=i[u+1],l=i[u];l<c;l++){var h=r[l];if(h===u){a=n(a,t[l]);break}if(h>u)break}return a}throw new RangeError("Matrix must be square (size: "+gu(o)+")")},DenseMatrix:r,any:ja});function r(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return ja(r[0]);throw new RangeError("Matrix must be square (size: "+gu(t)+")");case 2:var i=t[0];if(i===t[1]){for(var o=0,s=0;s<i;s++)o=n(o,r[s][s]);return o}throw new RangeError("Matrix must be square (size: "+gu(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+gu(t)+")")}}})),zp=Bu("index",["typed","Index"],(function(e){var t=e.Index;return(0,e.typed)("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map((function(e){return Js(e)?e.toNumber():Array.isArray(e)||ia(e)?e.map((function(e){return Js(e)?e.toNumber():e})):e})),r=new t;return t.apply(r,n),r}})})),Hp={end:!0};function $p(e){return($p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Wp=Bu("Node",["mathWithTransform"],(function(e){var t=e.mathWithTransform;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(e){return this.compile().evaluate(e)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var e=this._compile(t,{}),n={};return{evaluate:function(t){var r=t||{};return function(e){for(var t in e)if(qa(e,t)&&t in Hp)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(r),e(r,n,null)}}},n.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(e){if(!Ta(e))throw new TypeError("Callback function must return a Node");return e},n.prototype.traverse=function(e){e(this,null,null),function e(t,n){t.forEach((function(t,r,i){n(t,r,i),e(t,n)}))}(this,e)},n.prototype.transform=function(e){return function t(n,r,i){var o=e(n,r,i);return o!==n?o:n.map(t)}(this,null,null)},n.prototype.filter=function(e){var t=[];return this.traverse((function(n,r,i){e(n,r,i)&&t.push(n)})),t},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},n.prototype.equals=function(e){return!!e&&Ua(this,e)},n.prototype.toString=function(e){var t;if(e&&"object"===$p(e))switch($p(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(e){var t;if(e&&"object"===$p(e))switch($p(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(e){var t;if(e&&"object"===$p(e))switch($p(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},n.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n}),{isClass:!0,isNode:!0});function Qp(e){return e&&e.isIndexError?new _u(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function Gp(e){return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kp(e){var t=e.subset;return function(e,n){try{if(Array.isArray(e))return t(e,n);if(e&&"function"==typeof e.subset)return e.subset(n);if("string"==typeof e)return t(e,n);if("object"===Gp(e)){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ud(e,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw Qp(r)}}}var Zp=Bu("AccessorNode",["subset","Node"],(function(e){var t=e.Node,n=Kp({subset:e.subset});function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Ta(e))throw new TypeError('Node expected for parameter "object"');if(!Aa(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function i(e){return!(ba(e)||wa(e)||Ca(e)||Na(e)||Da(e)||Ia(e)||Ra(e))}return(r.prototype=new t).type="AccessorNode",r.prototype.isAccessorNode=!0,r.prototype._compile=function(e,t){var r=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var o=this.index.getObjectProperty();return function(e,t,n){return ud(r(e,t,n),o)}}return function(e,t,o){var s=r(e,t,o),a=i(e,t,s);return n(s,a)}},r.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},r.prototype.clone=function(){return new r(this.object,this.index)},r.prototype._toString=function(e){var t=this.object.toString(e);return i(this.object)&&(t="("+t+")"),t+this.index.toString(e)},r.prototype.toHTML=function(e){var t=this.object.toHTML(e);return i(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},r.prototype._toTex=function(e){var t=this.object.toTex(e);return i(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},r.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},r.fromJSON=function(e){return new r(e.object,e.index)},r}),{isClass:!0,isNode:!0}),Yp=Bu("ArrayNode",["Node"],(function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(Ta))throw new TypeError("Array containing Nodes expected")}return(t.prototype=new(0,e.Node)).type="ArrayNode",t.prototype.isArrayNode=!0,t.prototype._compile=function(e,t){var n=Ou(this.items,(function(n){return n._compile(e,t)}));if("Array"!==e.config.matrix){var r=e.matrix;return function(e,t,i){return r(Ou(n,(function(n){return n(e,t,i)})))}}return function(e,t,r){return Ou(n,(function(n){return n(e,t,r)}))}},t.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},t.prototype.map=function(e){for(var n=[],r=0;r<this.items.length;r++)n[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new t(n)},t.prototype.clone=function(){return new t(this.items.slice(0))},t.prototype._toString=function(e){return"["+this.items.map((function(t){return t.toString(e)})).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},t.fromJSON=function(e){return new t(e.items)},t.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(t){return t.toHTML(e)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},t.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach((function(n){t+=n.items?n.items.map((function(t){return t.toTex(e)})).join("&"):n.toTex(e),t+="\\\\"})),t+="\\end{bmatrix}"},t}),{isClass:!0,isNode:!0});function Jp(e){return(Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xp=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function em(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),i=0;i<Xp.length;i++)if(r in Xp[i])return i;return null}function tm(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),i=em(n,t);if(null===i)return null;var o=Xp[i][r];if(qa(o,"associativity")){if("left"===o.associativity)return"left";if("right"===o.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+o.associativity+"'.")}return null}function nm(e,t,n){var r="keep"!==n?e.getContent():e,i="keep"!==n?e.getContent():t,o=r.getIdentifier(),s=i.getIdentifier(),a=em(r,n);if(null===a)return null;var u=Xp[a][o];if(qa(u,"associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===s)return!0;return!1}return null}var rm=Bu("AssignmentNode",["subset","?matrix","Node"],(function(e){var t=e.subset,n=e.matrix,r=e.Node,i=Kp({subset:t}),o=function(e){var t=e.subset,n=e.matrix;return function(e,r,i){try{if(Array.isArray(e))return n(e).subset(r,i).valueOf();if(e&&"function"==typeof e.subset)return e.subset(r,i);if("string"==typeof e)return t(e,r,i);if("object"===Jp(e)){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return cd(e,r.getObjectProperty(),i),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw Qp(o)}}}({subset:t,matrix:n});function s(e,t,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?t:null,this.value=n||t,!Ra(e)&&!ba(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Ra(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!Aa(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ta(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(e,t){t||(t="keep");var n=em(e,t),r=em(e.value,t);return"all"===t||null!==r&&r<=n}return(s.prototype=new r).type="AssignmentNode",s.prototype.isAssignmentNode=!0,s.prototype._compile=function(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,s=this.value._compile(e,t),a=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(e,t,r){var i=n(e,t,r),o=s(e,t,r);return cd(i,u,o)}}if(Ra(this.object))return function(e,t,i){var u=n(e,t,i),c=s(e,t,i),l=r(e,t,u);return cd(e,a,o(u,l,c)),c};var c=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(e,t,n){var i=c(e,t,n),a=ud(i,l),u=r(e,t,a),h=s(e,t,n);return cd(i,l,o(a,u,h)),h}}var h=this.object.index._compile(e,t);return function(e,t,n){var a=c(e,t,n),u=h(e,t,a),l=i(a,u),d=r(e,t,l),f=s(e,t,n);return o(a,u,o(l,d,f)),f}}if(!Ra(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){return cd(e,a,s(e,t,n))}},s.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},s.prototype.map=function(e){return new s(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},s.prototype.clone=function(){return new s(this.object,this.index,this.value)},s.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return a(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},s.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},s.fromJSON=function(e){return new s(e.object,e.index,e.value)},s.prototype.toHTML=function(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return a(this,e&&e.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},s.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return a(this,e&&e.parenthesis)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r},s}),{isClass:!0,isNode:!0}),im=Bu("BlockNode",["ResultSet","Node"],(function(e){var t=e.ResultSet;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!Ta(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}}))}return(n.prototype=new(0,e.Node)).type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(e,n){var r=Ou(this.blocks,(function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}}));return function(e,n,i){var o=[];return Iu(r,(function(t){var r=t.evaluate(e,n,i);t.visible&&o.push(r)})),new t(o)}},n.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],o=this._ifNode(e(i.node,"blocks["+r+"].node",this));t[r]={node:o,visible:i.visible}}return new n(t)},n.prototype.clone=function(){return new n(this.blocks.map((function(e){return{node:e.node,visible:e.visible}})))},n.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(e){return new n(e.blocks)},n.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),om=Bu("ConditionalNode",["Node"],(function(e){function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!Ta(e))throw new TypeError("Parameter condition must be a Node");if(!Ta(n))throw new TypeError("Parameter trueExpr must be a Node");if(!Ta(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=n,this.falseExpr=r}return(t.prototype=new(0,e.Node)).type="ConditionalNode",t.prototype.isConditionalNode=!0,t.prototype._compile=function(e,t){var n=this.condition._compile(e,t),r=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,o){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(Js(e))return!e.isZero();if(Xs(e))return!(!e.re&&!e.im);if(ta(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+Pa(e)+'"')}(n(e,t,o))?r(e,t,o):i(e,t,o)}},t.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},t.prototype.map=function(e){return new t(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},t.prototype.clone=function(){return new t(this.condition,this.trueExpr,this.falseExpr)},t.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=em(this,t),r=this.condition.toString(e),i=em(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var o=this.trueExpr.toString(e),s=em(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(o="("+o+")");var a=this.falseExpr.toString(e),u=em(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(a="("+a+")"),r+" ? "+o+" : "+a},t.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},t.fromJSON=function(e){return new t(e.condition,e.trueExpr,e.falseExpr)},t.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=em(this,t),r=this.condition.toHTML(e),i=em(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(e),s=em(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.falseExpr.toHTML(e),u=em(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+a},t.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},t}),{isClass:!0,isNode:!0}),sm=n("R4gy"),am=n.n(sm),um={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},cm={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},lm={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(cm.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(cm.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(cm.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(cm.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(cm.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(cm.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(cm.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(cm.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(cm.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(cm.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(cm.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(cm.bitAnd,"${args[1]}\\right)")},bitNot:{1:cm.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(cm.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(cm.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(cm.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(cm.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(cm.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(cm.and,"${args[1]}\\right)")},not:{1:cm.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(cm.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(cm.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(cm.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(cm.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(cm.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(cm.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(cm.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(cm.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(cm.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(cm.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(cm.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(cm.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(cm.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(um.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},hm={deg:"^\\circ"};function dm(e){return am()(e,{preserveFormatting:!0})}function fm(e,t){return(t=void 0!==t&&t)?qa(hm,e)?hm[e]:"\\mathrm{"+dm(e)+"}":qa(um,e)?um[e]:dm(e)}var pm=Bu("ConstantNode",["Node"],(function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.value=e}return(t.prototype=new(0,e.Node)).type="ConstantNode",t.prototype.isConstantNode=!0,t.prototype._compile=function(e,t){var n=this.value;return function(){return n}},t.prototype.forEach=function(e){},t.prototype.map=function(e){return this.clone()},t.prototype.clone=function(){return new t(this.value)},t.prototype._toString=function(e){return gu(this.value,e)},t.prototype.toHTML=function(e){var t=this._toString(e);switch(Pa(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},t.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},t.fromJSON=function(e){return new t(e.value)},t.prototype._toTex=function(e){var t=this._toString(e);switch(Pa(this.value)){case"string":return"\\mathtt{"+dm(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},t}),{isClass:!0,isNode:!0}),mm=Bu("FunctionAssignmentNode",["typed","Node"],(function(e){var t=e.typed;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ta(r))throw new TypeError('Node expected for parameter "expr"');if(e in Hp)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map((function(e){return e&&e.name||e})),this.types=t.map((function(e){return e&&e.type||"any"})),this.expr=r}function r(e,t){var n=em(e,t),r=em(e.expr,t);return"all"===t||null!==r&&r<=n}return(n.prototype=new(0,e.Node)).type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(e,n){var r=Object.create(n);Iu(this.params,(function(e){r[e]=!0}));var i=this.expr._compile(e,r),o=this.name,s=this.params,a=ku(this.types,","),u=o+"("+ku(this.params,", ")+")";return function(e,n,r){var c={};c[a]=function(){for(var t=Object.create(n),o=0;o<s.length;o++)t[s[o]]=arguments[o];return i(e,t,r)};var l=t(o,c);return l.syntax=u,cd(e,o,l),l}},n.prototype.forEach=function(e){e(this.expr,"expr",this)},n.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new n(this.name,this.params.slice(0),t)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return r(this,t)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},n.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(t,n){return{name:t,type:e[n]}})),expr:this.expr}},n.fromJSON=function(e){return new n(e.name,e.params,e.expr)},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],i=0;i<this.params.length;i++)n.push('<span class="math-symbol math-parameter">'+vu(this.params[i])+"</span>");var o=this.expr.toHTML(e);return r(this,t)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+vu(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+o},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return r(this,t)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(fm).join(",")+"\\right):="+n},n}),{isClass:!0,isNode:!0});function gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ym=Bu("IndexNode",["Range","Node","size"],(function(e){var t=e.Range,n=e.size;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(Ta))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function i(e,n,r){return new t(Js(e)?e.toNumber():e,Js(n)?n.toNumber():n,Js(r)?r.toNumber():r)}return(r.prototype=new(0,e.Node)).type="IndexNode",r.prototype.isIndexNode=!0,r.prototype._compile=function(e,t){var r=Ou(this.dimensions,(function(r,o){if(Ma(r)){if(r.needsEnd()){var s=Object.create(t);s.end=!0;var a=r.start._compile(e,s),u=r.end._compile(e,s),c=r.step?r.step._compile(e,s):function(){return 1};return function(e,t,r){var s=n(r).valueOf(),l=Object.create(t);return l.end=s[o],i(a(e,l,r),u(e,l,r),c(e,l,r))}}var l=r.start._compile(e,t),h=r.end._compile(e,t),d=r.step?r.step._compile(e,t):function(){return 1};return function(e,t,n){return i(l(e,t,n),h(e,t,n),d(e,t,n))}}if(Ra(r)&&"end"===r.name){var f=Object.create(t);f.end=!0;var p=r._compile(e,f);return function(e,t,r){var i=n(r).valueOf(),s=Object.create(t);return s.end=i[o],p(e,s,r)}}var m=r._compile(e,t);return function(e,t,n){return m(e,t,n)}})),o=ud(e,"index");return function(e,t,n){var i,s=Ou(r,(function(r){return r(e,t,n)}));return o.apply(void 0,function(e){if(Array.isArray(e))return gm(e)}(i=s)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return gm(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gm(e,void 0):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},r.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new r(t,this.dotNotation)},r.prototype.clone=function(){return new r(this.dimensions.slice(0),this.dotNotation)},r.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&Ca(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},r.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},r.fromJSON=function(e){return new r(e.dimensions,e.dotNotation)},r.prototype.toHTML=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+vu(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},r}),{isClass:!0,isNode:!0});function vm(e){return(vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var bm=Bu("ObjectNode",["Node"],(function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==vm(e)||!Object.keys(e).every((function(t){return Ta(e[t])}))))throw new TypeError("Object containing Nodes expected")}return(t.prototype=new(0,e.Node)).type="ObjectNode",t.prototype.isObjectNode=!0,t.prototype._compile=function(e,t){var n={};for(var r in this.properties)if(qa(this.properties,r)){var i=yu(r),o=JSON.parse(i);if(!ld(this.properties,o))throw new Error('No access to property "'+o+'"');n[o]=this.properties[r]._compile(e,t)}return function(e,t,r){var i={};for(var o in n)qa(n,o)&&(i[o]=n[o](e,t,r));return i}},t.prototype.forEach=function(e){for(var t in this.properties)qa(this.properties,t)&&e(this.properties[t],"properties["+yu(t)+"]",this)},t.prototype.map=function(e){var n={};for(var r in this.properties)qa(this.properties,r)&&(n[r]=this._ifNode(e(this.properties[r],"properties["+yu(r)+"]",this)));return new t(n)},t.prototype.clone=function(){var e={};for(var n in this.properties)qa(this.properties,n)&&(e[n]=this.properties[n]);return new t(e)},t.prototype._toString=function(e){var t=[];for(var n in this.properties)qa(this.properties,n)&&t.push(yu(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},t.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},t.fromJSON=function(e){return new t(e.properties)},t.prototype.toHTML=function(e){var t=[];for(var n in this.properties)qa(this.properties,n)&&t.push('<span class="math-symbol math-property">'+vu(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},t.prototype._toTex=function(e){var t=[];for(var n in this.properties)qa(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},t}),{isClass:!0,isNode:!0}),wm=Bu("OperatorNode",["Node"],(function(e){function t(e,n,r,i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof n)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(Ta))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=e,this.fn=n,this.args=r||[]}function n(e,t,n,r,i){var o,s=em(e,t),a=tm(e,t);if("all"===t||r.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return r.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:o=[];break;case 1:var u=em(r[0],t);if(i&&null!==u){var c,l;if("keep"===t?(c=r[0].getIdentifier(),l=e.getIdentifier()):(c=r[0].getContent().getIdentifier(),l=e.getContent().getIdentifier()),!1===Xp[s][l].latexLeftParens){o=[!1];break}if(!1===Xp[u][c].latexParens){o=[!1];break}}if(null===u){o=[!1];break}if(u<=s){o=[!0];break}o=[!1];break;case 2:var h,d,f=em(r[0],t),p=nm(e,r[0],t);h=null!==f&&(f===s&&"right"===a&&!p||f<s);var m,g,y,v=em(r[1],t),b=nm(e,r[1],t);d=null!==v&&(v===s&&"left"===a&&!b||v<s),i&&("keep"===t?(m=e.getIdentifier(),g=e.args[0].getIdentifier(),y=e.args[1].getIdentifier()):(m=e.getContent().getIdentifier(),g=e.args[0].getContent().getIdentifier(),y=e.args[1].getContent().getIdentifier()),null!==f&&(!1===Xp[s][m].latexLeftParens&&(h=!1),!1===Xp[f][g].latexParens&&(h=!1)),null!==v&&(!1===Xp[s][m].latexRightParens&&(d=!1),!1===Xp[v][y].latexParens&&(d=!1))),o=[h,d];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(o=r.map((function(n){var r=em(n,t),i=nm(e,n,t),o=tm(n,t);return null!==r&&(s===r&&a===o&&!i||r<s)})))}return r.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===n&&(o=r.map((function(e,t){var n="ParenthesisNode"===e.getIdentifier();return!(!o[t]&&!n)}))),o}return(t.prototype=new(0,e.Node)).type="OperatorNode",t.prototype.isOperatorNode=!0,t.prototype._compile=function(e,t){if("string"!=typeof this.fn||!hd(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=ud(e,this.fn),r=Ou(this.args,(function(n){return n._compile(e,t)}));if(1===r.length){var i=r[0];return function(e,t,r){return n(i(e,t,r))}}if(2===r.length){var o=r[0],s=r[1];return function(e,t,r){return n(o(e,t,r),s(e,t,r))}}return function(e,t,i){return n.apply(null,Ou(r,(function(n){return n(e,t,i)})))}},t.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},t.prototype.map=function(e){for(var n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new t(this.op,this.fn,n,this.implicit)},t.prototype.clone=function(){return new t(this.op,this.fn,this.args.slice(0),this.implicit)},t.prototype.isUnary=function(){return 1===this.args.length},t.prototype.isBinary=function(){return 2===this.args.length},t.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,o=n(this,t,r,i,!1);if(1===i.length){var s=tm(this,t),a=i[0].toString(e);o[0]&&(a="("+a+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===s?this.op+(u?" ":"")+a:"left"===s?a+(u?" ":"")+this.op:a+this.op}if(2===i.length){var c=i[0].toString(e),l=i[1].toString(e);return o[0]&&(c="("+c+")"),o[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+" "+l:c+" "+this.op+" "+l}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var h=i.map((function(t,n){return t=t.toString(e),o[n]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h.join(" "):h.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},t.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},t.fromJSON=function(e){return new t(e.op,e.fn,e.args,e.implicit)},t.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,o=n(this,t,r,i,!1);if(1===i.length){var s=tm(this,t),a=i[0].toHTML(e);return o[0]&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===s?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+vu(this.op)+"</span>"+a:a+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+vu(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(e),c=i[1].toHTML(e);return o[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+vu(this.op)+"</span>"+c}var l=i.map((function(t,n){return t=t.toHTML(e),o[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+vu(this.op)+"</span>"):'<span class="math-function">'+vu(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},t.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,o=n(this,t,r,i,!0),s=cm[this.fn];if(s=void 0===s?this.op:s,1===i.length){var a=tm(this,t),u=i[0].toTex(e);return o[0]&&(u="\\left(".concat(u,"\\right)")),"right"===a?s+u:u+s}if(2===i.length){var c=i[0],l=c.toTex(e);o[0]&&(l="\\left(".concat(l,"\\right)"));var h,d=i[1].toTex(e);switch(o[1]&&(d="\\left(".concat(d,"\\right)")),h="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return s+"{"+l+"}{"+d+"}";case"OperatorNode:pow":switch(l="{"+l+"}",d="{"+d+"}",h){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return l+"~"+d}return l+s+d}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(t,n){return t=t.toTex(e),o[n]&&(t="\\left(".concat(t,"\\right)")),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(s)}return"\\mathrm{"+this.fn+"}\\left("+i.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},t.prototype.getIdentifier=function(){return this.type+":"+this.fn},t}),{isClass:!0,isNode:!0}),_m=Bu("ParenthesisNode",["Node"],(function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!Ta(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return(t.prototype=new(0,e.Node)).type="ParenthesisNode",t.prototype.isParenthesisNode=!0,t.prototype._compile=function(e,t){return this.content._compile(e,t)},t.prototype.getContent=function(){return this.content.getContent()},t.prototype.forEach=function(e){e(this.content,"content",this)},t.prototype.map=function(e){return new t(e(this.content,"content",this))},t.prototype.clone=function(){return new t(this.content)},t.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},t.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},t.fromJSON=function(e){return new t(e.content)},t.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},t.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},t}),{isClass:!0,isNode:!0}),xm=Bu("RangeNode",["Node"],(function(e){function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!Ta(e))throw new TypeError("Node expected");if(!Ta(n))throw new TypeError("Node expected");if(r&&!Ta(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=n,this.step=r||null}function n(e,t){var n=em(e,t),r={},i=em(e.start,t);if(r.start=null!==i&&i<=n||"all"===t,e.step){var o=em(e.step,t);r.step=null!==o&&o<=n||"all"===t}var s=em(e.end,t);return r.end=null!==s&&s<=n||"all"===t,r}return(t.prototype=new(0,e.Node)).type="RangeNode",t.prototype.isRangeNode=!0,t.prototype.needsEnd=function(){return this.filter((function(e){return Ra(e)&&"end"===e.name})).length>0},t.prototype._compile=function(e,t){var n=e.range,r=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var o=this.step._compile(e,t);return function(e,t,s){return n(r(e,t,s),i(e,t,s),o(e,t,s))}}return function(e,t,o){return n(r(e,t,o),i(e,t,o))}},t.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},t.prototype.map=function(e){return new t(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},t.prototype.clone=function(){return new t(this.start,this.end,this.step&&this.step)},t.prototype._toString=function(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toString(e);if(r.start&&(i="("+i+")"),t=i,this.step){var o=this.step.toString(e);r.step&&(o="("+o+")"),t+=":"+o}var s=this.end.toString(e);return r.end&&(s="("+s+")"),t+":"+s},t.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t.prototype.toHTML=function(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toHTML(e);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var o=this.step.toHTML(e);r.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}var s=this.end.toHTML(e);return r.end&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+'<span class="math-operator math-range-operator">:</span>'+s},t.prototype._toTex=function(e){var t=n(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(e);t.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i}var o=this.end.toTex(e);return t.end&&(o="\\left(".concat(o,"\\right)")),r+":"+o},t}),{isClass:!0,isNode:!0}),Em=Bu("RelationalNode",["Node"],(function(e){function t(e,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(n))throw new TypeError("Parameter params must be an array");if(e.length!==n.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=n}return(t.prototype=new(0,e.Node)).type="RelationalNode",t.prototype.isRelationalNode=!0,t.prototype._compile=function(e,t){var n=this,r=this.params.map((function(n){return n._compile(e,t)}));return function(t,i,o){for(var s,a=r[0](t,i,o),u=0;u<n.conditionals.length;u++)if(s=a,a=r[u+1](t,i,o),!ud(e,n.conditionals[u])(s,a))return!1;return!0}},t.prototype.forEach=function(e){var t=this;this.params.forEach((function(n,r){return e(n,"params["+r+"]",t)}),this)},t.prototype.map=function(e){var n=this;return new t(this.conditionals.slice(),this.params.map((function(t,r){return n._ifNode(e(t,"params["+r+"]",n))}),this))},t.prototype.clone=function(){return new t(this.conditionals,this.params)},t.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=em(this,t),r=this.params.map((function(r,i){var o=em(r,t);return"all"===t||null!==o&&o<=n?"("+r.toString(e)+")":r.toString(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=r[0],s=0;s<this.conditionals.length;s++)o+=" "+i[this.conditionals[s]]+" "+r[s+1];return o},t.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},t.fromJSON=function(e){return new t(e.conditionals,e.params)},t.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=em(this,t),r=this.params.map((function(r,i){var o=em(r,t);return"all"===t||null!==o&&o<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=r[0],s=0;s<this.conditionals.length;s++)o+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+vu(i[this.conditionals[s]])+"</span>"+r[s+1];return o},t.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=em(this,t),r=this.params.map((function(r,i){var o=em(r,t);return"all"===t||null!==o&&o<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)})),i=r[0],o=0;o<this.conditionals.length;o++)i+=cm[this.conditionals[o]]+r[o+1];return i},t}),{isClass:!0,isNode:!0}),Cm=Bu("SymbolNode",["math","?Unit","Node"],(function(e){var t=e.math,n=e.Unit;function r(e){return!!n&&n.isValuelessUnit(e)}function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return(i.prototype=new(0,e.Node)).type="SymbolNode",i.prototype.isSymbolNode=!0,i.prototype._compile=function(e,t){var i=this.name;if(!0===t[i])return function(e,t,n){return t[i]};if(i in e)return function(t,n,r){return ud(i in t?t:e,i)};var o=r(i);return function(e,t,r){return i in e?ud(e,i):o?new n(null,i):function(e){throw new Error("Undefined symbol "+e)}(i)}},i.prototype.forEach=function(e){},i.prototype.map=function(e){return this.clone()},i.prototype.clone=function(){return new i(this.name)},i.prototype._toString=function(e){return this.name},i.prototype.toHTML=function(e){var t=vu(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},i.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},i.fromJSON=function(e){return new i(e.name)},i.prototype._toTex=function(e){var n=!1;void 0===t[this.name]&&r(this.name)&&(n=!0);var i=fm(this.name,n);return"\\"===i[0]?i:" "+i},i}),{isClass:!0,isNode:!0});function Sm(e){return(Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nm(){return(Nm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Am=Bu("FunctionNode",["math","Node","SymbolNode"],(function(e){var t=e.math,n=e.SymbolNode;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new n(e)),!Ta(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(Ta))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:(function(){return this.fn.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}(r.prototype=new(0,e.Node)).type="FunctionNode",r.prototype.isFunctionNode=!0,r.prototype._compile=function(e,t){if(!(this instanceof r))throw new TypeError("No valid FunctionNode");var n=Ou(this.args,(function(n){return n._compile(e,t)}));if(Ra(this.fn)){var i=this.fn.name,o=i in e?ud(e,i):void 0;if("function"==typeof o&&!0===o.rawArgs){var s=this.args;return function(t,n,r){return(i in t?ud(t,i):o)(s,e,Nm({},t,n))}}if(1===n.length){var a=n[0];return function(e,t,n){return(i in e?ud(e,i):o)(a(e,t,n))}}if(2===n.length){var u=n[0],c=n[1];return function(e,t,n){return(i in e?ud(e,i):o)(u(e,t,n),c(e,t,n))}}return function(e,t,r){return(i in e?ud(e,i):o).apply(null,Ou(n,(function(n){return n(e,t,r)})))}}if(ba(this.fn)&&Aa(this.fn.index)&&this.fn.index.isObjectProperty()){var l=this.fn.object._compile(e,t),h=this.fn.index.getObjectProperty(),d=this.args;return function(t,r,i){var o=l(t,r,i);return function(e,t){if(!hd(e,t))throw new Error('No access to method "'+t+'"')}(o,h),o[h]&&o[h].rawArgs?o[h](d,e,Nm({},t,r)):o[h].apply(o,Ou(n,(function(e){return e(t,r,i)})))}}var f=this.fn._compile(e,t),p=this.args;return function(t,r,i){var o=f(t,r,i);return o&&o.rawArgs?o(p,e,Nm({},t,r)):o.apply(o,Ou(n,(function(e){return e(t,r,i)})))}},r.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},r.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],i=0;i<this.args.length;i++)n[i]=this._ifNode(e(this.args[i],"args["+i+"]",this));return new r(t,n)},r.prototype.clone=function(){return new r(this.fn,this.args.slice(0))};var i=r.prototype.toString;function o(e,t,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),s=0;null!==(r=o.exec(e));)if(i+=e.substring(s,r.index),s=r.index,"$$"===r[0])i+="$",s++;else{s+=r[0].length;var a=t[r[1]];if(!a)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(Sm(a)){case"string":i+=a;break;case"object":if(Ta(a))i+=a.toTex(n);else{if(!Array.isArray(a))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=a.map((function(e,t){if(Ta(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!Ta(a[r[2]]&&a[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=a[r[2]].toTex(n)}}return i+e.slice(s)}r.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"===Sm(e.handler)&&qa(e.handler,n)&&(t=e.handler[n](this,e)),void 0!==t?t:i.call(this,e)},r.prototype._toString=function(e){var t=this.args.map((function(t){return t.toString(e)}));return(Sa(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},r.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},r.fromJSON=function(e){return new r(e.fn,e.args)},r.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+vu(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var s=r.prototype.toTex;return r.prototype.toTex=function(e){var t;return e&&"object"===Sm(e.handler)&&qa(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:s.call(this,e)},r.prototype._toTex=function(e){var n,r,i=this.args.map((function(t){return t.toTex(e)}));switch(lm[this.name]&&(n=lm[this.name]),!t[this.name]||"function"!=typeof t[this.name].toTex&&"object"!==Sm(t[this.name].toTex)&&"string"!=typeof t[this.name].toTex||(n=t[this.name].toTex),Sm(n)){case"function":r=n(this,e);break;case"string":r=o(n,this,e);break;case"object":switch(Sm(n[i.length])){case"function":r=n[i.length](this,e);break;case"string":r=o(n[i.length],this,e)}}return void 0!==r?r:o("\\mathrm{${name}}\\left(${args}\\right)",this,e)},r.prototype.getIdentifier=function(){return this.type+":"+this.name},r}),{isClass:!0,isNode:!0});function Tm(){return(Tm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dm=Bu("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(function(e){var t=e.numeric,n=e.config,r=e.AccessorNode,i=e.ArrayNode,o=e.AssignmentNode,s=e.BlockNode,a=e.ConditionalNode,u=e.ConstantNode,c=e.FunctionAssignmentNode,l=e.FunctionNode,h=e.IndexNode,d=e.ObjectNode,f=e.OperatorNode,p=e.ParenthesisNode,m=e.RangeNode,g=e.RelationalNode,y=e.SymbolNode,v=(0,e.typed)("parse",{string:function(e){return R(e,{})},"Array | Matrix":function(e){return b(e,{})},"string, Object":function(e,t){return R(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":b});function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return bc(e,(function(e){if("string"!=typeof e)throw new TypeError("String expected");return R(e,n)}))}var w={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},_={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},x={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"];function C(e,t){return e.expression.substr(e.index,t)}function S(e){return C(e,1)}function N(e){e.index++}function A(e){return e.expression.charAt(e.index-1)}function T(e){return e.expression.charAt(e.index+1)}function D(e){for(e.tokenType=0,e.token="",e.comment="";v.isWhitespace(S(e),e.nestingLevel);)N(e);if("#"===S(e))for(;"\n"!==S(e)&&""!==S(e);)e.comment+=S(e),N(e);if(""!==S(e)){if("\n"===S(e)&&!e.nestingLevel)return e.tokenType=1,e.token=S(e),void N(e);var t=S(e),n=C(e,2),r=C(e,3);if(3===r.length&&w[r])return e.tokenType=1,e.token=r,N(e),N(e),void N(e);if(2===n.length&&w[n])return e.tokenType=1,e.token=n,N(e),void N(e);if(w[t])return e.tokenType=1,e.token=t,void N(e);if(v.isDigitDot(t)){if(e.tokenType=2,"."===S(e))e.token+=S(e),N(e),v.isDigit(S(e))||(e.tokenType=1);else{for(;v.isDigit(S(e));)e.token+=S(e),N(e);v.isDecimalMark(S(e),T(e))&&(e.token+=S(e),N(e))}for(;v.isDigit(S(e));)e.token+=S(e),N(e);if("E"===S(e)||"e"===S(e))if(v.isDigit(T(e))||"-"===T(e)||"+"===T(e)){if(e.token+=S(e),N(e),"+"!==S(e)&&"-"!==S(e)||(e.token+=S(e),N(e)),!v.isDigit(S(e)))throw ee(e,'Digit expected, got "'+S(e)+'"');for(;v.isDigit(S(e));)e.token+=S(e),N(e);if(v.isDecimalMark(S(e),T(e)))throw ee(e,'Digit expected, got "'+S(e)+'"')}else if("."===T(e))throw N(e),ee(e,'Digit expected, got "'+S(e)+'"')}else{if(!v.isAlpha(S(e),A(e),T(e))){for(e.tokenType=4;""!==S(e);)e.token+=S(e),N(e);throw ee(e,'Syntax error in part "'+e.token+'"')}for(;v.isAlpha(S(e),A(e),T(e))||v.isDigit(S(e));)e.token+=S(e),N(e);e.tokenType=qa(_,e.token)?1:3}}else e.tokenType=1}function O(e){do{D(e)}while("\n"===e.token)}function I(e){e.nestingLevel++}function M(e){e.nestingLevel--}function R(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};Tm(n,{expression:e,extraNodes:t}),D(n);var r=function(e){var t,n=[];for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=k(e)).comment=e.comment);"\n"===e.token||";"===e.token;)0===n.length&&t&&n.push({node:t,visible:";"!==e.token}),D(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=k(e)).comment=e.comment,n.push({node:t,visible:";"!==e.token}));return n.length>0?new s(n):(t||((t=new u(void 0)).comment=e.comment),t)}(n);if(""!==n.token)throw 1===n.tokenType?te(n,"Unexpected operator "+n.token):ee(n,'Unexpected part "'+n.token+'"');return r}function k(e){var t,n,r,i,s=function(e){for(var t=function(e){for(var t=P(e);"or"===e.token;)O(e),t=new f("or","or",[t,P(e)]);return t}(e);"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,O(e);var r=t,i=k(e);if(":"!==e.token)throw ee(e,"False part of conditional expression expected");e.conditionalLevel=null,O(e);var o=k(e);t=new a(r,i,o),e.conditionalLevel=n}return t}(e);if("="===e.token){if(Ra(s))return t=s.name,O(e),r=k(e),new o(new y(t),r);if(ba(s))return O(e),r=k(e),new o(s.object,s.index,r);if(Na(s)&&Ra(s.fn)&&(i=!0,n=[],t=s.name,s.args.forEach((function(e,t){Ra(e)?n[t]=e.name:i=!1})),i))return O(e),r=k(e),new c(t,n,r);throw ee(e,"Invalid left hand side of assignment operator =")}return s}function P(e){for(var t=F(e);"xor"===e.token;)O(e),t=new f("xor","xor",[t,F(e)]);return t}function F(e){for(var t=j(e);"and"===e.token;)O(e),t=new f("and","and",[t,j(e)]);return t}function j(e){for(var t=L(e);"|"===e.token;)O(e),t=new f("|","bitOr",[t,L(e)]);return t}function L(e){for(var t=B(e);"^|"===e.token;)O(e),t=new f("^|","bitXor",[t,B(e)]);return t}function B(e){for(var t=U(e);"&"===e.token;)O(e),t=new f("&","bitAnd",[t,U(e)]);return t}function U(e){for(var t=[V(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};qa(r,e.token);)n.push({name:e.token,fn:r[e.token]}),O(e),t.push(V(e));return 1===t.length?t[0]:2===t.length?new f(n[0].name,n[0].fn,t):new g(n.map((function(e){return e.fn})),t)}function V(e){var t,n,r,i;t=q(e);for(var o={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};qa(o,e.token);)r=o[n=e.token],O(e),i=[t,q(e)],t=new f(n,r,i);return t}function q(e){var t,n,r,i;t=z(e);for(var o={to:"to",in:"to"};qa(o,e.token);)r=o[n=e.token],O(e),"in"===n&&""===e.token?t=new f("*","multiply",[t,new y("in")],!0):(i=[t,z(e)],t=new f(n,r,i));return t}function z(e){var t,n=[];if(t=":"===e.token?new u(1):H(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)O(e),n.push(")"===e.token||"]"===e.token||","===e.token||""===e.token?new y("end"):H(e));t=3===n.length?new m(n[0],n[2],n[1]):new m(n[0],n[1])}return t}function H(e){var t,n,r,i;t=$(e);for(var o={"+":"add","-":"subtract"};qa(o,e.token);)r=o[n=e.token],O(e),i=[t,$(e)],t=new f(n,r,i);return t}function $(e){var t,n,r,i;n=t=W(e);for(var o={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};qa(o,e.token);)i=o[r=e.token],O(e),n=W(e),t=new f(r,i,[t,n]);return t}function W(e){var t,n;for(n=t=Q(e);3===e.tokenType||"in"===e.token&&Ca(t)||!(2!==e.tokenType||Ca(n)||Oa(n)&&"!"!==n.op)||"("===e.token;)n=Q(e),t=new f("*","multiply",[t,n],!0);return t}function Q(e){for(var t=G(e),n=t,r=[];"/"===e.token&&Ca(n);){if(r.push(Tm({},e)),O(e),2!==e.tokenType){Tm(e,r.pop());break}if(r.push(Tm({},e)),O(e),3!==e.tokenType&&"("!==e.token){r.pop(),Tm(e,r.pop());break}Tm(e,r.pop()),r.pop(),n=G(e),t=new f("/","divide",[t,n])}return t}function G(e){var r,o,s,a={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return qa(a,e.token)?(s=a[e.token],r=e.token,O(e),o=[G(e)],new f(r,s,o)):function(e){var r,o,s,a;return r=function(e){var r,o,s;r=function(e){var r=[];if(3===e.tokenType&&qa(e.extraNodes,e.token)){var o=e.extraNodes[e.token];if(D(e),"("===e.token){if(r=[],I(e),D(e),")"!==e.token)for(r.push(k(e));","===e.token;)D(e),r.push(k(e));if(")"!==e.token)throw ee(e,"Parenthesis ) expected");M(e),D(e)}return new o(r)}return function(e){var r;return 3===e.tokenType||1===e.tokenType&&e.token in _?(r=e.token,D(e),K(e,qa(x,r)?new u(x[r]):-1!==E.indexOf(r)?new u(t(r,"number")):new y(r))):function(e){var r;return'"'===e.token?(r=Z(e),K(e,new u(r))):function(e){var r;return"'"===e.token?(r=Y(e),K(e,new u(r))):function(e){var r,o,s,a;if("["===e.token){if(I(e),D(e),"]"!==e.token){var c=J(e);if(";"===e.token){for(s=1,o=[c];";"===e.token;)D(e),o[s]=J(e),s++;if("]"!==e.token)throw ee(e,"End of matrix ] expected");M(e),D(e),a=o[0].items.length;for(var l=1;l<s;l++)if(o[l].items.length!==a)throw te(e,"Column dimensions mismatch ("+o[l].items.length+" !== "+a+")");r=new i(o)}else{if("]"!==e.token)throw ee(e,"End of matrix ] expected");M(e),D(e),r=c}}else M(e),D(e),r=new i([]);return K(e,r)}return function(e){if("{"===e.token){var r;I(e);var i={};do{if(D(e),"}"!==e.token){if('"'===e.token)r=Z(e);else if("'"===e.token)r=Y(e);else{if(!(3===e.tokenType||1===e.tokenType&&e.token in _))throw ee(e,"Symbol or string expected as object key");r=e.token,D(e)}if(":"!==e.token)throw ee(e,"Colon : expected after object key");D(e),i[r]=k(e)}}while(","===e.token);if("}"!==e.token)throw ee(e,"Comma , or bracket } expected after object value");return M(e),D(e),K(e,new d(i))}return function(e){var r;return 2===e.tokenType?(r=e.token,D(e),new u(t(r,n.number))):function(e){var t;if("("===e.token){if(I(e),D(e),t=k(e),")"!==e.token)throw ee(e,"Parenthesis ) expected");return M(e),D(e),K(e,t=new p(t))}return function(e){throw ee(e,""===e.token?"Unexpected end of expression":"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);for(var a={"!":"factorial","'":"ctranspose"};qa(a,e.token);)s=a[o=e.token],D(e),r=K(e,r=new f(o,s,[r]));return r}(e),("^"===e.token||".^"===e.token)&&(s="^"===(o=e.token)?"pow":"dotPow",O(e),a=[r,G(e)],r=new f(o,s,a)),r}(e)}function K(e,t,n){for(var i;!("("!==e.token&&"["!==e.token&&"."!==e.token||n&&-1===n.indexOf(e.token));)if(i=[],"("===e.token){if(!Ra(t)&&!ba(t))return t;if(I(e),D(e),")"!==e.token)for(i.push(k(e));","===e.token;)D(e),i.push(k(e));if(")"!==e.token)throw ee(e,"Parenthesis ) expected");M(e),D(e),t=new l(t,i)}else if("["===e.token){if(I(e),D(e),"]"!==e.token)for(i.push(k(e));","===e.token;)D(e),i.push(k(e));if("]"!==e.token)throw ee(e,"Parenthesis ] expected");M(e),D(e),t=new r(t,new h(i))}else{if(D(e),3!==e.tokenType)throw ee(e,"Property name expected after dot");i.push(new u(e.token)),D(e),t=new r(t,new h(i,!0))}return t}function Z(e){for(var t="";""!==S(e)&&'"'!==S(e);)"\\"===S(e)&&(t+=S(e),N(e)),t+=S(e),N(e);if(D(e),'"'!==e.token)throw ee(e,'End of string " expected');return D(e),JSON.parse('"'+t+'"')}function Y(e){for(var t="";""!==S(e)&&"'"!==S(e);)"\\"===S(e)&&(t+=S(e),N(e)),t+=S(e),N(e);if(D(e),"'"!==e.token)throw ee(e,"End of string ' expected");return D(e),JSON.parse('"'+t+'"')}function J(e){for(var t=[k(e)],n=1;","===e.token;)D(e),t[n]=k(e),n++;return new i(t)}function X(e){return e.index-e.token.length+1}function ee(e,t){var n=X(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function te(e,t){var n=X(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return v.isAlpha=function(e,t,n){return v.isValidLatinOrGreek(e)||v.isValidMathSymbol(e,n)||v.isValidMathSymbol(t,e)},v.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},v.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},v.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},v.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},v.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},v.isDigit=function(e){return e>="0"&&e<="9"},v})),Om=Bu("compile",["typed","parse"],(function(e){var t=e.parse;return(0,e.typed)("compile",{string:function(e){return t(e).compile()},"Array | Matrix":function(e){return bc(e,(function(e){return t(e).compile()}))}})})),Im=Bu("evaluate",["typed","parse"],(function(e){var t=e.parse;return(0,e.typed)("evaluate",{string:function(e){return t(e).compile().evaluate({})},"string, Object":function(e,n){return t(e).compile().evaluate(n)},"Array | Matrix":function(e){var n={};return bc(e,(function(e){return t(e).compile().evaluate(n)}))},"Array | Matrix, Object":function(e,n){return bc(e,(function(e){return t(e).compile().evaluate(n)}))}})})),Mm=Bu("Parser",["parse"],(function(e){var t=e.parse;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(e){return t(e).compile().evaluate(this.scope)},n.prototype.get=function(e){return e in this.scope?ud(this.scope,e):void 0},n.prototype.getAll=function(){return Ba({},this.scope)},n.prototype.set=function(e,t){return cd(this.scope,e,t)},n.prototype.remove=function(e){delete this.scope[e]},n.prototype.clear=function(){for(var e in this.scope)qa(this.scope,e)&&delete this.scope[e]},n}),{isClass:!0}),Rm=Bu("parser",["typed","Parser"],(function(e){var t=e.Parser;return(0,e.typed)("parser",{"":function(){return new t}})})),km=Bu("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(function(e){var t=e.matrix,n=e.abs,r=e.addScalar,i=e.divideScalar,o=e.multiplyScalar,s=e.subtract,a=e.larger,u=e.equalScalar,c=e.unaryMinus,l=e.DenseMatrix,h=e.SparseMatrix,d=e.Spa;return(0,e.typed)("lup",{DenseMatrix:function(e){return f(e)},SparseMatrix:function(e){return function(e){var t,r,s,l=e._size[0],f=e._size[1],p=Math.min(l,f),m=e._values,g=e._index,y=e._ptr,v=[],b=[],w=[],_=[l,p],x=[],E=[],C=[],S=[p,f],N=[],A=[];for(t=0;t<l;t++)N[t]=t,A[t]=t;var T=function(){var e=new d;r<l&&(w.push(v.length),v.push(1),b.push(r)),C.push(x.length);var f=y[r+1];for(s=y[r];s<f;s++)e.set(N[t=g[s]],m[s]);r>0&&e.forEach(0,r-1,(function(t,n){h._forEachRow(t,v,b,w,(function(r,i){r>t&&e.accumulate(r,c(o(i,n)))}))}));var p,T,D,O,I=r,M=e.get(r),R=n(M);e.forEach(r+1,l-1,(function(e,t){var r=n(t);a(r,R)&&(I=e,R=r,M=t)})),r!==I&&(h._swapRows(r,I,_[1],v,b,w),h._swapRows(r,I,S[1],x,E,C),e.swap(r,I),O=A[T=I],N[D=A[p=r]]=T,N[O]=p,A[p]=O,A[T]=D),e.forEach(0,l-1,(function(e,t){e<=r?(x.push(t),E.push(e)):(t=i(t,M),u(t,0)||(v.push(t),b.push(e)))}))};for(r=0;r<f;r++)T();return C.push(x.length),w.push(v.length),{L:new h({values:v,index:b,ptr:w,size:_}),U:new h({values:x,index:E,ptr:C,size:S}),p:N,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var n=f(t(e));return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}});function f(e){var t,c,h,d=e._size[0],f=e._size[1],p=Math.min(d,f),m=ja(e._data),g=[],y=[d,p],v=[],b=[p,f],w=[];for(t=0;t<d;t++)w[t]=t;for(c=0;c<f;c++){if(c>0)for(t=0;t<d;t++){var _=Math.min(t,c),x=0;for(h=0;h<_;h++)x=r(x,o(m[t][h],m[h][c]));m[t][c]=s(m[t][c],x)}var E=c,C=0,S=0;for(t=c;t<d;t++){var N=m[t][c],A=n(N);a(A,C)&&(E=t,C=A,S=N)}if(c!==E&&(w[c]=[w[E],w[E]=w[c]][0],l._swapRows(c,E,m)),c<d)for(t=c+1;t<d;t++)u(m[t][c],0)||(m[t][c]=i(m[t][c],S))}for(c=0;c<f;c++)for(t=0;t<d;t++)0===c&&(t<f&&(v[t]=[]),g[t]=[]),t<c?(t<f&&(v[t][c]=m[t][c]),c<d&&(g[t][c]=0)):t!==c?(t<f&&(v[t][c]=0),c<d&&(g[t][c]=m[t][c])):(t<f&&(v[t][c]=m[t][c]),c<d&&(g[t][c]=1));var T=new l({data:g,size:y}),D=new l({data:v,size:b}),O=[];for(t=0,p=w.length;t<p;t++)O[w[t]]=t;return{L:T,U:D,p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}));function Pm(){return(Pm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fm=Bu("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],(function(e){var t=e.matrix,n=e.zeros,r=e.identity,i=e.isZero,o=e.equal,s=e.sign,a=e.sqrt,u=e.conj,c=e.unaryMinus,l=e.addScalar,h=e.divideScalar,d=e.multiplyScalar,f=e.subtract,p=e.complex;return Pm((0,e.typed)("qr",{DenseMatrix:function(e){return g(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var n=g(t(e));return{Q:n.Q.valueOf(),R:n.R.valueOf()}}}),{_denseQRimpl:m});function m(e){var t,p,m,g=e._size[0],y=e._size[1],v=r([g],"dense"),b=v._data,w=e.clone(),_=w._data,x=n([g],"");for(m=0;m<Math.min(y,g);++m){var E=_[m][m],C=c(o(E,0)?1:s(E)),S=u(C),N=0;for(t=m;t<g;t++)N=l(N,d(_[t][m],u(_[t][m])));var A=d(C,a(N));if(!i(A)){var T=f(E,A);for(x[m]=1,t=m+1;t<g;t++)x[t]=h(_[t][m],T);var D=c(u(h(T,A))),O=void 0;for(p=m;p<y;p++){for(O=0,t=m;t<g;t++)O=l(O,d(u(x[t]),_[t][p]));for(O=d(O,D),t=m;t<g;t++)_[t][p]=d(f(_[t][p],d(x[t],O)),S)}for(t=0;t<g;t++){for(O=0,p=m;p<g;p++)O=l(O,d(b[t][p],x[p]));for(O=d(O,D),p=m;p<g;++p)b[t][p]=h(f(b[t][p],d(O,u(x[p]))),S)}}}return{Q:v,R:w,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function g(e){var t=m(e),n=t.R._data;if(e._data.length>0)for(var r="Complex"===n[0][0].type?p(0):0,i=0;i<n.length;++i)for(var o=0;o<i&&o<(n[0]||[]).length;++o)n[i][o]=r;return t}}));function jm(e,t,n,r,i,o,s){var a=0;for(n[s]=e;a>=0;){var u=n[s+a],c=n[r+u];-1===c?(a--,o[t++]=u):(n[r+u]=n[i+c],n[s+ ++a]=c)}return t}function Lm(e){return-e-2}var Bm=Bu("csAmd",["add","multiply","transpose"],(function(e){var t=e.add,n=e.multiply,r=e.transpose;return function(e,s){if(!s||e<=0||e>3)return null;var a=s._size,u=a[0],c=a[1],l=0,h=Math.max(16,10*Math.sqrt(c)),d=function(e,i,o,s,a){var u=r(i);if(1===e&&s===o)return t(i,u);if(2===e){for(var c=u._index,l=u._ptr,h=0,d=0;d<o;d++){var f=l[d];if(l[d]=h,!(l[d+1]-f>a))for(var p=l[d+1];f<p;f++)c[h++]=c[f]}return l[o]=h,i=r(u),n(u,i)}return n(u,i)}(e,s,u,c,h=Math.min(c-2,h));!function(e,t,n){for(var r=e._values,i=e._index,o=e._ptr,s=e._size[1],a=0,u=0;u<s;u++){var c=o[u];for(o[u]=a;c<o[u+1];c++)t(i[c],u,r?r[c]:1,null)&&(i[a]=i[c],r&&(r[a]=r[c]),a++)}o[s]=a,i.splice(a,i.length-a),r&&r.splice(a,r.length-a)}(d,o);for(var f,p,m,g,y,v,b,w,_,x,E,C,S,N,A,T,D=d._index,O=d._ptr,I=O[c],M=[],R=[],k=c+1,P=2*(c+1),F=3*(c+1),j=4*(c+1),L=5*(c+1),B=6*(c+1),U=7*(c+1),V=M,q=function(e,t,n,r,o,s,a,u,c,l,h,d){for(var f=0;f<e;f++)n[0+f]=t[f+1]-t[f];n[0+e]=0;for(var p=0;p<=e;p++)n[o+p]=-1,s[p]=-1,n[a+p]=-1,n[u+p]=-1,n[c+p]=1,n[l+p]=1,n[h+p]=0,n[d+p]=n[0+p];var m=i(0,0,n,l,e);return n[h+e]=-2,t[e]=-1,n[l+e]=0,m}(c,O,R,0,F,V,P,U,k,B,j,L),z=function(e,t,n,r,i,o,s,a,u,c,l){for(var h=0,d=0;d<e;d++){var f=n[r+d];if(0===f)n[i+d]=-2,h++,t[d]=-1,n[o+d]=0;else if(f>s)n[a+d]=0,n[i+d]=-1,h++,t[d]=Lm(e),n[a+e]++;else{var p=n[u+f];-1!==p&&(c[p]=d),n[l+d]=n[u+f],n[u+f]=d}}return h}(c,O,R,L,j,B,h,k,F,V,P),H=0;z<c;){for(m=-1;H<c&&-1===(m=R[F+H]);H++);-1!==R[P+m]&&(V[R[P+m]]=-1),R[F+H]=R[P+m];var $=R[j+m],W=R[k+m];z+=W;var Q=0;R[k+m]=-W;var G=O[m],K=0===$?G:I,Z=K;for(g=1;g<=$+1;g++){for(g>$?(v=m,b=G,w=R[0+m]-$):(b=O[v=D[G++]],w=R[0+v]),y=1;y<=w;y++)(_=R[k+(f=D[b++])])<=0||(Q+=_,R[k+f]=-_,D[Z++]=f,-1!==R[P+f]&&(V[R[P+f]]=V[f]),-1!==V[f]?R[P+V[f]]=R[P+f]:R[F+R[L+f]]=R[P+f]);v!==m&&(O[v]=Lm(m),R[B+v]=0)}for(0!==$&&(I=Z),R[L+m]=Q,O[m]=K,R[0+m]=Z-K,R[j+m]=-2,q=i(q,l,R,B,c),x=K;x<Z;x++)if(!((E=R[j+(f=D[x])])<=0)){var Y=q-(_=-R[k+f]);for(G=O[f],C=O[f]+E-1;G<=C;G++)R[B+(v=D[G])]>=q?R[B+v]-=_:0!==R[B+v]&&(R[B+v]=R[L+v]+Y)}for(x=K;x<Z;x++){for(S=(C=O[f=D[x]])+R[j+f]-1,N=C,A=0,T=0,G=C;G<=S;G++)if(0!==R[B+(v=D[G])]){var J=R[B+v]-q;J>0?(T+=J,D[N++]=v,A+=v):(O[v]=Lm(m),R[B+v]=0)}R[j+f]=N-C+1;var X=N,ee=C+R[0+f];for(G=S+1;G<ee;G++){var te=R[k+(p=D[G])];te<=0||(T+=te,D[N++]=p,A+=p)}0===T?(O[f]=Lm(m),Q-=_=-R[k+f],W+=_,z+=_,R[k+f]=0,R[j+f]=-1):(R[L+f]=Math.min(R[L+f],T),D[N]=D[X],D[X]=D[C],D[C]=m,R[0+f]=N-C+1,R[P+f]=R[U+(A=(A<0?-A:A)%c)],R[U+A]=f,V[f]=A)}for(R[L+m]=Q,q=i(q+(l=Math.max(l,Q)),l,R,B,c),x=K;x<Z;x++)if(!(R[k+(f=D[x])]>=0))for(f=R[U+(A=V[f])],R[U+A]=-1;-1!==f&&-1!==R[P+f];f=R[P+f],q++){for(w=R[0+f],E=R[j+f],G=O[f]+1;G<=O[f]+w-1;G++)R[B+D[G]]=q;var ne=f;for(p=R[P+f];-1!==p;){var re=R[0+p]===w&&R[j+p]===E;for(G=O[p]+1;re&&G<=O[p]+w-1;G++)R[B+D[G]]!==q&&(re=0);re?(O[p]=Lm(f),R[k+f]+=R[k+p],R[k+p]=0,R[j+p]=-1,R[P+ne]=p=R[P+p]):(ne=p,p=R[P+p])}}for(G=K,x=K;x<Z;x++)(_=-R[k+(f=D[x])])<=0||(R[k+f]=_,T=R[L+f]+Q-_,-1!==R[F+(T=Math.min(T,c-z-_))]&&(V[R[F+T]]=f),R[P+f]=R[F+T],V[f]=-1,R[F+T]=f,H=Math.min(H,T),R[L+f]=T,D[G++]=f);R[k+m]=W,0==(R[0+m]=G-K)&&(O[m]=-1,R[B+m]=0),0!==$&&(I=G)}for(f=0;f<c;f++)O[f]=Lm(O[f]);for(p=0;p<=c;p++)R[F+p]=-1;for(p=c;p>=0;p--)R[k+p]>0||(R[P+p]=R[F+O[p]],R[F+O[p]]=p);for(v=c;v>=0;v--)R[k+v]<=0||-1!==O[v]&&(R[P+v]=R[F+O[v]],R[F+O[v]]=v);for(m=0,f=0;f<=c;f++)-1===O[f]&&(m=jm(f,m,R,F,P,M,B));return M.splice(M.length-1,1),M};function i(e,t,n,r,i){if(e<2||e+t<0){for(var o=0;o<i;o++)0!==n[r+o]&&(n[r+o]=1);e=2}return e}function o(e,t){return e!==t}}));function Um(e,t,n,r,i,o,s){var a,u,c,l=0;if(e<=t||n[r+t]<=n[i+e])return-1;n[i+e]=n[r+t];var h=n[o+e];if(n[o+e]=t,-1===h)l=1,c=e;else{for(l=2,c=h;c!==n[s+c];c=n[s+c]);for(a=h;a!==c;a=u)u=n[s+a],n[s+a]=c}return{jleaf:l,q:c}}var Vm=Bu("csCounts",["transpose"],(function(e){var t=e.transpose;return function(e,n,r,i){if(!e||!n||!r)return null;var o,s,a,u,c,l,h=e._size,d=h[0],f=h[1],p=4*f+(i?f+d+1:0),m=[],g=f,y=2*f,v=3*f,b=4*f,w=5*f+1;for(a=0;a<p;a++)m[a]=-1;var _=[],x=t(e),E=x._index,C=x._ptr;for(a=0;a<f;a++)for(_[s=r[a]]=-1===m[v+s]?1:0;-1!==s&&-1===m[v+s];s=n[s])m[v+s]=a;if(i){for(a=0;a<f;a++)m[r[a]]=a;for(o=0;o<d;o++){for(a=f,l=C[o+1],c=C[o];c<l;c++)a=Math.min(a,m[E[c]]);m[w+o]=m[b+a],m[b+a]=o}}for(o=0;o<f;o++)m[0+o]=o;for(a=0;a<f;a++){for(-1!==n[s=r[a]]&&_[n[s]]--,u=i?m[b+a]:s;-1!==u;u=i?m[w+u]:-1)for(c=C[u];c<C[u+1];c++){var S=Um(o=E[c],s,m,v,g,y,0);S.jleaf>=1&&_[s]++,2===S.jleaf&&_[S.q]--}-1!==n[s]&&(m[0+s]=n[s])}for(s=0;s<f;s++)-1!==n[s]&&(_[n[s]]+=_[s]);return _}})),qm=Bu("csSqr",["add","multiply","transpose"],(function(e){var t=e.transpose,n=Bm({add:e.add,multiply:e.multiply,transpose:t}),r=Vm({transpose:t});return function(e,t,i){var o,s=t._ptr,a=t._size[1],u={};if(u.q=n(e,t),e&&!u.q)return null;if(i){var c=e?function(e,t,n,r){for(var i=e._index,o=e._ptr,s=e._size,a=e._datatype,u=s[0],c=s[1],l=[],h=[],d=0,f=0;f<c;f++){h[f]=d;for(var p=n?n[f]:f,m=o[p+1],g=o[p];g<m;g++)l[d]=i[g],d++}return h[c]=d,e.createSparseMatrix({values:null,index:l,ptr:h,size:[u,c],datatype:a})}(t,0,u.q):t;u.parent=function(e,t){if(!e)return null;var n,r,i=e._index,o=e._ptr,s=e._size,a=s[0],u=s[1],c=[],l=[],h=u;for(n=0;n<a;n++)l[h+n]=-1;for(var d=0;d<u;d++){c[d]=-1,l[0+d]=-1;for(var f=o[d+1],p=o[d];p<f;p++){var m=i[p];for(n=l[h+m];-1!==n&&n<d;n=r)r=l[0+n],l[0+n]=d,-1===r&&(c[n]=d);l[h+m]=d}}return c}(c);var l=function(e,t){if(!e)return null;var n,r=0,i=[],o=[],s=t,a=2*t;for(n=0;n<t;n++)o[0+n]=-1;for(n=t-1;n>=0;n--)-1!==e[n]&&(o[s+n]=o[0+e[n]],o[0+e[n]]=n);for(n=0;n<t;n++)-1===e[n]&&(r=jm(n,r,o,0,s,i,a));return i}(u.parent,a);if(u.cp=r(c,u.parent,l,1),c&&u.parent&&u.cp&&function(e,t){var n=e._ptr,r=e._index,i=e._size,o=i[0],s=i[1];t.pinv=[],t.leftmost=[];var a,u,c,l,h=t.parent,d=t.pinv,f=t.leftmost,p=[],m=o,g=o+s,y=o+2*s;for(u=0;u<s;u++)p[m+u]=-1,p[g+u]=-1,p[y+u]=0;for(a=0;a<o;a++)f[a]=-1;for(u=s-1;u>=0;u--)for(l=n[u+1],c=n[u];c<l;c++)f[r[c]]=u;for(a=o-1;a>=0;a--)d[a]=-1,-1!==(u=f[a])&&(0==p[y+u]++&&(p[g+u]=a),p[0+a]=p[m+u],p[m+u]=a);for(t.lnz=0,t.m2=o,u=0;u<s;u++)if(a=p[m+u],t.lnz++,a<0&&(a=t.m2++),d[a]=u,!(--y[u]<=0)){t.lnz+=p[y+u];var v=h[u];-1!==v&&(0===p[y+v]&&(p[g+v]=p[g+u]),p[0+p[g+u]]=p[m+v],p[m+v]=p[0+a],p[y+v]+=p[y+u])}for(a=0;a<o;a++)d[a]<0&&(d[a]=u++);return!0}(c,u))for(u.unz=0,o=0;o<a;o++)u.unz+=u.cp[o]}else u.unz=4*s[a]+a,u.lnz=u.unz;return u}}));function zm(e,t){return e[t]<0}function Hm(e,t){e[t]=Lm(e[t])}function $m(e){return e<0?Lm(e):e}function Wm(e,t,n,r,i){var o,s,a,u=t._index,c=t._ptr,l=t._size[1],h=0;for(r[0]=e;h>=0;){e=r[h];var d=i?i[e]:e;zm(c,e)||(Hm(c,e),r[l+h]=d<0?0:$m(c[d]));var f=1;for(s=r[l+h],a=d<0?0:$m(c[d+1]);s<a;s++)if(!zm(c,o=u[s])){r[l+h]=s,r[++h]=o,f=0;break}f&&(h--,r[--n]=e)}return n}var Qm=Bu("csSpsolve",["divideScalar","multiply","subtract"],(function(e){var t=e.divideScalar,n=e.multiply,r=e.subtract;return function(e,i,o,s,a,u,c){var l,h,d,f,p=e._values,m=e._index,g=e._ptr,y=e._size[1],v=i._values,b=i._index,w=i._ptr,_=function(e,t,n,r,i){var o,s,a=e._ptr,u=t._index,c=t._ptr,l=e._size[1],h=l;for(s=c[n+1],o=c[n];o<s;o++){var d=u[o];zm(a,d)||(h=Wm(d,e,h,r,i))}for(o=h;o<l;o++)Hm(a,r[o]);return h}(e,i,o,s,u);for(l=_;l<y;l++)a[s[l]]=0;for(d=w[o+1],l=h=w[o];l<d;l++)a[b[l]]=v[l];for(var x=_;x<y;x++){var E=s[x],C=u?u[E]:E;if(!(C<0))for(h=g[C],d=g[C+1],a[E]=t(a[E],p[c?h:d-1]),l=c?h+1:h,f=c?d:d-1;l<f;l++){var S=m[l];a[S]=r(a[S],n(p[l],a[E]))}}return _}})),Gm=Bu("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],(function(e){var t=e.abs,n=e.divideScalar,r=e.multiply,i=e.larger,o=e.largerEq,s=e.SparseMatrix,a=Qm({divideScalar:n,multiply:r,subtract:e.subtract});return function(e,u,c){if(!e)return null;var l,h=e._size[1],d=100,f=100;u&&(l=u.q,d=u.lnz||d,f=u.unz||f);var p,m,g=[],y=[],v=[],b=new s({values:g,index:y,ptr:v,size:[h,h]}),w=[],_=[],x=[],E=new s({values:w,index:_,ptr:x,size:[h,h]}),C=[],S=[],N=[];for(p=0;p<h;p++)S[p]=0,C[p]=-1,v[p+1]=0;d=0,f=0;for(var A=0;A<h;A++){v[A]=d,x[A]=f;var T=l?l[A]:A,D=a(b,e,T,N,S,C,1),O=-1,I=-1;for(m=D;m<h;m++)if(C[p=N[m]]<0){var M=t(S[p]);i(M,I)&&(I=M,O=p)}else _[f]=C[p],w[f++]=S[p];if(-1===O||I<=0)return null;C[T]<0&&o(t(S[T]),r(I,c))&&(O=T);var R=S[O];for(_[f]=A,w[f++]=R,C[O]=A,y[d]=O,g[d++]=1,m=D;m<h;m++)C[p=N[m]]<0&&(y[d]=p,g[d++]=n(S[p],R)),S[p]=0}for(v[h]=d,x[h]=f,m=0;m<d;m++)y[m]=C[y[m]];return g.splice(d,g.length-d),y.splice(d,y.length-d),w.splice(f,w.length-f),_.splice(f,_.length-f),{L:b,U:E,pinv:C}}})),Km=Bu("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],(function(e){var t=e.typed,n=e.abs,r=e.multiply,i=e.divideScalar,o=e.subtract,s=e.larger,a=e.largerEq,u=e.SparseMatrix,c=qm({add:e.add,multiply:r,transpose:e.transpose}),l=Gm({abs:n,divideScalar:i,multiply:r,subtract:o,larger:s,largerEq:a,SparseMatrix:u});return t("slu",{"SparseMatrix, number, number":function(e,t,n){if(!Wa(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=c(t,e,!1),i=l(e,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}));function Zm(e,t){var n,r=t.length,i=[];if(e)for(n=0;n<r;n++)i[e[n]]=t[n];else for(n=0;n<r;n++)i[n]=t[n];return i}var Ym=Bu("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.lup,i=e.slu,o=e.usolve,s=e.lsolve,a=Yd({DenseMatrix:e.DenseMatrix});return t("lusolve",{"Array, Array | Matrix":function(e,t){e=n(e);var i=r(e);return c(i.L,i.U,i.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var n=r(e);return c(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var n=r(e);return c(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,n,r){var o=i(e,n,r);return c(o.L,o.U,o.p,o.q,t)},"Object, Array | Matrix":function(e,t){return c(e.L,e.U,e.p,e.q,t)}});function u(e){if(ia(e))return e;if(ra(e))return n(e);throw new TypeError("Invalid Matrix LU decomposition")}function c(e,t,n,r,i){e=u(e),t=u(t),i=a(e,i,!1),n&&(i._data=Zm(n,i._data));var c=s(e,i),l=o(t,c);return r&&(l._data=Zm(r,l._data)),l}})),Jm=Bu("Help",["parse"],(function(e){var t=e.parse;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},n="\n";if(e.name&&(n+="Name: "+e.name+"\n\n"),e.category&&(n+="Category: "+e.category+"\n\n"),e.description&&(n+="Description:\n    "+e.description+"\n\n"),e.syntax&&(n+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){n+="Examples:\n";for(var r={},i=0;i<e.examples.length;i++){var o=e.examples[i];n+="    "+o+"\n";var s=void 0;try{s=t(o).compile().evaluate(r)}catch(a){s=a}void 0===s||da(s)||(n+="        "+gu(s,{precision:14})+"\n")}n+="\n"}return e.seealso&&e.seealso.length&&(n+="See also: "+e.seealso.join(", ")+"\n"),n},n.prototype.toJSON=function(){var e=ja(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};return Object.keys(e).filter((function(e){return"mathjs"!==e})).forEach((function(n){t[n]=e[n]})),new n(t)},n.prototype.valueOf=n.prototype.toString,n}),{isClass:!0}),Xm=Bu("Chain",["?on","math"],(function(e){var t=e.on,n=e.math;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=ka(e)?e.value:e}function i(e,t){Va(r.prototype,e,(function(){var e=t();if("function"==typeof e)return o(e)}))}function o(e){return function(){for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];return new r(e.apply(e,t))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return gu(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(e){return new r(e.value)},r.createProxy=function(e,t){if("string"==typeof e)!function(e,t){"function"==typeof t&&(r.prototype[e]=o(t))}(e,t);else{var n=function(t){qa(e,t)&&void 0===s[t]&&i(t,(function(){return e[t]}))};for(var a in e)n(a)}};var s={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(n),t&&t("import",(function(e,t,n){n||i(e,t)})),r}),{isClass:!0}),eg={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},tg={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},ng={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:tg,E:tg,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:eg,PI:eg,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},rg=Bu("help",["typed","mathWithTransform","Help"],(function(e){var t=e.mathWithTransform,n=e.Help;return(0,e.typed)("help",{any:function(e){var r,i=e;if("string"!=typeof e)for(r in t)if(qa(t,r)&&e===t[r]){i=r;break}var o=ud(ng,i);if(!o)throw new Error('No documentation found on "'+("function"==typeof i?i.name:i)+'"');return new n(o)}})})),ig=Bu("chain",["typed","Chain"],(function(e){var t=e.Chain;return(0,e.typed)("chain",{"":function(){return new t},any:function(e){return new t(e)}})})),og=Bu("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(function(e){var t=e.matrix,n=e.subtract,r=e.multiply,i=e.unaryMinus,o=e.lup;return(0,e.typed)("det",{any:function(e){return ja(e)},"Array | Matrix":function(e){var s;switch((s=ia(e)?e.size():Array.isArray(e)?(e=t(e)).size():[]).length){case 0:return ja(e);case 1:if(1===s[0])return ja(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+gu(s)+")");case 2:var a=s[0];if(a===s[1])return function(e,t,s){if(1===t)return ja(e[0][0]);if(2===t)return n(r(e[0][0],e[1][1]),r(e[1][0],e[0][1]));for(var a=o(e),u=a.U[0][0],c=1;c<t;c++)u=r(u,a.U[c][c]);for(var l=0,h=0,d=[];;){for(;d[h];)h++;if(h>=t)break;for(var f=h,p=0;!d[a.p[f]];)d[a.p[f]]=!0,f=a.p[f],p++;p%2==0&&l++}return l%2==0?u:i(u)}(e.clone().valueOf(),a);throw new RangeError("Matrix must be square (size: "+gu(s)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+gu(s)+")")}}})})),sg=Bu("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(function(e){var t=e.matrix,n=e.divideScalar,r=e.addScalar,i=e.multiply,o=e.unaryMinus,s=e.det,a=e.identity,u=e.abs;return(0,e.typed)("inv",{"Array | Matrix":function(e){var r=ia(e)?e.size():xu(e);switch(r.length){case 1:if(1===r[0])return ia(e)?t([n(1,e.valueOf()[0])]):[n(1,e[0])];throw new RangeError("Matrix must be square (size: "+gu(r)+")");case 2:var i=r[0],o=r[1];if(i===o)return ia(e)?t(c(e.valueOf(),i,o),e.storage()):c(e,i,o);throw new RangeError("Matrix must be square (size: "+gu(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+gu(r)+")")}},any:function(e){return n(1,e)}});function c(e,t,c){var l,h,d,f,p;if(1===t){if(0===(f=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,f)]]}if(2===t){var m=s(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[n(e[1][1],m),n(o(e[0][1]),m)],[n(o(e[1][0]),m),n(e[0][0],m)]]}var g=e.concat();for(l=0;l<t;l++)g[l]=g[l].concat();for(var y=a(t).valueOf(),v=0;v<c;v++){var b=u(g[v][v]),w=v;for(l=v+1;l<t;)u(g[l][v])>b&&(b=u(g[l][v]),w=l),l++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(l=w)!==v&&(p=g[v],g[v]=g[l],g[l]=p,p=y[v],y[v]=y[l],y[l]=p);var _=g[v],x=y[v];for(l=0;l<t;l++){var E=g[l],C=y[l];if(l!==v){if(0!==E[v]){for(d=n(o(E[v]),_[v]),h=v;h<c;h++)E[h]=r(E[h],i(d,_[h]));for(h=0;h<c;h++)C[h]=r(C[h],i(d,x[h]))}}else{for(d=_[v],h=v;h<c;h++)E[h]=n(E[h],d);for(h=0;h<c;h++)C[h]=n(C[h],d)}}}return y}})),ag=Bu("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],(function(e){var t=e.config,n=e.matrix,r=e.addScalar,i=e.subtract,o=e.equal,s=e.abs,a=e.atan,u=e.cos,c=e.sin,l=e.multiplyScalar,h=e.inv,d=e.bignumber,f=e.multiply,p=e.add;return(0,e.typed)("eigs",{Array:function(e){var t=n(e),r=t.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+gu(r)+")");var i=m(t,r[0]);return{values:i[0],vectors:i[1]}},Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+gu(t)+")");var r=m(e,t[0]);return{values:n(r[0]),vectors:n(r[1])}}});function m(e,n){var r=e.datatype();if(void 0===r&&(r=e.getDataType()),"number"!==r&&"BigNumber"!==r&&"Fraction"!==r)throw"mixed"===r?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+r+")");if(function(e,t){for(var n=0;n<t;n++)for(var r=n;r<t;r++)if(!o(e[n][r],e[r][n]))throw new TypeError("Input matrix is not symmetric")}(e.toArray(),n),"number"===r)return g(e.toArray());if("Fraction"===r){for(var u=e.toArray(),c=0;c<n;c++)for(var p=c;p<n;p++)u[c][p]=u[c][p].valueOf(),u[p][c]=u[c][p];return g(e.toArray())}return"BigNumber"===r?function(e){for(var n,r=e.length,o=s(t.epsilon/r),u=new Array(r),c=0;c<r;c++)u[c]=C(r,0),u[c][c]=1;for(var p,m,g=x(e);s(g[1])>=s(o);){var y=g[0][0],w=g[0][1];p=e[y][w],void 0,m=i(e[w][w],e[y][y]),e=b(e,n=s(m)<=t.epsilon?d(-1).acos().div(4):l(.5,a(f(2,p,h(m)))),y,w),u=v(u,n,y,w),g=x(e)}for(var _=C(r,0),S=0;S<r;S++)_[S]=e[S][S];return E(ja(_),ja(u))}(e.toArray()):void 0}function g(e){for(var n,r=e.length,i=Math.abs(t.epsilon/r),o=new Array(r),s=0;s<r;s++)o[s]=C(r,0),o[s][s]=1;for(var a=_(e);Math.abs(a[1])>=Math.abs(i);){var u=a[0][0],c=a[0][1];e=w(e,(l=e[u][u],h=e[c][c],d=e[u][c],n=Math.abs(h-l)<=t.epsilon?Math.PI/4:.5*Math.atan(2*d/(h-l))),u,c),o=y(o,n,u,c),a=_(e)}for(var l,h,d,f=C(r,0),p=0;p<r;p++)f[p]=e[p][p];return E(ja(f),ja(o))}function y(e,t,n,r){for(var i=e.length,o=Math.cos(t),s=Math.sin(t),a=C(i,0),u=C(i,0),c=0;c<i;c++)a[c]=o*e[c][n]-s*e[c][r],u[c]=s*e[c][n]+o*e[c][r];for(var l=0;l<i;l++)e[l][n]=a[l],e[l][r]=u[l];return e}function v(e,t,n,o){for(var s=e.length,a=u(t),h=c(t),f=C(s,d(0)),p=C(s,d(0)),m=0;m<s;m++)f[m]=i(l(a,e[m][n]),l(h,e[m][o])),p[m]=r(l(h,e[m][n]),l(a,e[m][o]));for(var g=0;g<s;g++)e[g][n]=f[g],e[g][o]=p[g];return e}function b(e,t,n,o){for(var s=e.length,a=d(u(t)),h=d(c(t)),m=l(a,a),g=l(h,h),y=C(s,d(0)),v=C(s,d(0)),b=f(d(2),a,h,e[n][o]),w=r(i(l(m,e[n][n]),b),l(g,e[o][o])),_=p(l(g,e[n][n]),b,l(m,e[o][o])),x=0;x<s;x++)y[x]=i(l(a,e[n][x]),l(h,e[o][x])),v[x]=r(l(h,e[n][x]),l(a,e[o][x]));e[n][n]=w,e[o][o]=_,e[n][o]=d(0),e[o][n]=d(0);for(var E=0;E<s;E++)E!==n&&E!==o&&(e[n][E]=y[E],e[E][n]=y[E],e[o][E]=v[E],e[E][o]=v[E]);return e}function w(e,t,n,r){for(var i=e.length,o=Math.cos(t),s=Math.sin(t),a=o*o,u=s*s,c=C(i,0),l=C(i,0),h=a*e[n][n]-2*o*s*e[n][r]+u*e[r][r],d=u*e[n][n]+2*o*s*e[n][r]+a*e[r][r],f=0;f<i;f++)c[f]=o*e[n][f]-s*e[r][f],l[f]=s*e[n][f]+o*e[r][f];e[n][n]=h,e[r][r]=d,e[n][r]=0,e[r][n]=0;for(var p=0;p<i;p++)p!==n&&p!==r&&(e[n][p]=c[p],e[p][n]=c[p],e[r][p]=l[p],e[p][r]=l[p]);return e}function _(e){for(var t=e.length,n=0,r=[0,1],i=0;i<t;i++)for(var o=i+1;o<t;o++)Math.abs(n)<Math.abs(e[i][o])&&(n=Math.abs(e[i][o]),r=[i,o]);return[r,n]}function x(e){for(var t=e.length,n=0,r=[0,1],i=0;i<t;i++)for(var o=i+1;o<t;o++)s(n)<s(e[i][o])&&(n=s(e[i][o]),r=[i,o]);return[r,n]}function E(e,t){for(var n=e.length,r=Array(n),i=Array(n),o=0;o<n;o++)i[o]=Array(n);for(var s=0;s<n;s++){for(var a=0,u=e[0],c=0;c<e.length;c++)e[c]<u&&(u=e[a=c]);r[s]=e.splice(a,1)[0];for(var l=0;l<n;l++)i[l][s]=t[l][a],t[l].splice(a,1)}return[ja(r),ja(i)]}function C(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}})),ug=Bu("expm",["typed","abs","add","identity","inv","multiply"],(function(e){var t=e.abs,n=e.add,r=e.identity,i=e.inv,o=e.multiply;return(0,e.typed)("expm",{Matrix:function(e){var a=e.size();if(2!==a.length||a[0]!==a[1])throw new RangeError("Matrix must be square (size: "+gu(a)+")");for(var u=a[0],c=function(e,t){for(var n=0;n<30;n++)for(var r=0;r<=n;r++){var i=n-r;if(s(e,r,i)<1e-15)return{q:r,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var n=e.size()[0],r=0,i=0;i<n;i++){for(var o=0,s=0;s<n;s++)o+=t(e.get([i,s]));r=Math.max(o,r)}return r}(e)),l=c.q,h=c.j,d=o(e,Math.pow(2,-h)),f=r(u),p=r(u),m=1,g=d,y=-1,v=1;v<=l;v++)v>1&&(g=o(g,d),y=-y),f=n(f,o(m=m*(l-v+1)/((2*l-v+1)*v),g)),p=n(p,o(m*y,g));for(var b=o(i(p),f),w=0;w<h;w++)b=o(b,b);return aa(e)?e.createSparseMatrix(b):b}});function s(e,t,n){for(var r=1,i=2;i<=t;i++)r*=i;for(var o=r,s=t+1;s<=2*t;s++)o*=s;var a=o*(2*t+1);return 8*Math.pow(e/Math.pow(2,n),2*t)*r*r/(o*a)}})),cg=Bu("sqrtm",["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],(function(e){var t=e.abs,n=e.add,r=e.multiply,i=e.sqrt,o=e.subtract,s=e.inv,a=e.size,u=e.max,c=e.identity;function l(e){var i,l=0,h=e,d=c(a(e));do{var f=h;if(h=r(.5,n(f,s(d))),d=r(.5,n(d,s(f))),(i=u(t(o(h,f))))>1e-6&&++l>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(i>1e-6);return h}return(0,e.typed)("sqrtm",{"Array | Matrix":function(e){var t=ia(e)?e.size():xu(e);switch(t.length){case 1:if(1===t[0])return i(e);throw new RangeError("Matrix must be square (size: "+gu(t)+")");case 2:if(t[0]===t[1])return l(e);throw new RangeError("Matrix must be square (size: "+gu(t)+")")}}})})),lg=Bu("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(function(e){var t=e.typed,n=e.matrix,r=e.multiply,i=e.divideScalar,o=e.inv,s=Pl({typed:t,equalScalar:e.equalScalar}),a=Il({typed:t});return t("divide",Ba({"Array | Matrix, Array | Matrix":function(e,t){return r(e,o(t))},"DenseMatrix, any":function(e,t){return a(e,t,i,!1)},"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"Array, any":function(e,t){return a(n(e),t,i,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,o(t))}},i.signatures))})),hg=Bu("distance",["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],(function(e){var t=e.addScalar,n=e.subtract,r=e.multiplyScalar,i=e.divideScalar,o=e.unaryMinus,s=e.sqrt,a=e.abs;return(0,e.typed)("distance",{"Array, Array, Array":function(e,t,s){if(2===e.length&&2===t.length&&2===s.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(s))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var a=i(n(s[1],s[0]),n(t[1],t[0])),u=r(r(a,a),t[0]),l=o(r(a,t[0]));return p(e[0],e[1],u,l,e[1])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,s){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(s).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(s))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in s&&"lineTwoPtY"in s){var a=i(n(s.lineTwoPtY,s.lineTwoPtX),n(t.lineOnePtY,t.lineOnePtX)),u=r(r(a,a),t.lineOnePtX),l=o(r(a,t.lineOnePtX));return p(e.pointX,e.pointY,u,l,e.pointX)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return p(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!l(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return m(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(e.length===t.length&&e.length>0){if(!h(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!h(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return g(e,t)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return p(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!l(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!d(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return m(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return g([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!l(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!l(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return g([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&u(e[0][0])&&u(e[0][1])){if(e.some((function(e){return 2!==e.length||!u(e[0])||!u(e[1])})))return!1}else{if(!(3===e[0].length&&u(e[0][0])&&u(e[0][1])&&u(e[0][2])))return!1;if(e.some((function(e){return 3!==e.length||!u(e[0])||!u(e[1])||!u(e[2])})))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],n=[],r=[],i=0;i<e.length-1;i++)for(var o=i+1;o<e.length;o++)2===e[0].length?(n=[e[i][0],e[i][1]],r=[e[o][0],e[o][1]]):3===e[0].length&&(n=[e[i][0],e[i][1],e[i][2]],r=[e[o][0],e[o][1],e[o][2]]),t.push(g(n,r));return t}(e)}});function u(e){return"number"==typeof e||Js(e)}function c(e){return e.constructor!==Array&&(e=f(e)),u(e[0])&&u(e[1])}function l(e){return e.constructor!==Array&&(e=f(e)),u(e[0])&&u(e[1])&&u(e[2])}function h(e){return Array.isArray(e)||(e=f(e)),e.every(u)}function d(e){return e.constructor!==Array&&(e=f(e)),u(e[0])&&u(e[1])&&u(e[2])&&u(e[3])&&u(e[4])&&u(e[5])}function f(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}function p(e,n,o,u,c){var l=a(t(t(r(o,e),r(u,n)),c)),h=s(t(r(o,o),r(u,u)));return i(l,h)}function m(e,o,a,u,c,l,h,d,f){var p=[n(r(n(c,o),f),r(n(l,a),d)),n(r(n(l,a),h),r(n(u,e),f)),n(r(n(u,e),d),r(n(c,o),h))];p=s(t(t(r(p[0],p[0]),r(p[1],p[1])),r(p[2],p[2])));var m=s(t(t(r(h,h),r(d,d)),r(f,f)));return i(p,m)}function g(e,i){for(var o=e.length,a=0,u=0,c=0;c<o;c++)u=n(e[c],i[c]),a=t(r(u,u),a);return s(a)}})),dg=Bu("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],(function(e){var t=e.config,n=e.abs,r=e.add,i=e.addScalar,o=e.matrix,s=e.multiply,a=e.multiplyScalar,u=e.divideScalar,c=e.subtract,l=e.smaller,h=e.equalScalar;return(0,e.typed)("intersect",{"Array, Array, Array":function(e,t,n){if(!p(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&d(e[0])&&d(e[1])&&d(e[2])&&d(e[3])}(n))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,n,r,o,s,l,h,d,f){var p=a(e,l),m=a(r,l),g=a(t,h),y=a(o,h),v=a(n,d),b=a(s,d),w=u(c(c(c(f,p),g),v),c(c(c(i(i(m,y),b),p),g),v));return[i(e,a(w,c(r,e))),i(t,a(w,c(o,t))),i(n,a(w,c(s,n)))]}(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(e,o,d,g){if(2===e.length){if(!f(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!f(d))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!f(g))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,o,h,d){var f=e,p=h,m=c(f,o),g=c(p,d),y=c(a(m[0],g[1]),a(g[0],m[1]));if(l(n(y),t.epsilon))return null;var v=a(g[0],f[1]),b=a(g[1],f[0]),w=a(g[0],p[1]),_=a(g[1],p[0]),x=u(i(c(c(v,b),w),_),y);return r(s(m,x),f)}(e,o,d,g)}if(3===e.length){if(!p(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!p(d))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!p(g))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return w=o[0],_=o[1],x=o[2],D=m(y=e[0],E=d[0],N=g[0],E,v=e[1],C=d[1],A=g[1],C,b=e[2],S=d[2],T=g[2],S),O=m(N,E,w,y,A,C,_,v,T,S,x,b),I=m(y,E,w,y,v,C,_,v,b,S,x,b),M=m(N,E,N,E,A,C,A,C,T,S,T,S),R=m(w,y,w,y,_,v,_,v,x,b,x,b),k=u(c(a(D,O),a(I,M)),c(a(R,M),a(O,O))),P=u(i(D,a(k,O)),M),F=i(y,a(k,c(w,y))),j=i(v,a(k,c(_,v))),L=i(b,a(k,c(x,b))),B=i(E,a(P,c(N,E))),U=i(C,a(P,c(A,C))),V=i(S,a(P,c(T,S))),h(F,B)&&h(j,U)&&h(L,V)?[F,j,L]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var y,v,b,w,_,x,E,C,S,N,A,T,D,O,I,M,R,k,P,F,j,L,B,U,V},"Matrix, Matrix, Matrix":function(e,t,n){return o(this(e.valueOf(),t.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,n,r){return o(this(e.valueOf(),t.valueOf(),n.valueOf(),r.valueOf()))}});function d(e){return"number"==typeof e||Js(e)}function f(e){return 2===e.length&&d(e[0])&&d(e[1])}function p(e){return 3===e.length&&d(e[0])&&d(e[1])&&d(e[2])}function m(e,t,n,r,o,s,u,l,h,d,f,p){var m=a(c(e,t),c(n,r)),g=a(c(o,s),c(u,l)),y=a(c(h,d),c(f,p));return i(i(m,g),y)}})),fg=Bu("sum",["typed","config","add","numeric"],(function(e){var t=e.config,n=e.add,r=e.numeric;return(0,e.typed)("sum",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{return wc(e,t,n)}catch(r){throw Od(r,"sum")}},"...":function(e){if(yc(e))throw new TypeError("Scalar values expected in function sum");return i(e)}});function i(e){var i;return vc(e,(function(e){try{i=void 0===i?e:n(i,e)}catch(t){throw Od(t,"sum",e)}})),void 0===i&&(i=r(0,t.number)),"string"==typeof i&&(i=r(i,t.number)),i}})),pg=Bu("mean",["typed","add","divide"],(function(e){var t=e.add,n=e.divide;return(0,e.typed)("mean",{"Array | Matrix":r,"Array | Matrix, number | BigNumber":function(e,r){try{var i=wc(e,r,t),o=Array.isArray(e)?xu(e):e.size();return n(i,o[r])}catch(s){throw Od(s,"mean")}},"...":function(e){if(yc(e))throw new TypeError("Scalar values expected in function mean");return r(e)}});function r(e){var r,i=0;if(vc(e,(function(e){try{r=void 0===r?e:t(r,e),i++}catch(n){throw Od(n,"mean",e)}})),0===i)throw new Error("Cannot calculate the mean of an empty array");return n(r,i)}})),mg=Bu("median",["typed","add","divide","compare","partitionSelect"],(function(e){var t=e.typed,n=e.add,r=e.divide,i=e.compare,o=e.partitionSelect;function s(e){try{var t=(e=Du(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var n=t/2-1,r=o(e,n+1),s=e[n],c=0;c<n;++c)i(e[c],s)>0&&(s=e[c]);return u(s,r)}var l=o(e,(t-1)/2);return a(l)}catch(h){throw Od(h,"median")}}var a=t({"number | BigNumber | Complex | Unit":function(e){return e}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(n(e,t),2)}});return t("median",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(yc(e))throw new TypeError("Scalar values expected in function median");return s(e)}})})),gg=Bu("mad",["typed","abs","map","median","subtract"],(function(e){var t=e.abs,n=e.map,r=e.median,i=e.subtract;return(0,e.typed)("mad",{"Array | Matrix":o,"...":function(e){return o(e)}});function o(e){if(0===(e=Du(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var o=r(e);return r(n(e,(function(e){return t(i(e,o))})))}catch(s){throw s instanceof TypeError&&-1!==s.message.indexOf("median")?new TypeError(s.message.replace("median","mad")):Od(s,"mad")}}})),yg=Bu("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.add,n=e.subtract,r=e.multiply,i=e.divide,o=e.apply,s=e.isNaN;return(0,e.typed)("variance",{"Array | Matrix":function(e){return a(e,"unbiased")},"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":function(e,t){return u(e,t,"unbiased")},"Array | Matrix, number | BigNumber, string":u,"...":function(e){return a(e,"unbiased")}});function a(e,o){var a=0,u=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(vc(e,(function(e){try{a=t(a,e),u++}catch(n){throw Od(n,"variance",e)}})),0===u)throw new Error("Cannot calculate variance of an empty array");var c=i(a,u);if(a=0,vc(e,(function(e){var i=n(e,c);a=t(a,r(i,i))})),s(a))return a;switch(o){case"uncorrected":return i(a,u);case"biased":return i(a,u+1);case"unbiased":var l=Js(a)?a.mul(0):0;return 1===u?l:i(a,u-1);default:throw new Error('Unknown normalization "'+o+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(e,t,n){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(e,t,(function(e){return a(e,n)}))}catch(r){throw Od(r,"variance")}}})),vg=Bu("quantileSeq",["typed","add","multiply","partitionSelect","compare"],(function(e){var t=e.add,n=e.multiply,r=e.partitionSelect,i=e.compare;function o(e,o,a){var u=Du(e),c=u.length;if(0===c)throw new Error("Cannot calculate quantile of an empty sequence");if(Ys(o)){var l=o*(c-1),h=l%1;if(0===h){var d=a?u[l]:r(u,l);return s(d),d}var f,p,m=Math.floor(l);if(a)f=u[m],p=u[m+1];else{p=r(u,m+1),f=u[m];for(var g=0;g<m;++g)i(u[g],f)>0&&(f=u[g])}return s(f),s(p),t(n(f,1-h),n(p,h))}var y=o.times(c-1);if(y.isInteger()){y=y.toNumber();var v=a?u[y]:r(u,y);return s(v),v}var b,w,_=y.floor(),x=y.minus(_),E=_.toNumber();if(a)b=u[E],w=u[E+1];else{w=r(u,E+1),b=u[E];for(var C=0;C<E;++C)i(u[C],b)>0&&(b=u[C])}s(b),s(w);var S=new x.constructor(1);return t(n(b,S.minus(x)),n(w,x))}var s=(0,e.typed)({"number | BigNumber | Unit":function(e){return e}});return function(e,t,n){var r,i,s;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(oa(e)){if("boolean"==typeof(n=n||!1)){if(i=e.valueOf(),Ys(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return o(i,t,n);if(t>1){if(!Wa(t))throw new Error("N must be a positive integer");var a=t+1;r=new Array(t);for(var u=0;u<t;)r[u]=o(i,++u/a,n);return r}}if(Js(t)){var c=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(s=new c(1),t.lte(s))return new c(o(i,t,n));if(t.gt(s)){if(!t.isInteger())throw new Error("N must be a positive integer");var l=t.toNumber();if(l>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var h=new c(l+1);r=new Array(l);for(var d=0;d<l;)r[d]=new c(o(i,new c(++d).div(h),n));return r}}if(Array.isArray(t)){r=new Array(t.length);for(var f=0;f<r.length;++f){var p=t[f];if(Ys(p)){if(p<0||p>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!Js(p))throw new TypeError("Unexpected type of argument in function quantileSeq");if(s=new p.constructor(1),p.isNegative()||p.gt(s))throw new Error("Probability must be between 0 and 1, inclusive")}r[f]=o(i,p,n)}return r}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}})),bg=Bu("std",["typed","sqrt","variance"],(function(e){var t=e.sqrt,n=e.variance;return(0,e.typed)("std",{"Array | Matrix":r,"Array | Matrix, string":r,"Array | Matrix, number | BigNumber":r,"Array | Matrix, number | BigNumber, string":r,"...":function(e){return r(e)}});function r(e,r){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return t(n.apply(null,arguments))}catch(i){throw i instanceof TypeError&&-1!==i.message.indexOf(" variance")?new TypeError(i.message.replace(" variance"," std")):i}}}));function wg(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return wg(e,n)*wg(n+1,t)}function _g(e,t){if(!Wa(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!Wa(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var n=e-t;return t<n?wg(n+1,e)/wg(1,t):wg(t+1,e)/wg(1,n)}_g.signature="number, number";var xg=Bu("combinations",["typed"],(function(e){return(0,e.typed)("combinations",{"number, number":_g,"BigNumber, BigNumber":function(e,t){var n,r,i=e.constructor,o=e.minus(t),s=new i(1);if(!Eg(e)||!Eg(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(n=s,t.lt(o))for(r=s;r.lte(o);r=r.plus(s))n=n.times(t.plus(r)).dividedBy(r);else for(r=s;r.lte(t);r=r.plus(s))n=n.times(o.plus(r)).dividedBy(r);return n}})}));function Eg(e){return e.isInteger()&&e.gte(0)}var Cg=Bu("combinationsWithRep",["typed"],(function(e){return(0,e.typed)("combinationsWithRep",{"number, number":function(e,t){if(!Wa(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Wa(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?wg(e,e+t-1)/wg(1,t):wg(t+1,e+t-1)/wg(1,e-1)},"BigNumber, BigNumber":function(e,t){var n,r,i=new(0,e.constructor)(1),o=e.minus(i);if(!Sg(e)||!Sg(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(n=i,t.lt(o))for(r=i;r.lte(o);r=r.plus(i))n=n.times(t.plus(r)).dividedBy(r);else for(r=i;r.lte(t);r=r.plus(i))n=n.times(o.plus(r)).dividedBy(r);return n}})}));function Sg(e){return e.isInteger()&&e.gte(0)}function Ng(e){var t;if(Wa(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:wg(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Ng(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,o=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*e))}--e,t=Tg[0];for(var s=1;s<Tg.length;++s)t+=Tg[s]/(e+s);var a=e+Ag+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,e+.5)*Math.exp(-a)*t}Ng.signature="number";var Ag=4.7421875,Tg=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Dg=Bu("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],(function(e){var t=e.config,n=e.multiplyScalar,r=e.pow,i=e.BigNumber,o=e.Complex;return(0,e.typed)("gamma",{number:Ng,Complex:function(e){if(0===e.im)return this(e.re);e=new o(e.re-1,e.im);for(var t=new o(Tg[0],0),i=1;i<Tg.length;++i){var s=e.re+i,a=s*s+e.im*e.im;0!==a?(t.re+=Tg[i]*s/a,t.im+=-Tg[i]*e.im/a):t.re=Tg[i]<0?-1/0:1/0}var u=new o(e.re+Ag+.5,e.im),c=Math.sqrt(2*Math.PI);e.re+=.5;var l=r(u,e);0===l.im?l.re*=c:(0===l.re||(l.re*=c),l.im*=c);var h=Math.exp(-u.re);return u.re=h*Math.cos(-u.im),u.im=h*Math.sin(-u.im),n(n(l,u),t)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new i(1/0):function e(n){if(n<8)return new i([1,1,2,6,24,120,720,5040][n]);var r=t.precision+(0|Math.log(n.toNumber())),o=i.clone({precision:r});if(n%2==1)return n.times(e(new i(n-1)));for(var s=n,a=new o(n),u=n.toNumber();s>2;)a=a.times(u+=s-=2);return new i(a.toPrecision(i.precision))}(e.minus(1));if(!e.isFinite())return new i(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return bc(e,this)}})})),Og=Bu("factorial",["typed","gamma"],(function(e){var t=e.gamma;return(0,e.typed)("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return t(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return t(e.plus(1))},"Array | Matrix":function(e){return bc(e,this)}})})),Ig=Bu("kldivergence",["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],(function(e){var t=e.matrix,n=e.divide,r=e.sum,i=e.multiply,o=e.dotDivide,s=e.log,a=e.isNumeric;return(0,e.typed)("kldivergence",{"Array, Array":function(e,n){return u(t(e),t(n))},"Matrix, Array":function(e,n){return u(e,t(n))},"Array, Matrix":function(e,n){return u(t(e),n)},"Matrix, Matrix":function(e,t){return u(e,t)}});function u(e,t){var u=t.size().length,c=e.size().length;if(u>1)throw new Error("first object must be one dimensional");if(c>1)throw new Error("second object must be one dimensional");if(u!==c)throw new Error("Length of two vectors must be equal");if(0===r(e))throw new Error("Sum of elements in first object must be non zero");if(0===r(t))throw new Error("Sum of elements in second object must be non zero");var l=n(e,r(e)),h=n(t,r(t)),d=r(i(l,s(o(l,h))));return a(d)?d:Number.NaN}})),Mg=Bu("multinomial",["typed","add","divide","multiply","factorial","isInteger","isPositive"],(function(e){var t=e.add,n=e.divide,r=e.multiply,i=e.factorial,o=e.isInteger,s=e.isPositive;return(0,e.typed)("multinomial",{"Array | Matrix":function(e){var a=0,u=1;return vc(e,(function(e){if(!o(e)||!s(e))throw new TypeError("Positive integer value expected in function multinomial");a=t(a,e),u=r(u,i(e))})),n(i(a),u)}})})),Rg=Bu("permutations",["typed","factorial"],(function(e){return(0,e.typed)("permutations",{"number | BigNumber":e.factorial,"number, number":function(e,t){if(!Wa(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!Wa(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return wg(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var n,r;if(!kg(e)||!kg(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=e.mul(0).add(1),r=e.minus(t).plus(1);r.lte(e);r=r.plus(1))n=n.times(r);return n}})}));function kg(e){return e.isInteger()&&e.gte(0)}var Pg=n("rpcZ"),Fg=n.n(Pg),jg=Fg()();function Lg(e){var t,n;return t=null===(n=e)?jg:Fg()(String(n)),function(){return t()}}var Bg=Bu("pickRandom",["typed","config","?on"],(function(e){var t=e.typed,n=e.on,r=Lg(e.config.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(r=Lg(e.randomSeed))})),t({"Array | Matrix":function(e){return i(e)},"Array | Matrix, number":function(e,t){return i(e,t,void 0)},"Array | Matrix, Array":function(e,t){return i(e,void 0,t)},"Array | Matrix, Array | Matrix, number":function(e,t,n){return i(e,n,t)},"Array | Matrix, number, Array | Matrix":function(e,t,n){return i(e,t,n)}});function i(e,t,n){var i=void 0===t;if(i&&(t=1),e=e.valueOf(),n&&(n=n.valueOf()),xu(e).length>1)throw new Error("Only one dimensional vectors supported");var o=0;if(void 0!==n){if(n.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var s=0,a=n.length;s<a;s++){if(!Ys(n[s])||n[s]<0)throw new Error("Weights must be an array of positive numbers");o+=n[s]}}var u=e.length;if(0===u)return[];if(t>=u)return t>1?e:e[0];for(var c,l=[];l.length<t;){if(void 0===n)c=e[Math.floor(r()*u)];else for(var h=r()*o,d=0,f=e.length;d<f;d++)if((h-=n[d])<0){c=e[d];break}-1===l.indexOf(c)&&l.push(c)}return i?l[0]:l}}));function Ug(e,t){var n=[];if((e=e.slice(0)).length>1)for(var r=0,i=e.shift();r<i;r++)n.push(Ug(e,t));else for(var o=0,s=e.shift();o<s;o++)n.push(t());return n}var Vg=Bu("random",["typed","config","?on"],(function(e){var t=e.typed,n=e.on,r=Lg(e.config.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(r=Lg(e.randomSeed))})),t("random",{"":function(){return o(0,1)},number:function(e){return o(0,e)},"number, number":function(e,t){return o(e,t)},"Array | Matrix":function(e){return i(e,0,1)},"Array | Matrix, number":function(e,t){return i(e,0,t)},"Array | Matrix, number, number":function(e,t,n){return i(e,t,n)}});function i(e,t,n){var r=Ug(e.valueOf(),(function(){return o(t,n)}));return ia(e)?e.create(r):r}function o(e,t){return e+r()*(t-e)}})),qg=Bu("randomInt",["typed","config","?on"],(function(e){var t=e.typed,n=e.on,r=Lg(e.config.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(r=Lg(e.randomSeed))})),t("randomInt",{"":function(){return o(0,1)},number:function(e){return o(0,e)},"number, number":function(e,t){return o(e,t)},"Array | Matrix":function(e){return i(e,0,1)},"Array | Matrix, number":function(e,t){return i(e,0,t)},"Array | Matrix, number, number":function(e,t,n){return i(e,t,n)}});function i(e,t,n){var r=Ug(e.valueOf(),(function(){return o(t,n)}));return ia(e)?e.create(r):r}function o(e,t){return Math.floor(e+r()*(t-e))}})),zg=Bu("stirlingS2",["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],(function(e){var t=e.addScalar,n=e.subtract,r=e.multiplyScalar,i=e.divideScalar,o=e.pow,s=e.factorial,a=e.combinations,u=e.isNegative,c=e.isInteger,l=e.larger;return(0,e.typed)("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,h){if(!c(e)||u(e)||!c(h)||u(h))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(l(h,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var d=s(h),f=0,p=0;p<=h;p++){var m=o(-1,n(h,p)),g=a(h,p),y=o(p,e);f=t(f,r(r(g,y),m))}return i(f,d)}})})),Hg=Bu("bellNumbers",["typed","addScalar","isNegative","isInteger","stirlingS2"],(function(e){var t=e.addScalar,n=e.isNegative,r=e.isInteger,i=e.stirlingS2;return(0,e.typed)("bellNumbers",{"number | BigNumber":function(e){if(!r(e)||n(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var o=0,s=0;s<=e;s++)o=t(o,i(e,s));return o}})})),$g=Bu("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],(function(e){var t=e.addScalar,n=e.divideScalar,r=e.multiplyScalar,i=e.combinations,o=e.isNegative,s=e.isInteger;return(0,e.typed)("catalan",{"number | BigNumber":function(e){if(!s(e)||o(e))throw new TypeError("Non-negative integer value expected in function catalan");return n(i(r(e,2),e),t(e,1))}})})),Wg=Bu("composition",["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],(function(e){var t=e.addScalar,n=e.combinations,r=e.isPositive,i=e.isInteger,o=e.larger;return(0,e.typed)("composition",{"number | BigNumber, number | BigNumber":function(e,s){if(!(i(e)&&r(e)&&i(s)&&r(s)))throw new TypeError("Positive integer value expected in function composition");if(o(s,e))throw new TypeError("k must be less than or equal to n in function composition");return n(t(e,-1),t(s,-1))}})})),Qg=Bu("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],(function(e){var t=e.FunctionNode,n=e.OperatorNode,r=e.SymbolNode,i={add:!0,multiply:!0},o={add:!0,multiply:!0};function s(e,t){if(!Oa(e))return!1;var n=e.fn.toString();return t&&qa(t,n)&&qa(t[n],"associative")?t[n].associative:o[n]||!1}function a(e){var t,n=[];return s(e)?(t=e.op,function e(r){for(var i=0;i<r.args.length;i++){var o=r.args[i];Oa(o)&&t===o.op?e(o):n.push(o)}}(e),n):e.args}function u(e){return Oa(e)?function(t){try{return new n(e.op,e.fn,t,e.implicit)}catch(r){return console.error(r),[]}}:function(n){return new t(new r(e.name),n)}}return{createMakeNodeFunction:u,isCommutative:function(e,t){if(!Oa(e))return!0;var n=e.fn.toString();return t&&qa(t,n)&&qa(t[n],"commutative")?t[n].commutative:i[n]||!1},isAssociative:s,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=a(t);for(var n=0;n<t.args.length;n++)e(t.args[n])},allChildren:a,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var n=u(t),r=t.args.length,i=0;i<r;i++)e(t.args[i]);if(r>2&&s(t)){for(var o=t.args.pop();t.args.length>0;)o=n([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var n=u(t),r=t.args.length,i=0;i<r;i++)e(t.args[i]);if(r>2&&s(t)){for(var o=t.args.shift();t.args.length>0;)o=n([o,t.args.shift()]);t.args=o.args}}}}})),Gg=Bu("simplifyCore",["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],(function(e){var t=e.equal,n=e.isZero,r=e.add,i=e.subtract,o=e.multiply,s=e.divide,a=e.pow,u=e.ConstantNode,c=e.OperatorNode,l=e.FunctionNode,h=e.ParenthesisNode,d=new u(0),f=new u(1);return function e(p){if(Oa(p)&&p.isUnary()){var m=e(p.args[0]);if("+"===p.op)return m;if("-"===p.op){if(Oa(m)){if(m.isUnary()&&"-"===m.op)return m.args[0];if(m.isBinary()&&"subtract"===m.fn)return new c("-","subtract",[m.args[1],m.args[0]])}return new c(p.op,p.fn,[m])}}else if(Oa(p)&&p.isBinary()){var g=e(p.args[0]),y=e(p.args[1]);if("+"===p.op){if(Ca(g)){if(n(g.value))return y;if(Ca(y))return new u(r(g.value,y.value))}return Ca(y)&&n(y.value)?g:Oa(y)&&y.isUnary()&&"-"===y.op?new c("-","subtract",[g,y.args[0]]):new c(p.op,p.fn,y?[g,y]:[g])}if("-"===p.op){if(Ca(g)&&y){if(Ca(y))return new u(i(g.value,y.value));if(n(g.value))return new c("-","unaryMinus",[y])}if("subtract"===p.fn)return Ca(y)&&n(y.value)?g:Oa(y)&&y.isUnary()&&"-"===y.op?e(new c("+","add",[g,y.args[0]])):new c(p.op,p.fn,[g,y])}else{if("*"===p.op){if(Ca(g)){if(n(g.value))return d;if(t(g.value,1))return y;if(Ca(y))return new u(o(g.value,y.value))}if(Ca(y)){if(n(y.value))return d;if(t(y.value,1))return g;if(Oa(g)&&g.isBinary()&&g.op===p.op){var v=g.args[0];if(Ca(v)){var b=new u(o(v.value,y.value));return new c(p.op,p.fn,[b,g.args[1]],p.implicit)}}return new c(p.op,p.fn,[y,g],p.implicit)}return new c(p.op,p.fn,[g,y],p.implicit)}if("/"===p.op){if(Ca(g)){if(n(g.value))return d;if(Ca(y)&&(t(y.value,1)||t(y.value,2)||t(y.value,4)))return new u(s(g.value,y.value))}return new c(p.op,p.fn,[g,y])}if("^"===p.op){if(Ca(y)){if(n(y.value))return f;if(t(y.value,1))return g;if(Ca(g))return new u(a(g.value,y.value));if(Oa(g)&&g.isBinary()&&"^"===g.op){var w=g.args[1];if(Ca(w))return new c(p.op,p.fn,[g.args[0],new u(o(w.value,y.value))])}}return new c(p.op,p.fn,[g,y])}}}else{if(Ia(p)){var _=e(p.content);return Ia(_)||Ra(_)||Ca(_)?_:new h(_)}if(Na(p)){var x=p.args.map(e).map((function(e){return Ia(e)?e.content:e}));return new l(e(p.fn),x)}}return p}})),Kg=Bu("simplifyConstant",["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],(function(e){var t=e.typed,n=e.config,r=e.mathWithTransform,i=e.fraction,o=e.bignumber,s=e.ConstantNode,a=e.OperatorNode,u=e.FunctionNode,c=Qg({FunctionNode:u,OperatorNode:a,SymbolNode:e.SymbolNode}),l=c.isCommutative,h=c.isAssociative,d=c.allChildren,f=c.createMakeNodeFunction;function p(e,t,n){try{return y(r[e].apply(null,t),n)}catch(i){return t=t.map((function(e){return ea(e)?e.valueOf():e})),y(r[e].apply(null,t),n)}}var m=t({Fraction:function(e){var t,n=e.s*e.n;return t=n<0?new a("-","unaryMinus",[new s(-n)]):new s(n),1===e.d?t:new a("/","divide",[t,new s(e.d)])},number:function(e){return e<0?v(new s(-e)):new s(e)},BigNumber:function(e){return e<0?v(new s(-e)):new s(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function g(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&i){var n=i(e);if(n.valueOf()===e)return n}return e}var y=t({"string, Object":function(e,t){return"BigNumber"===n.number?(void 0===o&&Jh(),o(e)):"Fraction"===n.number?(void 0===i&&Xh(),i(e)):g(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return g(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:g(e.re,t)}});function v(e){return new a("-","unaryMinus",[e])}function b(e,t,n,r){return t.reduce((function(t,i){if(Ta(t)||Ta(i))Ta(t)?Ta(i)||(i=m(i)):t=m(t);else{try{return p(e,[t,i],r)}catch(o){}t=m(t),i=m(i)}return n([t,i])}))}return function(e,t){var n=function e(t,n){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"!=typeof t.value&&isNaN(t.value)?t:y(t.value,n);case"FunctionNode":if(r[t.name]&&r[t.name].rawArgs)return t;if(-1===["add","multiply"].indexOf(t.name)){var i=t.args.map((function(t){return e(t,n)}));if(!i.some(Ta))try{return p(t.name,i,n)}catch(_){}return i=i.map((function(e){return Ta(e)?e:m(e)})),new u(t.name,i)}case"OperatorNode":var o,s,a=t.fn.toString(),c=f(t);if(Oa(t)&&t.isUnary())s=Ta((o=[e(t.args[0],n)])[0])?c(o):p(a,o,n);else if(h(t))if(o=(o=d(t)).map((function(t){return e(t,n)})),l(a)){for(var g=[],v=[],w=0;w<o.length;w++)Ta(o[w])?v.push(o[w]):g.push(o[w]);g.length>1?(s=b(a,g,c,n),v.unshift(s),s=b(a,v,c,n)):s=b(a,o,c,n)}else s=b(a,o,c,n);else s=b(a,o=t.args.map((function(t){return e(t,n)})),c,n);return s;case"ParenthesisNode":return e(t.content,n);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(t.type))}}(e,t);return Ta(n)?n:m(n)}})),Zg=Bu("resolve",["parse","FunctionNode","OperatorNode","ParenthesisNode"],(function(e){var t=e.parse,n=e.FunctionNode,r=e.OperatorNode,i=e.ParenthesisNode;return function e(o,s){if(!s)return o;if(Ra(o)){var a=s[o.name];if(Ta(a))return e(a,s);if("number"==typeof a)return t(String(a))}else{if(Oa(o)){var u=o.args.map((function(t){return e(t,s)}));return new r(o.op,o.fn,u,o.implicit)}if(Ia(o))return new i(e(o.content,s));if(Na(o)){var c=o.args.map((function(t){return e(t,s)}));return new n(o.name,c)}}return o}}));function Yg(e){return(Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Jg=Bu("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(e){var t=e.typed,n=e.parse,r=e.add,i=e.subtract,o=e.multiply,s=e.divide,a=e.pow,u=e.isZero,c=e.equal,l=e.ConstantNode,h=e.FunctionNode,d=e.OperatorNode,f=e.ParenthesisNode,p=e.SymbolNode,m=Kg({typed:t,config:e.config,mathWithTransform:e.mathWithTransform,fraction:e.fraction,bignumber:e.bignumber,ConstantNode:l,OperatorNode:d,FunctionNode:h,SymbolNode:p}),g=Gg({equal:c,isZero:u,add:r,subtract:i,multiply:o,divide:s,pow:a,ConstantNode:l,OperatorNode:d,FunctionNode:h,ParenthesisNode:f}),y=Zg({parse:n,FunctionNode:h,OperatorNode:d,ParenthesisNode:f}),v=Qg({FunctionNode:h,OperatorNode:d,SymbolNode:p}),b=v.isCommutative,w=v.isAssociative,_=v.flatten,x=v.unflattenr,E=v.unflattenl,C=v.createMakeNodeFunction,S=t("simplify",{string:function(e){return this(n(e),this.rules,{},{})},"string, Object":function(e,t){return this(n(e),this.rules,t,{})},"string, Object, Object":function(e,t,r){return this(n(e),this.rules,t,r)},"string, Array":function(e,t){return this(n(e),t,{},{})},"string, Array, Object":function(e,t,r){return this(n(e),t,r,{})},"string, Array, Object, Object":function(e,t,r,i){return this(n(e),t,r,i)},"Node, Object":function(e,t){return this(e,this.rules,t,{})},"Node, Object, Object":function(e,t,n){return this(e,this.rules,t,n)},Node:function(e){return this(e,this.rules,{},{})},"Node, Array":function(e,t){return this(e,t,{},{})},"Node, Array, Object":function(e,t,n){return this(e,t,n,{})},"Node, Array, Object, Object":function(e,t,r,i){t=function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r],o=void 0,s=Yg(i);switch(s){case"string":var a=i.split("->");if(2!==a.length)throw SyntaxError("Could not parse rule: "+i);i={l:a[0],r:a[1]};case"object":if(o={l:N(n(i.l)),r:N(n(i.r))},i.context&&(o.evaluate=i.context),i.evaluate&&(o.evaluate=n(i.evaluate)),w(o.l)){var u=C(o.l),c=new p("_p"+T++);o.expanded={},o.expanded.l=u([o.l.clone(),c]),_(o.expanded.l),x(o.expanded.l),o.expanded.r=u([o.r,c])}break;case"function":o=i;break;default:throw TypeError("Unsupported type of rule: "+s)}t.push(o)}return t}(t);for(var o=y(e,r),s={},a=(o=N(o)).toString({parenthesis:"all"});!s[a];){s[a]=!0,T=0;for(var u=0;u<t.length;u++)"function"==typeof t[u]?o=t[u](o,i):(_(o),o=D(o,t[u])),E(o);a=o.toString({parenthesis:"all"})}return o}});function N(e){return e.transform((function(e,t,n){return Ia(e)?N(e.content):e}))}S.simplifyCore=g,S.resolve=y;var A={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};S.rules=[g,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},m,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var T=0,D=t("applyRule",{"Node, Object":function(e,t){var n=e;if(n instanceof d||n instanceof h){if(n.args)for(var r=0;r<n.args.length;r++)n.args[r]=D(n.args[r],t)}else n instanceof f&&n.content&&(n.content=D(n.content,t));var i=t.r,o=M(t.l,n)[0];if(!o&&t.expanded&&(i=t.expanded.r,o=M(t.expanded.l,n)[0]),o){var s=n.implicit;n=i.clone(),s&&"implicit"in i&&(n.implicit=!0),n=n.transform((function(e){return e.isSymbolNode&&qa(o.placeholders,e.name)?o.placeholders[e.name].clone():e}))}return n}});function O(e,t){var n={placeholders:{}};if(!e.placeholders&&!t.placeholders)return n;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var r in e.placeholders)if(qa(e.placeholders,r)&&(n.placeholders[r]=e.placeholders[r],qa(t.placeholders,r)&&!R(e.placeholders[r],t.placeholders[r])))return null;for(var i in t.placeholders)qa(t.placeholders,i)&&(n.placeholders[i]=t.placeholders[i]);return n}function I(e,t){var n,r=[];if(0===e.length||0===t.length)return r;for(var i=0;i<e.length;i++)for(var o=0;o<t.length;o++)(n=O(e[i],t[o]))&&r.push(n);return r}function M(e,t,n){var r=[{placeholders:{}}];if(e instanceof d&&t instanceof d||e instanceof h&&t instanceof h){if(e instanceof d){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof h&&e.name!==t.name)return[];if((1!==t.args.length||1!==e.args.length)&&w(t)&&!n){if(t.args.length>=2&&2===e.args.length){for(var i=function(e,t){var n,r,i=[],o=C(e);if(b(e,t))for(var s=0;s<e.args.length;s++)(r=e.args.slice(0)).splice(s,1),n=1===r.length?r[0]:o(r),i.push(o([e.args[s],n]));else n=1===(r=e.args.slice(1)).length?r[0]:o(r),i.push(o([e.args[0],n]));return i}(t,e.context),o=[],s=0;s<i.length;s++){var a=M(e,i[s],!0);o=o.concat(a)}return o}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var u=[],f=0;f<e.args.length;f++){var m=M(e.args[f],t.args[f]);if(0===m.length)return[];u.push(m)}r=function(e){if(0===e.length)return e;for(var t=e.reduce(I),n=[],r={},i=0;i<t.length;i++){var o=JSON.stringify(t[i]);r[o]||(r[o]=!0,n.push(t[i]))}return n}(u)}else if(e instanceof p){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(A[e.name]){if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))r[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(Ca(t))return[];r[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof l))return[];r[0].placeholders[e.name]=t}}else{if(!(e instanceof l))return[];if(!c(e.value,t.value))return[]}return r}function R(e,t){if(e instanceof l&&t instanceof l){if(!c(e.value,t.value))return!1}else if(e instanceof p&&t instanceof p){if(e.name!==t.name)return!1}else{if(!(e instanceof d&&t instanceof d||e instanceof h&&t instanceof h))return!1;if(e instanceof d){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof h&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++)if(!R(e.args[n],t.args[n]))return!1}return!0}return S})),Xg=Bu("derivative",["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(e){var t=e.typed,n=e.config,r=e.parse,i=e.simplify,o=e.equal,s=e.isZero,a=e.numeric,u=e.ConstantNode,c=e.FunctionNode,l=e.OperatorNode,h=e.ParenthesisNode,d=e.SymbolNode,f=t("derivative",{"Node, SymbolNode, Object":function(e,t,n){var r={};m(r,e,t.name);var o=g(e,r);return n.simplify?i(o):o},"Node, SymbolNode":function(e,t){return this(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return this(r(e),t)},"string, SymbolNode, Object":function(e,t,n){return this(r(e),t,n)},"string, string":function(e,t){return this(r(e),r(t))},"string, string, Object":function(e,t,n){return this(r(e),r(t),n)},"Node, string":function(e,t){return this(e,r(t))},"Node, string, Object":function(e,t,n){return this(e,r(t),n)}});f._simplify=!0,f.toTex=function(e){return p.apply(null,e.args)};var p=t("_derivTex",{"Node, SymbolNode":function(e,t){return Ca(e)&&"string"===Pa(e.value)?p(r(e.value).toString(),t.toString(),1):p(e.toString(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===Pa(t.value))return p(e,r(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,n){return p(e.toString(),t.name,n.value)},"string, string, number":function(e,t,n){return(1===n?"{d\\over d"+t+"}":"{d^{"+n+"}\\over d"+t+"^{"+n+"}}")+"\\left[".concat(e,"\\right]")}}),m=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,n){return t.name!==n&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,n){return m(e,t.content,n)},"Object, FunctionAssignmentNode, string":function(e,t,n){return-1===t.params.indexOf(n)?(e[t]=!0,!0):m(e,t.expr,n)},"Object, FunctionNode | OperatorNode, string":function(e,t,n){if(t.args.length>0){for(var r=m(e,t.args[0],n),i=1;i<t.args.length;++i)r=m(e,t.args[i],n)&&r;if(r)return e[t]=!0,!0}return!1}}),g=t("_derivative",{"ConstantNode, Object":function(e){return y(0)},"SymbolNode, Object":function(e,t){return y(void 0!==t[e]?0:1)},"ParenthesisNode, Object":function(e,t){return new h(g(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?y(0):g(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if("log"!==e.name&&"nthRoot"!==e.name&&"pow"!==e.name||2!==e.args.length){for(var t=0;t<e.args.length;++t)e.args[t]=y(0);throw e.compile().evaluate(),new Error("Expected TypeError, but none found")}}(e),void 0!==t[e])return y(0);var n,r,i,o,s=e.args[0],a=!1,u=!1;switch(e.name){case"cbrt":a=!0,r=new l("*","multiply",[y(3),new l("^","pow",[s,new l("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)a=!0,r=new l("*","multiply",[y(2),new c("sqrt",[s])]);else if(2===e.args.length)return t[n=new l("/","divide",[y(1),e.args[1]])]=t[e.args[1]],g(new l("^","pow",[s,n]),t);break;case"log10":n=y(10);case"log":if(n||1!==e.args.length){if(1===e.args.length&&n||2===e.args.length&&void 0!==t[e.args[1]])r=new l("*","multiply",[s.clone(),new c("log",[n||e.args[1]])]),a=!0;else if(2===e.args.length)return g(new l("/","divide",[new c("log",[s]),new c("log",[e.args[1]])]),t)}else r=s.clone(),a=!0;break;case"pow":return t[n]=t[e.args[1]],g(new l("^","pow",[s,e.args[1]]),t);case"exp":r=new c("exp",[s.clone()]);break;case"sin":r=new c("cos",[s.clone()]);break;case"cos":r=new l("-","unaryMinus",[new c("sin",[s.clone()])]);break;case"tan":r=new l("^","pow",[new c("sec",[s.clone()]),y(2)]);break;case"sec":r=new l("*","multiply",[e,new c("tan",[s.clone()])]);break;case"csc":u=!0,r=new l("*","multiply",[e,new c("cot",[s.clone()])]);break;case"cot":u=!0,r=new l("^","pow",[new c("csc",[s.clone()]),y(2)]);break;case"asin":a=!0,r=new c("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[s.clone(),y(2)])])]);break;case"acos":a=!0,u=!0,r=new c("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[s.clone(),y(2)])])]);break;case"atan":a=!0,r=new l("+","add",[new l("^","pow",[s.clone(),y(2)]),y(1)]);break;case"asec":a=!0,r=new l("*","multiply",[new c("abs",[s.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[s.clone(),y(2)]),y(1)])])]);break;case"acsc":a=!0,u=!0,r=new l("*","multiply",[new c("abs",[s.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[s.clone(),y(2)]),y(1)])])]);break;case"acot":a=!0,u=!0,r=new l("+","add",[new l("^","pow",[s.clone(),y(2)]),y(1)]);break;case"sinh":r=new c("cosh",[s.clone()]);break;case"cosh":r=new c("sinh",[s.clone()]);break;case"tanh":r=new l("^","pow",[new c("sech",[s.clone()]),y(2)]);break;case"sech":u=!0,r=new l("*","multiply",[e,new c("tanh",[s.clone()])]);break;case"csch":u=!0,r=new l("*","multiply",[e,new c("coth",[s.clone()])]);break;case"coth":u=!0,r=new l("^","pow",[new c("csch",[s.clone()]),y(2)]);break;case"asinh":a=!0,r=new c("sqrt",[new l("+","add",[new l("^","pow",[s.clone(),y(2)]),y(1)])]);break;case"acosh":a=!0,r=new c("sqrt",[new l("-","subtract",[new l("^","pow",[s.clone(),y(2)]),y(1)])]);break;case"atanh":a=!0,r=new l("-","subtract",[y(1),new l("^","pow",[s.clone(),y(2)])]);break;case"asech":a=!0,u=!0,r=new l("*","multiply",[s.clone(),new c("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[s.clone(),y(2)])])])]);break;case"acsch":a=!0,u=!0,r=new l("*","multiply",[new c("abs",[s.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[s.clone(),y(2)]),y(1)])])]);break;case"acoth":a=!0,u=!0,r=new l("-","subtract",[y(1),new l("^","pow",[s.clone(),y(2)])]);break;case"abs":r=new l("/","divide",[new c(new d("abs"),[s.clone()]),s.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}a?(i="/",o="divide"):(i="*",o="multiply");var h=g(s,t);return u&&(h=new l("-","unaryMinus",[h])),new l(i,o,[h,r])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return y(0);if("+"===e.op)return new l(e.op,e.fn,e.args.map((function(e){return g(e,t)})));if("-"===e.op){if(e.isUnary())return new l(e.op,e.fn,[g(e.args[0],t)]);if(e.isBinary())return new l(e.op,e.fn,[g(e.args[0],t),g(e.args[1],t)])}if("*"===e.op){var n=e.args.filter((function(e){return void 0!==t[e]}));if(n.length>0){var r=e.args.filter((function(e){return void 0===t[e]})),i=1===r.length?r[0]:new l("*","multiply",r),a=n.concat(g(i,t));return new l("*","multiply",a)}return new l("+","add",e.args.map((function(n){return new l("*","multiply",e.args.map((function(e){return e===n?g(e,t):e.clone()})))})))}if("/"===e.op&&e.isBinary()){var u=e.args[0],h=e.args[1];return void 0!==t[h]?new l("/","divide",[g(u,t),h]):void 0!==t[u]?new l("*","multiply",[new l("-","unaryMinus",[u]),new l("/","divide",[g(h,t),new l("^","pow",[h.clone(),y(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[g(u,t),h.clone()]),new l("*","multiply",[u.clone(),g(h,t)])]),new l("^","pow",[h.clone(),y(2)])])}if("^"===e.op&&e.isBinary()){var d=e.args[0],f=e.args[1];if(void 0!==t[d])return Ca(d)&&(s(d.value)||o(d.value,1))?y(0):new l("*","multiply",[e,new l("*","multiply",[new c("log",[d.clone()]),g(f.clone(),t)])]);if(void 0!==t[f]){if(Ca(f)){if(s(f.value))return y(0);if(o(f.value,1))return g(d,t)}var p=new l("^","pow",[d.clone(),new l("-","subtract",[f,y(1)])]);return new l("*","multiply",[f.clone(),new l("*","multiply",[g(d,t),p])])}return new l("*","multiply",[new l("^","pow",[d.clone(),f.clone()]),new l("+","add",[new l("*","multiply",[g(d,t),new l("/","divide",[f.clone(),d.clone()])]),new l("*","multiply",[g(f,t),new c("log",[d.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function y(e,t){return new u(a(e,t||n.number))}return f})),ey=Bu("rationalize",["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],(function(e){var t=e.typed,n=e.equal,r=e.isZero,i=e.add,o=e.subtract,s=e.multiply,a=e.divide,u=e.pow,c=e.parse,l=e.simplify,h=e.ConstantNode,d=e.OperatorNode,f=e.FunctionNode,p=e.SymbolNode,m=e.ParenthesisNode,g=Kg({typed:t,config:e.config,mathWithTransform:e.mathWithTransform,fraction:e.fraction,bignumber:e.bignumber,ConstantNode:h,OperatorNode:d,FunctionNode:f,SymbolNode:p}),y=Gg({equal:n,isZero:r,add:i,subtract:o,multiply:s,divide:a,pow:u,ConstantNode:h,OperatorNode:d,FunctionNode:f,ParenthesisNode:m});return t("rationalize",{string:function(e){return this(c(e),{},!1)},"string, boolean":function(e,t){return this(c(e),{},t)},"string, Object":function(e,t){return this(c(e),t,!1)},"string, Object, boolean":function(e,t,n){return this(c(e),t,n)},Node:function(e){return this(e,{},!1)},"Node, boolean":function(e,t){return this(e,{},t)},"Node, Object":function(e,t){return this(e,t,!1)},"Node, Object, boolean":function(e,t,n){var r=function(){var e=[y,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},g,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],n=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],r={};return r.firstRules=e.concat(t,n),r.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],r.sucDivRules=n,r.firstRulesAgain=e.concat(t),r.finalRules=[y,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},g,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],r}(),i=function(e,t,n,r){var i=[],o=l(e,r,t,{exactFractions:!1}),s="+-*"+((n=!!n)?"/":"");!function e(t){var n=t.type;if("FunctionNode"===n)throw new Error("There is an unsolved function call");if("OperatorNode"===n)if("^"===t.op){if("ConstantNode"!==t.args[1].type||!Wa(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if(-1===s.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var r=0;r<t.args.length;r++)e(t.args[r])}else if("SymbolNode"===n){var o=t.name;-1===i.indexOf(o)&&i.push(o)}else if("ParenthesisNode"===n)e(t.content);else if("ConstantNode"!==n)throw new Error("type "+n+" is not allowed in polynomial expression")}(o);var a={};return a.expression=o,a.variables=i,a}(e,t,!0,r.firstRules),o=i.variables.length;if(e=i.expression,o>=1){var s,a;e=function e(t,n,r){var i=t.type,o=arguments.length>1;if("OperatorNode"===i&&t.isBinary()){var s,a=!1;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(a=(s=parseFloat(t.args[1].value))>=2&&Wa(s))),a){if(s>2){var u=t.args[0],c=new d("^","pow",[t.args[0].cloneDeep(),new h(s-1)]);t=new d("*","multiply",[u,c])}else t=new d("*","multiply",[t.args[0],t.args[0].cloneDeep()]);o&&("content"===r?n.content=t:n.args[r]=t)}}if("ParenthesisNode"===i)e(t.content,t,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var l=0;l<t.args.length;l++)e(t.args[l],t,l);if(!o)return t}(e);var u,c=!0,f=!1;for(e=l(e,r.firstRules,{},{exactFractions:!1});a=c?r.distrDivRules:r.sucDivRules,c=!c,(u=(e=l(e,a)).toString())!==s;)f=!0,s=u;f&&(e=l(e,r.firstRulesAgain,{},{exactFractions:!1})),e=l(e,r.finalRules,{},{exactFractions:!1})}var p=[],m={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===o&&(e.args[0]=v(e.args[0],p),e.args[1]=v(e.args[1])),n&&(m.numerator=e.args[0],m.denominator=e.args[1])):(1===o&&(e=v(e,p)),n&&(m.numerator=e,m.denominator=null)),n?(m.coefficients=p,m.variables=i.variables,m.expression=e,m):e}});function v(e,t){void 0===t&&(t=[]),t[0]=0;var n=0,r="";!function e(i,o,s){var a=i.type;if("FunctionNode"===a)throw new Error("There is an unsolved function call");if("OperatorNode"===a){if(-1==="+-*^".indexOf(i.op))throw new Error("Operator "+i.op+" invalid");if(null!==o){if(("unaryMinus"===i.fn||"pow"===i.fn)&&"add"!==o.fn&&"subtract"!==o.fn&&"multiply"!==o.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"multiply"===i.fn)&&"add"!==o.fn&&"subtract"!==o.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"unaryMinus"===i.fn)&&0!==s.noFil)throw new Error("Invalid "+i.op+" placing")}"^"!==i.op&&"*"!==i.op||(s.fire=i.op);for(var u=0;u<i.args.length;u++)"unaryMinus"===i.fn&&(s.oper="-"),"+"!==i.op&&"subtract"!==i.fn||(s.fire="",s.cte=1,s.oper=0===u?"+":i.op),s.noFil=u,e(i.args[u],i,s)}else if("SymbolNode"===a){if(i.name!==r&&""!==r)throw new Error("There is more than one variable");if(r=i.name,null===o)return void(t[1]=1);if("^"===o.op&&0!==s.noFil)throw new Error("In power the variable should be the first parameter");if("*"===o.op&&1!==s.noFil)throw new Error("In multiply the variable should be the second parameter");""!==s.fire&&"*"!==s.fire||(n<1&&(t[1]=0),t[1]+=s.cte*("+"===s.oper?1:-1),n=Math.max(1,n))}else{if("ConstantNode"!==a)throw new Error("Type "+a+" is not allowed");var c=parseFloat(i.value);if(null===o)return void(t[0]=c);if("^"===o.op){if(1!==s.noFil)throw new Error("Constant cannot be powered");if(!Wa(c)||c<=0)throw new Error("Non-integer exponent is not allowed");for(var l=n+1;l<c;l++)t[l]=0;return c>n&&(t[c]=0),t[c]+=s.cte*("+"===s.oper?1:-1),void(n=Math.max(c,n))}s.cte=c,""===s.fire&&(t[0]+=s.cte*("+"===s.oper?1:-1))}}(e,null,{cte:1,oper:"+",fire:""});for(var i,o=!0,s=n=t.length-1;s>=0;s--)if(0!==t[s]){var a=new h(o?t[s]:Math.abs(t[s])),u=t[s]<0?"-":"+";if(s>0){var c=new p(r);if(s>1){var l=new h(s);c=new d("^","pow",[c,l])}a=-1===t[s]&&o?new d("-","unaryMinus",[c]):1===Math.abs(t[s])?c:new d("*","multiply",[a,c])}i=o?a:"+"===u?new d("+","add",[i,a]):new d("-","subtract",[i,a]),o=!1}return o?new h(0):i}})),ty=Bu("reviver",["classes"],(function(e){var t=e.classes;return function(e,n){var r=t[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}})),ny=Bu("replacer",[],(function(){return function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}})),ry=Math.PI,iy=2*Math.PI,oy=Math.E,sy=Bu("true",[],(function(){return!0})),ay=Bu("false",[],(function(){return!1})),uy=Bu("null",[],(function(){return null})),cy=Sy("Infinity",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(1/0):1/0})),ly=Sy("NaN",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(NaN):NaN})),hy=Sy("pi",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?Df(e.BigNumber):ry})),dy=Sy("tau",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?Of(e.BigNumber):iy})),fy=Sy("e",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?Af(e.BigNumber):oy})),py=Sy("phi",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?Tf(e.BigNumber):1.618033988749895})),my=Sy("LN2",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(2).ln():Math.LN2})),gy=Sy("LN10",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(10).ln():Math.LN10})),yy=Sy("LOG2E",["config","?BigNumber"],(function(e){var t=e.BigNumber;return"BigNumber"===e.config.number?new t(1).div(new t(2).ln()):Math.LOG2E})),vy=Sy("LOG10E",["config","?BigNumber"],(function(e){var t=e.BigNumber;return"BigNumber"===e.config.number?new t(1).div(new t(10).ln()):Math.LOG10E})),by=Sy("SQRT1_2",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)("0.5").sqrt():Math.SQRT1_2})),wy=Sy("SQRT2",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(2).sqrt():Math.SQRT2})),_y=Sy("i",["Complex"],(function(e){return e.Complex.I})),xy=Bu("PI",["pi"],(function(e){return e.pi})),Ey=Bu("E",["e"],(function(e){return e.e})),Cy=Bu("version",[],(function(){return"7.2.0"}));function Sy(e,t,n){return Bu(e,t,n,{recreateOnConfigChange:!0})}var Ny=xv("speedOfLight","299792458","m s^-1"),Ay=xv("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Ty=xv("planckConstant","6.62607015e-34","J s"),Dy=xv("reducedPlanckConstant","1.0545718176461565e-34","J s"),Oy=xv("magneticConstant","1.25663706212e-6","N A^-2"),Iy=xv("electricConstant","8.8541878128e-12","F m^-1"),My=xv("vacuumImpedance","376.730313667","ohm"),Ry=xv("coulomb","8.987551792261171e9","N m^2 C^-2"),ky=xv("elementaryCharge","1.602176634e-19","C"),Py=xv("bohrMagneton","9.2740100783e-24","J T^-1"),Fy=xv("conductanceQuantum","7.748091729863649e-5","S"),jy=xv("inverseConductanceQuantum","12906.403729652257","ohm"),Ly=xv("magneticFluxQuantum","2.0678338484619295e-15","Wb"),By=xv("nuclearMagneton","5.0507837461e-27","J T^-1"),Uy=xv("klitzing","25812.807459304513","ohm"),Vy=xv("bohrRadius","5.29177210903e-11","m"),qy=xv("classicalElectronRadius","2.8179403262e-15","m"),zy=xv("electronMass","9.1093837015e-31","kg"),Hy=xv("fermiCoupling","1.1663787e-5","GeV^-2"),$y=Ev("fineStructure",.0072973525693),Wy=xv("hartreeEnergy","4.3597447222071e-18","J"),Qy=xv("protonMass","1.67262192369e-27","kg"),Gy=xv("deuteronMass","3.3435830926e-27","kg"),Ky=xv("neutronMass","1.6749271613e-27","kg"),Zy=xv("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Yy=xv("rydberg","10973731.568160","m^-1"),Jy=xv("thomsonCrossSection","6.6524587321e-29","m^2"),Xy=Ev("weakMixingAngle",.2229),ev=Ev("efimovFactor",22.7),tv=xv("atomicMass","1.66053906660e-27","kg"),nv=xv("avogadro","6.02214076e23","mol^-1"),rv=xv("boltzmann","1.380649e-23","J K^-1"),iv=xv("faraday","96485.33212331001","C mol^-1"),ov=xv("firstRadiation","3.7417718521927573e-16","W m^2"),sv=xv("loschmidt","2.686780111798444e25","m^-3"),av=xv("gasConstant","8.31446261815324","J K^-1 mol^-1"),uv=xv("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),cv=xv("molarVolume","0.022413969545014137","m^3 mol^-1"),lv=Ev("sackurTetrode",-1.16487052358),hv=xv("secondRadiation","0.014387768775039337","m K"),dv=xv("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),fv=xv("wienDisplacement","2.897771955e-3","m K"),pv=xv("molarMass","0.99999999965e-3","kg mol^-1"),mv=xv("molarMassC12","11.9999999958e-3","kg mol^-1"),gv=xv("gravity","9.80665","m s^-2"),yv=xv("planckLength","1.616255e-35","m"),vv=xv("planckMass","2.176435e-8","kg"),bv=xv("planckTime","5.391245e-44","s"),wv=xv("planckCharge","1.87554603778e-18","C"),_v=xv("planckTemperature","1.416785e+32","K");function xv(e,t,n){return Bu(e,["config","Unit","BigNumber"],(function(e){var r=new(0,e.Unit)("BigNumber"===e.config.number?new(0,e.BigNumber)(t):parseFloat(t),n);return r.fixPrefix=!0,r}))}function Ev(e,t){return Bu(e,["config","BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(t):t}))}var Cv=Bu("apply",["typed","isInteger"],(function(e){var t=e.typed,n=yl({typed:t,isInteger:e.isInteger});return t("apply",{"...any":function(e){var t=e[1];Ys(t)?e[1]=t-1:Js(t)&&(e[1]=t.minus(1));try{return n.apply(null,e)}catch(r){throw Qp(r)}}})}),{isTransformFunction:!0}),Sv=Bu("column",["typed","Index","matrix","range"],(function(e){var t=e.typed,n=kh({typed:t,Index:e.Index,matrix:e.matrix,range:e.range});return t("column",{"...any":function(e){var t=e.length-1,r=e[t];Ys(r)&&(e[t]=r-1);try{return n.apply(null,e)}catch(i){throw Qp(i)}}})}),{isTransformFunction:!0});function Nv(e,t,n){var r=e.filter((function(e){return Ra(e)&&!(e.name in t)&&!(e.name in n)}))[0];if(!r)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=r.name,o=Object.create(n),s=e.compile();return function(e){return o[i]=e,s.evaluate(o)}}var Av=Bu("filter",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=Ra(e[1])||Sa(e[1])?e[1].compile().evaluate(n):Nv(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("filter",{"Array, function":Tv,"Matrix, function":function(e,t){return e.create(Tv(e.toArray(),t))},"Array, RegExp":Ru,"Matrix, RegExp":function(e,t){return e.create(Ru(e.toArray(),t))}});return n}),{isTransformFunction:!0});function Tv(e,t){var n=Bh(t);return Mu(e,(function(e,r,i){return 1===n?t(e):2===n?t(e,[r+1]):t(e,[r+1],i)}))}var Dv=Bu("forEach",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=Ra(e[1])||Sa(e[1])?e[1].compile().evaluate(n):Nv(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("forEach",{"Array | Matrix, function":function(e,t){var n=Bh(t);!function r(i,o){Array.isArray(i)?Iu(i,(function(e,t){r(e,o.concat(t+1))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e.valueOf(),[])}});return n}),{isTransformFunction:!0}),Ov=Bu("index",["Index"],(function(e){var t=e.Index;return function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(ua(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map((function(e){return e-1}));else if(ra(i)||ia(i))i=i.map((function(e){return e-1}));else if(Ys(i))i--;else if(Js(i))i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[n]=i}var o=new t;return t.apply(o,e),o}}),{isTransformFunction:!0}),Iv=Bu("map",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=Ra(e[1])||Sa(e[1])?e[1].compile().evaluate(n):Nv(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("map",{"Array, function":function(e,t){return Mv(e,t,e)},"Matrix, function":function(e,t){return e.create(Mv(e.valueOf(),t,e))}});return n}),{isTransformFunction:!0});function Mv(e,t,n){var r=Bh(t);return function e(i,o){return Array.isArray(i)?Ou(i,(function(t,n){return e(t,o.concat(n+1))})):1===r?t(i):2===r?t(i,o):t(i,o,n)}(e,[])}var Rv=Bu("max",["typed","config","numeric","larger"],(function(e){var t=e.typed,n=_f({typed:t,config:e.config,numeric:e.numeric,larger:e.larger});return t("max",{"...any":function(e){if(2===e.length&&oa(e[0])){var t=e[1];Ys(t)?e[1]=t-1:Js(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw Qp(r)}}})}),{isTransformFunction:!0}),kv=Bu("mean",["typed","add","divide"],(function(e){var t=e.typed,n=pg({typed:t,add:e.add,divide:e.divide});return t("mean",{"...any":function(e){if(2===e.length&&oa(e[0])){var t=e[1];Ys(t)?e[1]=t-1:Js(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw Qp(r)}}})}),{isTransformFunction:!0}),Pv=Bu("min",["typed","config","numeric","smaller"],(function(e){var t=e.typed,n=xf({typed:t,config:e.config,numeric:e.numeric,smaller:e.smaller});return t("min",{"...any":function(e){if(2===e.length&&oa(e[0])){var t=e[1];Ys(t)?e[1]=t-1:Js(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw Qp(r)}}})}),{isTransformFunction:!0}),Fv=Bu("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.typed,n=td({typed:t,config:e.config,matrix:e.matrix,bignumber:e.bignumber,smaller:e.smaller,smallerEq:e.smallerEq,larger:e.larger,largerEq:e.largerEq});return t("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),n.apply(null,e)}})}),{isTransformFunction:!0}),jv=Bu("row",["typed","Index","matrix","range"],(function(e){var t=e.typed,n=id({typed:t,Index:e.Index,matrix:e.matrix,range:e.range});return t("row",{"...any":function(e){var t=e.length-1,r=e[t];Ys(r)&&(e[t]=r-1);try{return n.apply(null,e)}catch(i){throw Qp(i)}}})}),{isTransformFunction:!0}),Lv=Bu("subset",["typed","matrix"],(function(e){var t=e.typed,n=md({typed:t,matrix:e.matrix});return t("subset",{"...any":function(e){try{return n.apply(null,e)}catch(t){throw Qp(t)}}})}),{isTransformFunction:!0}),Bv=Bu("concat",["typed","matrix","isInteger"],(function(e){var t=e.typed,n=Mh({typed:t,matrix:e.matrix,isInteger:e.isInteger});return t("concat",{"...any":function(e){var t=e.length-1,r=e[t];Ys(r)?e[t]=r-1:Js(r)&&(e[t]=r.minus(1));try{return n.apply(null,e)}catch(i){throw Qp(i)}}})}),{isTransformFunction:!0}),Uv=Bu("diff",["typed","matrix","subtract","number","bignumber"],(function(e){var t=e.typed,n=Zh({typed:t,matrix:e.matrix,subtract:e.subtract,number:e.number,bignumber:e.bignumber});return t("diff",{"...any":function(e){if(2===e.length&&oa(e[0])){var t=e[1];Ys(t)?e[1]=t-1:Js(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw Qp(r)}}})}),{isTransformFunction:!0}),Vv=Bu("std",["typed","sqrt","variance"],(function(e){var t=e.typed,n=bg({typed:t,sqrt:e.sqrt,variance:e.variance});return t("std",{"...any":function(e){if(e.length>=2&&oa(e[0])){var t=e[1];Ys(t)?e[1]=t-1:Js(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw Qp(r)}}})}),{isTransformFunction:!0}),qv=Bu("sum",["typed","config","add","numeric"],(function(e){var t=e.typed,n=fg({typed:t,config:e.config,add:e.add,numeric:e.numeric});return t("sum",{"...any":function(e){if(2===e.length&&oa(e[0])){var t=e[1];Ys(t)?e[1]=t-1:Js(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw Qp(r)}}})}),{isTransformFunction:!0}),zv=Bu("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.typed,n=yg({typed:t,add:e.add,subtract:e.subtract,multiply:e.multiply,divide:e.divide,apply:e.apply,isNaN:e.isNaN});return t("variance",{"...any":function(e){if(e.length>=2&&oa(e[0])){var t=e[1];Ys(t)?e[1]=t-1:Js(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw Qp(r)}}})}),{isTransformFunction:!0}),Hv=r;let $v=(()=>{class e{constructor(){this.config={number:"Fraction"},this.math=function e(t,n){var r=Gu({},Hu,n);if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var i,o,s=(i={isNumber:Ys,isComplex:Xs,isBigNumber:Js,isFraction:ea,isUnit:ta,isString:na,isArray:ra,isMatrix:ia,isCollection:oa,isDenseMatrix:sa,isSparseMatrix:aa,isRange:ua,isIndex:ca,isBoolean:la,isResultSet:ha,isHelp:da,isFunction:fa,isDate:pa,isRegExp:ma,isObject:ga,isNull:ya,isUndefined:va,isAccessorNode:ba,isArrayNode:wa,isAssignmentNode:_a,isBlockNode:xa,isConditionalNode:Ea,isConstantNode:Ca,isFunctionAssignmentNode:Sa,isFunctionNode:Na,isIndexNode:Aa,isNode:Ta,isObjectNode:Da,isOperatorNode:Oa,isParenthesisNode:Ia,isRangeNode:Ma,isSymbolNode:Ra,isChain:ka},o=new $a.a,i.on=o.on.bind(o),i.off=o.off.bind(o),i.once=o.once.bind(o),i.emit=o.emit.bind(o),i);s.config=function(e,t){function n(n){if(n){var r=La(e,ja);Qu(n,"matrix",$u),Qu(n,"number",Wu),function e(t,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(qa(n,r))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r]&&t[r].constructor===Object?e(t[r],n[r]):t[r]=n[r];else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");t[r]=n[r]}return t}(e,n);var i=La(e,ja),o=La(n,ja);return t("config",i,r,o),i}return La(e,ja)}return n.MATRIX_OPTIONS=$u,n.NUMBER_OPTIONS=Wu,Object.keys(Hu).forEach((function(t){Object.defineProperty(n,t,{get:function(){return e[t]},enumerable:!0,configurable:!0})})),n}(r,s.emit),s.expression={transform:{},mathWithTransform:{config:s.config}};var a,u={},c=function(e,t,n,r){function i(t,i,s){var a;if(s.wrap&&"function"==typeof i&&(i=function(e){var t=function(){for(var t=[],r=0,i=arguments.length;r<i;r++){var o=arguments[r];t[r]=o&&o.valueOf()}return e.apply(n,t)};return e.transform&&(t.transform=e.transform),t}(i)),"function"==typeof(a=i)&&"string"==typeof a.signature&&(i=e(t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i.signature,i))),c(n[t])&&c(i))return i=s.override?e(t,i.signatures):e(n[t],i),n[t]=i,delete r[t],o(t,i),void n.emit("import",t,(function(){return i}));if(void 0===n[t]||s.override)return n[t]=i,delete r[t],o(t,i),void n.emit("import",t,(function(){return i}));if(!s.silent)throw new Error('Cannot import "'+t+'": already exists')}function o(e,t){t&&"function"==typeof t.transform?(n.expression.transform[e]=t.transform,l(e)&&(n.expression.mathWithTransform[e]=t.transform)):(delete n.expression.transform[e],l(e)&&(n.expression.mathWithTransform[e]=t))}function s(e){delete n.expression.transform[e],l(e)?n.expression.mathWithTransform[e]=n[e]:delete n.expression.mathWithTransform[e]}function a(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fn;if(Lu(o,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(o));var a=d(t)?n.expression.transform:n,u=o in n.expression.transform,l=qa(a,o)?a[o]:void 0,f=function(){var r={};t.dependencies.map(Vu).forEach((function(e){if(Lu(e,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(e));"math"===e?r.math=n:"mathWithTransform"===e?r.mathWithTransform=n.expression.mathWithTransform:"classes"===e?r.classes=n:r[e]=n[e]}));var s=t(r);if(s&&"function"==typeof s.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(void 0===l||i.override)return s;if(c(l)&&c(s))return e(l,s);if(i.silent)return l;throw new Error('Cannot import "'+o+'": already exists')};t.meta&&!1===t.meta.lazy?(a[o]=f(),l&&u?s(o):(d(t)||h(t))&&Va(n.expression.mathWithTransform,o,(function(){return a[o]}))):(Va(a,o,f),l&&u?s(o):(d(t)||h(t))&&Va(n.expression.mathWithTransform,o,(function(){return a[o]}))),r[o]=t,n.emit("import",o,f)}function u(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||ta(e)||Xs(e)||Js(e)||ea(e)||ia(e)||Array.isArray(e)}function c(e){return"function"==typeof e&&"object"===zu(e.signatures)}function l(e){return!qa(f,e)}function h(e){return!(-1!==e.fn.indexOf(".")||qa(f,e.fn)||e.meta&&e.meta.isClass)}function d(e){return void 0!==e&&void 0!==e.meta&&!0===e.meta.isTransformFunction||!1}var f={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(e,t){var n=arguments.length;if(1!==n&&2!==n)throw new qu("import",n,1,2);function r(e,n,i){if(Array.isArray(n))n.forEach((function(t){return r(e,t)}));else if("object"===zu(n))for(var o in n)qa(n,o)&&r(e,n[o],o);else if(Uu(n)||void 0!==i){var s=Uu(n)?d(n)?n.fn+".transform":n.fn:i;if(qa(e,s)&&e[s]!==n&&!t.silent)throw new Error('Cannot import "'+s+'" twice');e[s]=n}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}t||(t={});var o={};for(var s in r(o,e),o)if(qa(o,s)){var c=o[s];if(Uu(c))a(c,t);else if(u(c))i(s,c,t);else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}}}((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.typed.apply(s.typed,t)}),0,s,u);return s.import=c,s.on("config",(function(){za(u).forEach((function(e){e&&e.meta&&e.meta.recreateOnConfigChange&&c(e,{override:!0})}))})),s.create=e.bind(null,t),s.factory=Bu,s.import(za((function e(t,n){for(var r in t)if(qa(t,r)){var i=t[r];"object"===Fa(i)&&null!==i?e(i,n):n[r]=i}}(t,a={}),a))),s.ArgumentsError=qu,s.DimensionError=wu,s.IndexError=_u,s}(Hv,this.config)}convertAll(e,t){return console.log("Initial ingredient: "+t),console.log("Servings: "+e),t=this.divideStringByServings(e,t),console.log("After dividing by servings: "+t),t=this.addDecimalsToFractions(t),console.log("After adding decimals/ints to close fractions: "+t),t=this.convertDecimalsToFraction(t),console.log("After converting decimals to fraction: "+t),console.log(" "),t}convertDecimalsToFraction(e){const t=/(\d+[.]\d+)/g,n=e.split(t);for(let r=0;r<n.length;r++){let e=n[r];t.test(e)&&(console.log(e+" is a decimal"),e=Math.round(100*e)/100,parseFloat(e)<1&&(console.log(e+" is less than one"),n[r]=this.convertRatio(this.math.fraction(e))))}return n.join("")}addDecimalsToFractions(e){const t=/(\d+[.]\d+[ ]\d+[/]\d+)|(\d+[ ]\d+[/]\d+)/g,n=e.split(t);for(let r=0;r<n.length;r++){const e=n[r];if(t.test(e)){const t=e.substring(0,e.indexOf(" ")),i=e.substring(e.indexOf(" ")+1,e.length),o=this.convertRatio(this.math.add(this.math.fraction(t),this.math.fraction(i)));n[r]=o}}return n.join("")}divideStringByServings(e,t){const n=t.split(/(\d+[/]\d+)|(\d+)/g);for(let i=0;i<n.length;i++){const t=n[i];if(void 0!==t){if(t.includes("/"))try{const r=t.substring(0,t.indexOf("/")),o=t.substring(t.indexOf("/")+1,t.length),s=this.convertRatio(this.math.fraction(r/o/e));n[i]=s}catch(r){console.log("Wasn't a fraction")}!Number.isNaN(t/2)&&!t.includes(" ")&&t.length>=1&&(n[i]=t/e)}}return n.join("")}convertRatio(e){return this.math.format(e,{fraction:"ratio"})}getPosition(e,t,n){return e.split(t,n).join(t).length}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Wv=(()=>{class e{constructor(e,t){this.http=e,this.ingredientDivider=t}clearAll(){const e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];for(let t=0;t<e.length;t++){const n=e[t];this.checkDayIsInStorage(n)&&(window.localStorage.removeItem(n),this.setDayIsUpToDate(n,!1))}}getDayFromStorage(e){let t;return this.checkDayIsInStorage(e)||this.addDayToStorage(e),t=JSON.parse(window.localStorage.getItem(e)),t}setDayIsUpToDate(e,t){if(this.checkDayIsInStorage(e)){const n=this.getDayFromStorage(e);n.isUpToDate=t,window.localStorage.setItem(e,JSON.stringify(n))}else{this.addDayToStorage(e);const n=this.getDayFromStorage(e);n.isUpToDate=t,window.localStorage.setItem(e,JSON.stringify(n))}}checkDayIsUpToDate(e){let t=!1;return this.checkDayIsInStorage(e)&&!0===this.getDayFromStorage(e).isUpToDate&&(t=!0),t}checkDayIsInStorage(e){return null!==window.localStorage.getItem(e)&&void 0!==window.localStorage.getItem(e)}checkRecipeIsInStorage(e,t){let n=!1;return this.checkDayIsInStorage(e)&&(n=this.getDayFromStorage(e).recipes.filter(e=>e.recipeID===t).length>0),n}addDayToStorage(e){if(!this.checkDayIsInStorage(e)){const t={day:e,show:!0,isUpToDate:!1,recipes:[]};window.localStorage.setItem(t.day,JSON.stringify(t))}}removeRecipesNotInFirebase(e,t){return Go(this,void 0,void 0,(function*(){}))}addRecipesFromFirebase(e,t){return Go(this,void 0,void 0,(function*(){console.log(e+"'s recipe IDs: "),console.log(t);let n=!1;if(this.checkDayIsInStorage(e))for(const i in t){if(!t.hasOwnProperty(i))continue;const o=t[i];if(!this.checkRecipeIsInStorage(e,i))try{const t="https://api.edamam.com/search?app_id=4dad360d&app_key=5d6c41eeeb543f362a3b108c597193bd&r=http%3A%2F%2Fwww.edamam.com%2Fontologies%2Fedamam.owl%23recipe_"+i;console.log("Request to Edamam for recipe details sent");let r=yield this.http.get(t).toPromise();r=r[0];const s=r.yield;let a=[],u=r.ingredientLines;for(let e=0;e<u.length;e++){let t=u[e];t=this.ingredientDivider.convertAll(s,t),a.push(t)}const c={recipeID:i,recipeType:o.recipeType,name:o.name,image:r.image,url:r.url,uri:r.uri,calories:r.calories/s,carbs:r.totalNutrients.CHOCDF.quantity/s,protein:r.totalNutrients.PROCNT.quantity/s,fat:r.totalNutrients.FAT.quantity/s,ingredients:a,isKetoFriendly:!0,notKetoFriendlyReason:""};console.log("Recipe added to storage:"),console.log(c),this.addRecipeToDay(e,c),n=!0}catch(r){console.log(r+" - most likely due to Edamam having deleted the recipe")}}else{this.addDayToStorage(e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],o="https://api.edamam.com/search?app_id=4dad360d&app_key=5d6c41eeeb543f362a3b108c597193bd&r=http%3A%2F%2Fwww.edamam.com%2Fontologies%2Fedamam.owl%23recipe_"+r;console.log("Request to Edamam for recipe details sent");let s=yield this.http.get(o).toPromise();s=s[0];const a=s.yield;let u=[];s.ingredientLines.forEach(e=>{u.push(e)});const c={recipeID:r,recipeType:i.recipeType,name:i.name,image:s.image,url:s.url,uri:s.uri,calories:s.calories/a,carbs:s.totalNutrients.CHOCDF.quantity/a,protein:s.totalNutrients.PROCNT.quantity/a,fat:s.totalNutrients.FAT.quantity/a,ingredients:u,isKetoFriendly:!0,notKetoFriendlyReason:""};console.log(c),this.addRecipeToDay(e,c),n=!0}}}))}removeAllRecipesFromDay(e){if(this.checkDayIsInStorage(e)){const t=[],n=this.getDayFromStorage(e);null!=n.recipes&&(console.log("There are currently recipes in storage for "+e),n.recipes=t,window.localStorage.setItem(e,JSON.stringify(n)))}}removeRecipeFromDay(e,t){if(this.checkRecipeIsInStorage(e,t)){console.log("Recipe exists in storage");const n=this.getDayFromStorage(e);n.recipes=n.recipes.filter(e=>e.recipeID!==t),window.localStorage.setItem(e,JSON.stringify(n))}}addRecipeToDay(e,t){if(this.checkDayIsInStorage(e)){const n=JSON.parse(window.localStorage.getItem(e)).recipes;let r=!1;for(let e=0;e<n.length;e++)n[e].recipeID===t.recipeID&&(r=!0);if(!r){const n=JSON.parse(window.localStorage.getItem(e));n.recipes.push(t),window.localStorage.setItem(e,JSON.stringify(n))}}else{this.addDayToStorage(e);const n=JSON.parse(window.localStorage.getItem(e)).recipes;console.log("Recipes array after day just added to Storage: "+n);const r=JSON.parse(window.localStorage.getItem(e));r.recipes.push(t),window.localStorage.setItem(e,JSON.stringify(r))}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](ks),i["\u0275\u0275inject"]($v))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Qv=(()=>{class e{constructor(e,t,n,r){this.afAuth=e,this.router=t,this.fbDB=n,this.storageService=r,this.signedIn=new i.EventEmitter,this.mondayChanged=new i.EventEmitter,this.tuesdayChanged=new i.EventEmitter,this.wednesdayChanged=new i.EventEmitter,this.thursdayChanged=new i.EventEmitter,this.fridayChanged=new i.EventEmitter,this.saturdayChanged=new i.EventEmitter,this.sundayChanged=new i.EventEmitter,this.afAuth.onAuthStateChanged(e=>{e?this.signedIn.emit(e):(window.localStorage.clear(),console.log("Currently logged out"))})}listenToTimetableChanges(e){this.fbDB.database.ref(`timetables/${e}/Monday`).on("value",e=>{this.mondayChanged.emit(e.val())}),this.fbDB.database.ref(`timetables/${e}/Tuesday`).on("value",e=>{this.tuesdayChanged.emit(e.val())}),this.fbDB.database.ref(`timetables/${e}/Wednesday`).on("value",e=>{this.wednesdayChanged.emit(e.val())}),this.fbDB.database.ref(`timetables/${e}/Thursday`).on("value",e=>{this.thursdayChanged.emit(e.val())}),this.fbDB.database.ref(`timetables/${e}/Friday`).on("value",e=>{this.fridayChanged.emit(e.val())}),this.fbDB.database.ref(`timetables/${e}/Saturday`).on("value",e=>{this.saturdayChanged.emit(e.val())}),this.fbDB.database.ref(`timetables/${e}/Sunday`).on("value",e=>{this.sundayChanged.emit(e.val())})}signUp(e,t){return Go(this,void 0,void 0,(function*(){let n;return yield this.afAuth.createUserWithEmailAndPassword(e,t).then(e=>{n=e.user.uid}).catch(e=>{n=e,console.log(e)}),this.router.navigate(["/home"]),n}))}signIn(e,t){return Go(this,void 0,void 0,(function*(){let n;return yield this.afAuth.signInWithEmailAndPassword(e,t).then(e=>{this.router.navigate(["/home"]),console.log(e),n="successful"}).catch(e=>{console.log(e),n=e.code}),n}))}signOut(){this.afAuth.signOut().then(e=>{console.log(e)}).catch(e=>{console.log(e)})}resetPassword(e){return Go(this,void 0,void 0,(function*(){let t;return yield this.afAuth.sendPasswordResetEmail(e).then(e=>{t="successful"}).catch(e=>{t=e.code}),t}))}addMetrics(e,t,n,r,i,o,s,a,u){return Go(this,void 0,void 0,(function*(){yield this.fbDB.database.ref("userData/"+e).set({name:t,goals:r,ingredients:n,sex:i,heightCM:o,weightKG:s,dateOfBirth:a,age:u}).catch(e=>{console.log(e)})}))}addDayToTimetable(e,t){return Go(this,void 0,void 0,(function*(){yield this.fbDB.database.ref(`timetables/${e}/${t}`).set({show:!0,noOfRecipes:0}).catch(e=>{console.log(e)})}))}addDefaultTimetable(e){return Go(this,void 0,void 0,(function*(){const t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];for(let n=0;n<t.length;n++){const r=t[n];yield this.fbDB.database.ref(`timetables/${e}/${r}`).set({show:!0,noOfRecipes:0,recipes:[]}).catch(e=>{console.log(e)})}}))}checkDayMatchesBetweenStorageAndFirebase(e,t){return Go(this,void 0,void 0,(function*(){const n=this.storageService.getDayFromStorage(t).recipes,r=yield this.readDataFromFirebase(`timetables/${e}/${t}/recipes`);if(null!==r)if(n.length!==Object.keys(r).length)this.storageService.setDayIsUpToDate(t,!1);else for(let e=0;e<n.length;e++){console.log("Detected recipes in Firebase for "+t);const i=n[e].recipeID;let o=!1;for(const e in r)e===i&&(console.log("Found the current recipe from Storage in Firebase - "+t),o=!0);o||this.storageService.setDayIsUpToDate(t,!1),console.log("Recipes in Firebase from checkDayMatchesBetweenStorageAndFirebase()"+r)}else n.length>0&&this.storageService.setDayIsUpToDate(t,!1)}))}checkReferenceExists(e){return Go(this,void 0,void 0,(function*(){let t=!1;return yield this.fbDB.database.ref(e).once("value").then(n=>{console.log(`${e}: ${n.exists()}`),n.exists()&&(t=!0)}).catch(e=>{console.log(e)}),t}))}readDataFromFirebase(e){return Go(this,void 0,void 0,(function*(){let t;return yield this.fbDB.database.ref(e).once("value").then(e=>{t=e.val()}).catch(e=>{console.log(e),t=e}),t}))}removeRecipeFromUserTimetable(e,t,n){return Go(this,void 0,void 0,(function*(){(yield this.checkReferenceExists("timetables/"+e))?(console.log("User has a timetable in Firebase"),(yield this.checkReferenceExists(`timetables/${e}/${t}`))?(console.log("User has the day which the recipe is intended for in Firebase"),!0===(yield this.checkReferenceExists(`timetables/${e}/${t}/recipes/${n.recipeID}`))?(console.log("Recipe to be removed exists"),yield this.fbDB.database.ref(`timetables/${e}/${t}/recipes/${n.recipeID}`).remove().catch(e=>{console.log(e)}),this.storageService.removeRecipeFromDay(t,n.recipeID)):this.storageService.removeRecipeFromDay(t,n.recipeID)):this.storageService.removeRecipeFromDay(t,n.recipeID)):this.storageService.removeRecipeFromDay(t,n.recipeID)}))}writeRecipeToUserTimetable(e,t,n){return Go(this,void 0,void 0,(function*(){let r=!1,i=!1;(yield this.checkReferenceExists("timetables/"+e))?(console.log("User has a timetable in Firebase"),(yield this.checkReferenceExists(`timetables/${e}/${t}`))?(console.log("User has the day which the recipe is intended for in Firebase"),!1===(yield this.checkReferenceExists(`timetables/${e}/${t}/recipes/${n.recipeID}`))?(console.log("Recipe doesnt exist in timetable"),yield this.fbDB.database.ref(`timetables/${e}/${t}/recipes/${n.recipeID}`).set({recipeType:n.recipeType,name:n.name,image:n.image}).catch(e=>{console.log(e)}),this.storageService.addRecipeToDay(t,n),i=!0,r=!0):(console.log("Recipe already exists in Firebase"),r=!0,this.storageService.checkRecipeIsInStorage(t,n)||(this.storageService.addRecipeToDay(t,n),i=!0))):(this.addDayToTimetable(e,t),this.storageService.addDayToStorage(t))):this.addDefaultTimetable(e)}))}writeEdamamRecipeToDatabase(e,t,n){return Go(this,void 0,void 0,(function*(){yield this.fbDB.database.ref("recipes/"+e).once("value").then(r=>Go(this,void 0,void 0,(function*(){r.exists()||(yield this.fbDB.database.ref("recipes/"+e).set({isEdamam:!0,title:t,imageURL:n}).catch(e=>{console.log(e)}))})))}))}clearAllRecipes(e){return Go(this,void 0,void 0,(function*(){const t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];for(let n=0;n<t.length;n++){const r=t[n];if(yield this.checkReferenceExists(`timetables/${e}/${r}`)){const t=yield this.readDataFromFirebase(`timetables/${e}/${r}/recipes`);for(const n in t)this.fbDB.database.ref(`timetables/${e}/${r}/recipes/${n}`).remove()}}this.storageService.clearAll()}))}updateLocalStorageFromFirebase(e,t){return Go(this,void 0,void 0,(function*(){if(yield this.checkReferenceExists(`timetables/${e}/${t}`))if(console.log(t+" exists in Firebase"),this.storageService.addDayToStorage(t),yield this.checkReferenceExists(`timetables/${e}/${t}/recipes`)){console.log(t+"'s recipes exist in Firebase");const n=yield this.readDataFromFirebase(`timetables/${e}/${t}/recipes`);yield this.storageService.addRecipesFromFirebase(t,n),yield this.storageService.removeRecipesNotInFirebase(t,n)}else console.log(`There are no recipes for ${t} in Firebase`),this.storageService.removeAllRecipesFromDay(t),console.log("Recipes should now be removed from localStorage for "+t);else console.log(t+" doesnt exist in Firebase")}))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Ko),i["\u0275\u0275inject"](dr),i["\u0275\u0275inject"](ys),i["\u0275\u0275inject"](Wv))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Gv=(()=>{class e{constructor(e){this.auth=e,this.accountDetailsUpdated=new i.EventEmitter,this.auth.signedIn.subscribe(e=>{this.userId=e.uid,console.log(e.uid),this.updateAccountDetails()}),this.accountDetails={name:void 0,goals:void 0,sex:void 0,age:void 0,height:void 0,weight:void 0,ingredientPreferences:void 0,macros:{fat:void 0,protein:void 0,carbs:void 0},dailyCalories:void 0}}getUserID(){return this.userId}updateAccountDetails(){return Go(this,void 0,void 0,(function*(){console.log(yield this.auth.readDataFromFirebase("userData/"+this.userId));const e=yield this.auth.readDataFromFirebase("userData/"+this.userId);this.accountDetails.name=e.name,this.accountDetails.goals=e.goals,this.accountDetails.sex=e.sex,this.accountDetails.age=e.age,this.accountDetails.height=e.heightCM,this.accountDetails.weight=e.weightKG,this.accountDetails.ingredientPreferences=e.ingredients,this.calculateMacros(),console.log(this.accountDetails.dailyCalories),this.accountDetailsUpdated.emit("Updated")}))}getAccountDetails(){return this.accountDetails}calculateDailyCalories(){"Male"===this.accountDetails.sex?this.accountDetails.dailyCalories=10*this.accountDetails.weight+6.25*this.accountDetails.height-5*this.accountDetails.age+5:"Female"===this.accountDetails.sex&&(this.accountDetails.dailyCalories=10*this.accountDetails.weight+6.25*this.accountDetails.height-5*this.accountDetails.age-161)}calculateMacros(){let e;"loseOne"===this.accountDetails.goals?("Male"===this.accountDetails.sex?e=10*this.accountDetails.weight+6.25*this.accountDetails.height-5*this.accountDetails.age+5:"Female"===this.accountDetails.sex&&(e=10*this.accountDetails.weight+6.25*this.accountDetails.height-5*this.accountDetails.age-161),this.accountDetails.dailyCalories=Math.round(10*e)/10,this.accountDetails.dailyCalories=this.accountDetails.dailyCalories-500):"maintain"===this.accountDetails.goals?("Male"===this.accountDetails.sex?e=10*this.accountDetails.weight+6.25*this.accountDetails.height-5*this.accountDetails.age+5:"Female"===this.accountDetails.sex&&(e=10*this.accountDetails.weight+6.25*this.accountDetails.height-5*this.accountDetails.age-161),this.accountDetails.dailyCalories=Math.round(10*e)/10):("Male"===this.accountDetails.sex?e=10*this.accountDetails.weight+6.25*this.accountDetails.height-5*this.accountDetails.age+5:"Female"===this.accountDetails.sex&&(e=10*this.accountDetails.weight+6.25*this.accountDetails.height-5*this.accountDetails.age-161),this.accountDetails.dailyCalories=Math.round(10*e)/10,this.accountDetails.dailyCalories=this.accountDetails.dailyCalories-500),this.accountDetails.macros.carbs=Math.round(.1*this.accountDetails.dailyCalories/4*10)/10,this.accountDetails.macros.protein=Math.round(.3*this.accountDetails.dailyCalories/4*10)/10,this.accountDetails.macros.fat=Math.round(.6*this.accountDetails.dailyCalories/9*10)/10}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Qv))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Kv=(()=>{class e{constructor(e,t){this.http=e,this.ingredientDivider=t}searchForRecipes(e,t,n){return Go(this,void 0,void 0,(function*(){const r=[];let i,o=[];const s=`https://api.edamam.com/search?q=${t}&app_id=4dad360d&app_key=5d6c41eeeb543f362a3b108c597193bd&from=0&to=${n}&calories=${e.calories-35<=0?0:e.calories-35}-${e.calories<0?35:e.calories+35}&nutrients%5BFAT%5D=${e.fat-3.5<=0?0:e.fat-3.5}-${e.fat<0?3.5:e.fat+3.5}&nutrients%5BCHOCDF%5D=${e.carbs-5<=0?0:e.carbs-5}-${e.carbs<0?5:e.carbs+5}&nutrients%5BPROCNT%5D=${e.protein-3.5<=0?0:e.protein-3.5}-${e.protein<0?3.5:e.protein+3.5}`;if(yield this.http.get(s).toPromise().then(e=>Go(this,void 0,void 0,(function*(){const t=yield e.hits;for(let e=0;e<t.length;e++){const n=t[e].recipe,o=n.yield;let s=[],a=n.ingredientLines;console.log(a);for(let e=0;e<a.length;e++){let t=a[e];t=this.ingredientDivider.convertAll(o,t),s.push(t)}i={recipeID:n.uri.substring(n.uri.indexOf("_")+1,n.uri.length),name:n.label,url:n.url,uri:n.uri,image:n.image,carbs:Math.round(n.totalNutrients.CHOCDF.quantity/o*10)/10,protein:Math.round(n.totalNutrients.PROCNT.quantity/o*10)/10,fat:Math.round(n.totalNutrients.FAT.quantity/o*10)/10,calories:Math.round(n.calories/o*10)/10,ingredients:s},console.log(i),r.push(i)}}))),r.length>10){const e=Math.floor(r.length/10);for(let t=0,n=0;t<e;t++)o[t]=r.slice(n,n+9),n+=10}else o[0]=r;return o}))}searchForRecipe(e,t){return Go(this,void 0,void 0,(function*(){let n,r,i;console.log("Reached searchForRecipes");let o=5;const s=`https://api.edamam.com/search?q=${t}&app_id=4dad360d&app_key=5d6c41eeeb543f362a3b108c597193bd&from=0&to=${o}&calories=${e.calories-35<=0?0:e.calories-35}-${e.calories<0?35:e.calories+35}&nutrients%5BFAT%5D=${e.fat-3.5<=0?0:e.fat-3.5}-${e.fat<0?3.5:e.fat+3.5}&nutrients%5BCHOCDF%5D=${e.carbs-5<=0?0:e.carbs-5}-${e.carbs<0?5:e.carbs+5}&nutrients%5BPROCNT%5D=${e.protein-3.5<=0?0:e.protein-3.5}-${e.protein<0?3.5:e.protein+3.5}`;return console.log(s),yield this.http.get(s).toPromise().then(t=>Go(this,void 0,void 0,(function*(){console.log(t);const s=yield t.hits;if(r=Math.round((Math.random()+0)*(o-1)),console.log(r),(yield t.count)>0){t.count<=o&&(console.log("Count less than 5"),o=t.count-1,r=Math.round((Math.random()+0)*o),console.log(r+" after change")),n=s[r].recipe;const a=n.yield;i={recipeID:n.uri.substring(n.uri.indexOf("_")+1,n.uri.length),recipeType:e.recipeType,name:n.label,url:n.url,uri:n.uri,carbs:n.totalNutrients.CHOCDF.quantity/a,protein:n.totalNutrients.PROCNT.quantity/a,fat:n.totalNutrients.FAT.quantity/a,calories:n.calories/a,isKetoFriendly:!0,notKetoFriendlyReason:"",image:""}}}))),i}))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](ks),i["\u0275\u0275inject"]($v))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Zv=(()=>{class e{constructor(e,t,n,r){this.accountService=e,this.auth=t,this.edamam=n,this.storageService=r,this.currentDate=new Date,this.currentDayIndex=this.currentDate.getDay(),this.arrayUpdated=new i.EventEmitter,this.dataLoaded=!1,this.baseIngredients=["chicken","beef","ribs","fish","pork","fish","lamb","veal","eggs","avocado","nuts","berries"],void 0===this.allRecipes&&(this.allRecipes=[]),this.accountService.accountDetailsUpdated.subscribe(e=>Go(this,void 0,void 0,(function*(){console.log(window.localStorage),this.dailyCalories=this.accountService.accountDetails.dailyCalories,this.dailyCarbs=this.accountService.accountDetails.macros.carbs,this.dailyProtein=this.accountService.accountDetails.macros.protein,this.dailyFat=this.accountService.accountDetails.macros.fat,this.userIngredients=this.accountService.accountDetails.ingredientPreferences,this.auth.listenToTimetableChanges(this.accountService.getUserID()),yield this.checkStorage(),this.updateWeeklyTotals(),this.dataLoaded=!0,console.log("Updated account details in timetable service")})))}getRemainingNutrients(e){const t=this.getDayByIndex(e);return{caloriesRemaining:t.caloriesRemaining,carbsRemaining:t.carbsRemaining,fatRemaining:t.fatRemaining,proteinRemaining:t.proteinRemaining}}getAllRecipes(){return this.allRecipes}getTodayRecipes(){console.log("Request received at timetable.service getTodayRecipes()");const e=this.getTodayName();let t;return this.allRecipes.forEach(n=>{n.day===e&&(t=n)}),t}getDayIndexByName(e){let t=-1;return this.allRecipes.forEach((n,r)=>{n.day===e&&(t=r)}),t}getTodayName(){let e;switch(this.currentDayIndex){case 0:e="Sunday";break;case 1:e="Monday";break;case 2:e="Tuesday";break;case 3:e="Wednesday";break;case 4:e="Thursday";break;case 5:e="Friday";break;case 6:e="Saturday";break;default:e="Error 404, day not found"}return e}addRecipeToDay(e,t){const n=this.getDayByIndex(e);n.recipes.push(t),this.writeRecipeToStorage(n.day,t),this.updateWeeklyTotals(),this.checkRecipeIsSuitable(t),this.checkDayIsSuitable(this.getDayByIndex(e)),this.arrayUpdated.emit("Array Updated")}addRecipesToDay(e,t){this.getDayByIndex(e).recipes.push(...t),this.updateWeeklyTotals(),this.checkRecipeIsSuitable(...t),this.checkDayIsSuitable(this.getDayByIndex(e)),this.arrayUpdated.emit("Array Updated")}removeRecipeByIndex(e,t){return Go(this,void 0,void 0,(function*(){console.log("Recipe removed by index");const n=this.getDayByIndex(e);this.storageService.setDayIsUpToDate(n.day,"false"),yield this.auth.removeRecipeFromUserTimetable(this.accountService.getUserID(),n.day,n.recipes[t]),this.getDayByIndex(e).recipes.splice(t,1),this.updateWeeklyTotals(),this.arrayUpdated.emit("Array updated")}))}removeRecipeByObject(e,t){return Go(this,void 0,void 0,(function*(){console.log("Recipe removed by object"),this.storageService.setDayIsUpToDate(e.day,"false"),yield this.auth.removeRecipeFromUserTimetable(this.accountService.getUserID(),e.day,e.recipes[t]),e.recipes.splice(t,1),this.updateWeeklyTotals(),this.arrayUpdated.emit("Array updated")}))}getDayByIndex(e){let t;return this.allRecipes.forEach((n,r)=>{r===e&&(t=n)}),t}updateWeeklyTotals(){this.allRecipes.forEach(e=>{let t=0,n=0,r=0,i=0;try{e.recipes.forEach(e=>{t+=e.calories,n+=e.carbs,r+=e.protein,i+=e.fat,e.calories=parseFloat(e.calories.toFixed(1)),e.carbs=parseFloat(e.carbs.toFixed(1)),e.protein=parseFloat(e.protein.toFixed(1)),e.fat=parseFloat(e.fat.toFixed(1))}),e.caloriesRemaining=parseFloat((this.dailyCalories-t).toFixed(1)),e.carbsRemaining=parseFloat((this.dailyCarbs-n).toFixed(1)),e.proteinRemaining=parseFloat((this.dailyProtein-r).toFixed(1)),e.fatRemaining=parseFloat((this.dailyFat-i).toFixed(1)),e.totalCalories=parseFloat(t.toFixed(1)),e.totalCarbs=parseFloat(n.toFixed(1)),e.totalProtein=parseFloat(r.toFixed(1)),e.totalFat=parseFloat(i.toFixed(1))}catch(o){console.log(o)}}),this.arrayUpdated.emit("Array changed")}writeRecipeToStorage(e,t){return Go(this,void 0,void 0,(function*(){this.auth.writeRecipeToUserTimetable(this.accountService.getUserID(),e,t)}))}clearAll(){return Go(this,void 0,void 0,(function*(){yield this.auth.clearAllRecipes(this.accountService.getUserID()),this.allRecipes=[],yield this.checkStorage(),this.updateWeeklyTotals(),this.arrayUpdated.emit("Array cleared")}))}checkStorage(){return Go(this,void 0,void 0,(function*(){const e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];console.log("checkStorage() reached");for(let t=0;t<e.length;t++){const n=e[t];yield this.auth.checkDayMatchesBetweenStorageAndFirebase(this.accountService.getUserID(),n),this.storageService.checkDayIsUpToDate(n)||(console.log(n+" is not up-to-date"),yield this.auth.updateLocalStorageFromFirebase(this.accountService.getUserID(),n),this.storageService.setDayIsUpToDate(n,!0),console.log(this.storageService.getDayFromStorage(n)))}this.updateAllRecipesFromLocalStorage(),console.log(window.localStorage),this.arrayUpdated.emit("Array changed")}))}updateAllRecipesFromLocalStorage(){return Go(this,void 0,void 0,(function*(){const e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];for(let t=0;t<window.localStorage.length;t++){const n=window.localStorage.key(t);if(e.includes(n)){const e=JSON.parse(window.localStorage.getItem(n));this.allRecipes.push(e)}}}))}generate(){return Go(this,void 0,void 0,(function*(){let e=0,t=[];for(let n=0;n<this.allRecipes.length;n++){const r=this.allRecipes[n],i=this.userIngredients.slice(0);let o=["chicken","beef","pork","fish","lamb","veal","eggs","avocado","nuts","cheese","coconut","yogurt","steak"],s="";console.log("Finding recipes for "+r.day),t=this.getRecipePlanStructure(r);for(let a=0;a<t.length;a++){const r=t[a];let u;for(;void 0===u&&o.length>0;){if(console.log("Looking for a new ingredient..."),i.length>0){console.log("A user preferenced ingredient found...");const e=Math.round(Math.random()*(i.length-1));s=i[e],i.splice(e,1)}else if(0===i.length&&(console.log("No more user perferenced ingredients left..."),o.length>0)){console.log("A base ingredient found...");const e=Math.round(Math.random()*(o.length-1));s=o[e],o.splice(e,1)}u=yield this.edamam.searchForRecipe(r,s),void 0!==u&&this.addRecipeToDay(n,u),e++,console.log("Returned:"+u)}console.log("Exited while loop")}}console.log(window.localStorage),console.log("Total calls: "+e)}))}checkRecipeIsSuitable(...e){e.forEach(e=>{e.totalCarbs>this.dailyCarbs/1.5&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="This recipe uses up a lot of the daily carb intake."),e.totalProtein>10&&2*e.totalFat<e.totalProtein&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="This recipe has twice as much protein than fat.")})}checkDayIsSuitable(...e){e.forEach(e=>{e.caloriesRemaining<-200&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Too many calories, we recommend removing a few recipes"),e.caloriesRemaining<100&&e.fatRemaining>10&&e.proteinRemaining>7.5&&e.carbsRemaining>5&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Not enough calories to fill the remaining macros"),e.caloriesRemaining>=100&&e.caloriesRemaining<200&&e.fatRemaining>15&&e.proteinRemaining>10&&e.carbsRemaining>7.5&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Not enough calories to fill the remaining macros"),e.caloriesRemaining>=200&&e.caloriesRemaining<400&&e.fatRemaining>20&&e.proteinRemaining>12.5&&e.carbsRemaining>10&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Not enough calories to fill the remaining macros"),e.carbsRemaining<-10&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Too many carbs, we recommend removing a few high carb recipes"),e.carbsRemaining>-5&&e.carbsRemaining<-10&&e.caloriesRemaining>=150&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Too many carbs, we recommend removing a few high carb recipes"),e.proteinRemaining<-10&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Too much protein, we recommend removing a few high protein recipes"),e.proteinRemaining>-5&&e.proteinRemaining<-10&&e.caloriesRemaining>=150&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Too much protein, we recommend removing a few high protein recipes"),e.proteinRemaining<-10&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Too much fat, we recommend removing a few high fat protein recipes"),e.proteinRemaining>-5&&e.proteinRemaining<-10&&e.caloriesRemaining>=150&&(e.isKetoFriendly=!1,e.notKetoFriendlyReason="Too much protein, we recommend removing a few high protein recipes")})}getRecipePlanStructure(e){const t=e.recipes.length;let n=[];if(0===t)switch(!0){case e.caloriesRemaining<1500:n.push({recipeType:"Breakfast",calories:.3*e.caloriesRemaining,fat:.6*e.fatRemaining,protein:.35*e.proteinRemaining,carbs:.05*e.carbsRemaining}),n.push({recipeType:"Lunch",calories:.325*e.caloriesRemaining,fat:.6*e.fatRemaining,protein:.35*e.proteinRemaining,carbs:.05*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.375*e.caloriesRemaining,fat:.6*e.fatRemaining,protein:.35*e.proteinRemaining,carbs:.05*e.carbsRemaining});break;case e.caloriesRemaining>=1500&&e.caloriesRemaining<2e3:return n.push({recipeType:"Breakfast",calories:.25*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}),n.push({recipeType:"Lunch",calories:.25*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}),n.push({recipeType:"Snack",calories:.1*e.caloriesRemaining,fat:.1*e.fatRemaining,protein:.1*e.proteinRemaining,carbs:.1*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.4*e.caloriesRemaining,fat:.4*e.fatRemaining,protein:.4*e.proteinRemaining,carbs:.4*e.carbsRemaining}),n;case e.caloriesRemaining>=2e3:return n.push({recipeType:"Breakfast",calories:.217*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}),n.push({recipeType:"Snack 1",calories:.1*e.caloriesRemaining,fat:.1*e.fatRemaining,protein:.1*e.proteinRemaining,carbs:.1*e.carbsRemaining}),n.push({recipeType:"Lunch",calories:.266*e.caloriesRemaining,fat:.2*e.fatRemaining,protein:.2*e.proteinRemaining,carbs:.2*e.carbsRemaining}),n.push({recipeType:"Snack 2",calories:.1*e.caloriesRemaining,fat:.1*e.fatRemaining,protein:.1*e.proteinRemaining,carbs:.1*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.317*e.caloriesRemaining,fat:.35*e.fatRemaining,protein:.35*e.proteinRemaining,carbs:.35*e.carbsRemaining}),n}if(t>0){let t=!0,r=!0,i=!0;switch(e.recipes.forEach(e=>{"Breakfast"===e.recipeType?t=!1:"Lunch"===e.recipeType?r=!1:"Dinner"===e.recipeType&&(i=!1)}),!0){case t&&r&&i:e.caloriesRemaining<500?n.push({recipeType:"Breakfast",calories:e.caloriesRemaining,fat:e.fatRemaining,protein:e.proteinRemaining,carbs:e.carbsRemaining}):e.caloriesRemaining>=500&&e.caloriesRemaining<1e3?(n.push({recipeType:"Breakfast",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining})):(n.push({recipeType:"Breakfast",calories:.33*e.caloriesRemaining,fat:.33*e.fatRemaining,protein:.33*e.proteinRemaining,carbs:.33*e.carbsRemaining}),n.push({recipeType:"Lunch",calories:.33*e.caloriesRemaining,fat:.33*e.fatRemaining,protein:.33*e.proteinRemaining,carbs:.33*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.33*e.caloriesRemaining,fat:.33*e.fatRemaining,protein:.33*e.proteinRemaining,carbs:.33*e.carbsRemaining}));break;case t&&r&&!i:e.caloriesRemaining<500?n.push({recipeType:"Breakfast",calories:e.caloriesRemaining,fat:e.fatRemaining,protein:e.proteinRemaining,carbs:e.carbsRemaining}):e.caloriesRemaining>=500&&e.caloriesRemaining<1e3?(n.push({recipeType:"Breakfast",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining}),n.push({recipeType:"Lunch",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining})):(n.push({recipeType:"Breakfast",calories:.4*e.caloriesRemaining,fat:.4*e.fatRemaining,protein:.4*e.proteinRemaining,carbs:.4*e.carbsRemaining}),n.push({recipeType:"Lunch",calories:.4*e.caloriesRemaining,fat:.4*e.fatRemaining,protein:.4*e.proteinRemaining,carbs:.4*e.carbsRemaining}),n.push({recipeType:"Snack",calories:.2*e.caloriesRemaining,fat:.2*e.fatRemaining,protein:.2*e.proteinRemaining,carbs:.2*e.carbsRemaining}));break;case t&&!r&&i:e.caloriesRemaining<500?n.push({recipeType:"Dinner",calories:e.caloriesRemaining,fat:e.fatRemaining,protein:e.proteinRemaining,carbs:e.carbsRemaining}):e.caloriesRemaining>=500&&e.caloriesRemaining<1e3?(n.push({recipeType:"Breakfast",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining})):(n.push({recipeType:"Breakfast",calories:.4*e.caloriesRemaining,fat:.4*e.fatRemaining,protein:.4*e.proteinRemaining,carbs:.4*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.4*e.caloriesRemaining,fat:.4*e.fatRemaining,protein:.4*e.proteinRemaining,carbs:.4*e.carbsRemaining}),n.push({recipeType:"Snack",calories:.2*e.caloriesRemaining,fat:.2*e.fatRemaining,protein:.2*e.proteinRemaining,carbs:.2*e.carbsRemaining}));break;case t&&!r&&!i:console.log("Reach incluedBreakfast but not lunch or dinner"),e.caloriesRemaining<500?n.push({recipeType:"Breakfast",calories:e.caloriesRemaining,fat:e.fatRemaining,protein:e.proteinRemaining,carbs:e.carbsRemaining}):e.caloriesRemaining>=500&&e.caloriesRemaining<700?n.push({recipeType:"Breakfast",calories:1*e.caloriesRemaining,fat:1*e.fatRemaining,protein:1*e.proteinRemaining,carbs:1*e.carbsRemaining}):(n.push({recipeType:"Breakfast",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining}),n.push({recipeType:"Snack 1",calories:.25*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}),n.push({recipeType:"Snack 2",calories:.25*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}));break;case!t&&r&&i:e.caloriesRemaining<500?n.push({recipeType:"Dinner",calories:e.caloriesRemaining,fat:e.fatRemaining,protein:e.proteinRemaining,carbs:e.carbsRemaining}):e.caloriesRemaining>=500&&e.caloriesRemaining<1e3?(n.push({recipeType:"Lunch",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining})):(n.push({recipeType:"Lunch",calories:.4*e.caloriesRemaining,fat:.4*e.fatRemaining,protein:.4*e.proteinRemaining,carbs:.4*e.carbsRemaining}),n.push({recipeType:"Dinner",calories:.4*e.caloriesRemaining,fat:.4*e.fatRemaining,protein:.4*e.proteinRemaining,carbs:.4*e.carbsRemaining}),n.push({recipeType:"Snack",calories:.2*e.caloriesRemaining,fat:.2*e.fatRemaining,protein:.2*e.proteinRemaining,carbs:.2*e.carbsRemaining}));break;case!t&&r&&!i:e.caloriesRemaining<500?n.push({recipeType:"Lunch",calories:e.caloriesRemaining,fat:e.fatRemaining,protein:e.proteinRemaining,carbs:e.carbsRemaining}):e.caloriesRemaining>=500&&e.caloriesRemaining<1e3?(n.push({recipeType:"Lunch",calories:.65*e.caloriesRemaining,fat:.65*e.fatRemaining,protein:.65*e.proteinRemaining,carbs:.65*e.carbsRemaining}),n.push({recipeType:"Snack",calories:.65*e.caloriesRemaining,fat:.65*e.fatRemaining,protein:.65*e.proteinRemaining,carbs:.65*e.carbsRemaining})):(n.push({recipeType:"Lunch",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining}),n.push({recipeType:"Snack 1",calories:.25*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}),n.push({recipeType:"Snack 2",calories:.25*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}));break;case!t&&!r&&i:e.caloriesRemaining<500?n.push({recipeType:"Dinner",calories:e.caloriesRemaining,fat:e.fatRemaining,protein:e.proteinRemaining,carbs:e.carbsRemaining}):e.caloriesRemaining>=500&&e.caloriesRemaining<1e3?(n.push({recipeType:"Dinner",calories:.65*e.caloriesRemaining,fat:.65*e.fatRemaining,protein:.65*e.proteinRemaining,carbs:.65*e.carbsRemaining}),n.push({recipeType:"Snack",calories:.35*e.caloriesRemaining,fat:.35*e.fatRemaining,protein:.35*e.proteinRemaining,carbs:.35*e.carbsRemaining})):(n.push({recipeType:"Dinner",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining}),n.push({recipeType:"Snack 1",calories:.25*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}),n.push({recipeType:"Snack 2",calories:.25*e.caloriesRemaining,fat:.25*e.fatRemaining,protein:.25*e.proteinRemaining,carbs:.25*e.carbsRemaining}));break;case!t&&!r&&!i:e.caloriesRemaining<500?n.push({recipeType:"Snack",calories:e.caloriesRemaining,fat:e.fatRemaining,protein:e.proteinRemaining,carbs:e.carbsRemaining}):e.caloriesRemaining>=500&&e.caloriesRemaining<1e3?(n.push({recipeType:"Snack 1",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining}),n.push({recipeType:"Snack 2",calories:.5*e.caloriesRemaining,fat:.5*e.fatRemaining,protein:.5*e.proteinRemaining,carbs:.5*e.carbsRemaining})):(n.push({recipeType:"Snack 1",calories:.33*e.caloriesRemaining,fat:.33*e.fatRemaining,protein:.33*e.proteinRemaining,carbs:.33*e.carbsRemaining}),n.push({recipeType:"Snack 2",calories:.33*e.caloriesRemaining,fat:.33*e.fatRemaining,protein:.33*e.proteinRemaining,carbs:.33*e.carbsRemaining}),n.push({recipeType:"Snack 3",calories:.33*e.caloriesRemaining,fat:.33*e.fatRemaining,protein:.33*e.proteinRemaining,carbs:.33*e.carbsRemaining}))}return n}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Gv),i["\u0275\u0275inject"](Qv),i["\u0275\u0275inject"](Kv),i["\u0275\u0275inject"](Wv))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Yv=(()=>{class e{constructor(e,t,n,r,i,o){this.timetableService=e,this.accountService=t,this.authService=n,this.storageService=r,this.changeDetector=i,this.edamam=o,this.title="KeepUpKeto"}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Zv),i["\u0275\u0275directiveInject"](Gv),i["\u0275\u0275directiveInject"](Qv),i["\u0275\u0275directiveInject"](Wv),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](Kv))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:[vr],styles:[""]}),e})(),Jv=(()=>{class e{constructor(e,t){this.accountService=e,this.changeDetector=t,e.accountDetailsUpdated.subscribe(t=>{this.accountDetails=e.getAccountDetails(),this.changeDetector.detectChanges(),console.log(this.accountDetails.name),console.log("Updated account details in progress component")})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Gv),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-welcome"]],decls:28,vars:1,consts:[[1,"title","text-center"],[1,"card","card-profile","card-plain"],[1,"row"],[1,"col-lg-6"],[1,"card-avatar"],["href","#pablo"],["src","assets/img/default-photo.png",1,"img"],[1,"btn","btn-raised","btn-round","btn-default","btn-file","ml-auto","mr-auto"],[1,"fileinput-new"],["type","file","name","..."],[1,"card-body"],[1,"card-title","text-left"],[1,"card-description","text-left"],["href","#pablo",1,"btn","btn-info","btn-round"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"strong"),i["\u0275\u0275text"](2,"My Progress"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",1),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275elementStart"](5,"div",3),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"a",5),i["\u0275\u0275element"](8,"img",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",3),i["\u0275\u0275elementStart"](10,"div"),i["\u0275\u0275element"](11,"br"),i["\u0275\u0275element"](12,"br"),i["\u0275\u0275elementStart"](13,"span",7),i["\u0275\u0275elementStart"](14,"span",8),i["\u0275\u0275text"](15,"Add Photo"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](16,"input",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"br"),i["\u0275\u0275element"](18,"hr"),i["\u0275\u0275elementStart"](19,"div",10),i["\u0275\u0275elementStart"](20,"h6",11),i["\u0275\u0275text"](21),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"p",12),i["\u0275\u0275text"](23," Start Weight: 88kg "),i["\u0275\u0275element"](24,"br"),i["\u0275\u0275text"](25," Goal Weight: 80kg "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"a",13),i["\u0275\u0275text"](27,"View Profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](21),i["\u0275\u0275textInterpolate1"]("Welcome back ",t.accountDetails.name,"!"))},styles:["hr[_ngcontent-%COMP%]{background-color:#db7093}"]}),e})();function Xv(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.recipeType),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.name),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.carbs)}}let eb=(()=>{class e{constructor(e,t){this.timetableService=e,this.changeDetector=t}ngOnInit(){this.todayRecipes=this.timetableService.getTodayRecipes(),this.currentDay=this.timetableService.getTodayName(),this.changeDetector.detectChanges(),console.log(this.currentDay)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Zv),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-todaytable"]],decls:19,vars:2,consts:[[1,"title","text-center"],[1,"col-lg-12"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"strong"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",1),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275elementStart"](5,"table",3),i["\u0275\u0275elementStart"](6,"thead"),i["\u0275\u0275elementStart"](7,"tr"),i["\u0275\u0275elementStart"](8,"th"),i["\u0275\u0275elementStart"](9,"strong"),i["\u0275\u0275text"](10,"Type"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"th"),i["\u0275\u0275elementStart"](12,"strong"),i["\u0275\u0275text"](13,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"th"),i["\u0275\u0275elementStart"](15,"strong"),i["\u0275\u0275text"](16,"Carbs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"tbody"),i["\u0275\u0275template"](18,Xv,7,3,"tr",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.currentDay),i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ngForOf",t.todayRecipes.recipes))},directives:[s.NgForOf],styles:[""]}),e})(),tb=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-homepage"]],decls:7,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-lg-4"],[1,"col-lg-8"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275element"](3,"app-welcome"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275element"](5,"app-todaytable"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](6,"hr"),i["\u0275\u0275elementEnd"]())},directives:[Jv,eb],styles:["hr[_ngcontent-%COMP%]{background-color:#db7093}"]}),e})();var nb=n("uxF4");function rb(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}let ib;try{ib="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(lE){ib=!1}let ob,sb=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Object(s.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ib)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.PLATFORM_ID,8))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(i.PLATFORM_ID,8))},token:e,providedIn:"root"}),e})();"undefined"!=typeof Element&&Element;let ab=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");const t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](sb),i["\u0275\u0275inject"](s.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(sb),Object(i["\u0275\u0275inject"])(s.DOCUMENT))},token:e,providedIn:"root"}),e})(),ub=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();const cb=new i.Version("9.2.4");class lb{}function hb(e,t=null){return{type:2,steps:e,options:t}}function db(e){return{type:6,styles:e,offset:null}}function fb(e){Promise.resolve(null).then(e)}class pb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class mb{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?fb(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function gb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function yb(e){switch(e.length){case 0:return new pb;case 1:return e[0];default:return new mb(e)}}function vb(e,t,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(e=>{const n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=t.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function bb(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&wb(n,"start",e)));break;case"done":e.onDone(()=>r(n&&wb(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&wb(n,"destroy",e)))}}function wb(e,t,n){const r=n.totalTime,i=_b(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function _b(e,t,n,r,i="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function xb(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function Eb(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Cb=(e,t)=>!1,Sb=(e,t)=>!1,Nb=(e,t,n)=>[];const Ab=gb();(Ab||"undefined"!=typeof Element)&&(Cb=(e,t)=>e.contains(t),Sb=(()=>{if(Ab||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):Sb}})(),Nb=(e,t,n)=>{let r=[];if(n)r.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&r.push(n)}return r});let Tb=null,Db=!1;function Ob(e){Tb||(Tb=("undefined"!=typeof document?document.body:null)||{},Db=!!Tb.style&&"WebkitAppearance"in Tb.style);let t=!0;return Tb.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Tb.style,!t&&Db)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Tb.style),t}const Ib=Sb,Mb=Cb,Rb=Nb;function kb(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let Pb=(()=>{class e{validateStyleProperty(e){return Ob(e)}matchesElement(e,t){return Ib(e,t)}containsElement(e,t){return Mb(e,t)}query(e,t,n){return Rb(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,o=[],s){return new pb(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Fb=(()=>{class e{}return e.NOOP=new Pb,e})();function jb(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Lb(parseFloat(t[1]),t[2])}function Lb(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Bb(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,o="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=Lb(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Lb(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=e;if(!n){let n=!1,o=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(o,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:o}}(e,t,n)}function Ub(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Vb(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else Ub(e,n);return n}function qb(e,t,n){return n?t+":"+n+";":""}function zb(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=qb(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=qb(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function Hb(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=Jb(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),gb()&&zb(e))}function $b(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Jb(t);e.style[n]=""}),gb()&&zb(e))}function Wb(e){return Array.isArray(e)?1==e.length?e[0]:hb(e):e}const Qb=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gb(e){let t=[];if("string"==typeof e){let n;for(;n=Qb.exec(e);)t.push(n[1]);Qb.lastIndex=0}return t}function Kb(e,t,n){const r=e.toString(),i=r.replace(Qb,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?e:i}function Zb(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Yb=/-+([a-z0-9])/g;function Jb(e){return e.replace(Yb,(...e)=>e[1].toUpperCase())}function Xb(e,t){return 0===e||0===t}function ew(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let o=t[0],s=[];if(r.forEach(e=>{o.hasOwnProperty(e)||s.push(e),o[e]=n[e]}),s.length)for(var i=1;i<t.length;i++){let n=t[i];s.forEach((function(t){n[t]=nw(e,t)}))}}return t}function tw(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function nw(e,t){return window.getComputedStyle(e)[t]}function rw(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],o=r[2],s=r[3];t.push(sw(i,s)),"<"!=o[0]||"*"==i&&"*"==s||t.push(sw(s,i))}(e,n,t)):n.push(e),n}const iw=new Set(["true","1"]),ow=new Set(["false","0"]);function sw(e,t){const n=iw.has(e)||ow.has(e),r=iw.has(t)||ow.has(t);return(i,o)=>{let s="*"==e||e==i,a="*"==t||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?iw.has(e):ow.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?iw.has(t):ow.has(t)),s&&a}}const aw=new RegExp("s*:selfs*,?","g");function uw(e,t,n){return new cw(e).build(t,n)}class cw{constructor(e){this._driver=e}build(e,t){const n=new lw(t);return this._resetContextStyleTimingState(n),tw(this,Wb(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,o.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(e=>{if(hw(e)){const t=e;Object.keys(t).forEach(e=>{Gb(t[e]).forEach(e=>{o.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=Zb(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=tw(this,Wb(e.animation),t);return{type:1,matchers:rw(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:dw(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>tw(this,e,t)),options:dw(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=tw(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:dw(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return fw(Bb(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=fw(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||Bb(r,t),fw(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:db({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,o=!1;if(!i){o=!0;const e={};n.easing&&(e.easing=n.easing),i=db(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,t);s.isEmptyStep=o,r=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(hw(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=t.collectedStyles[t.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=Gb(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let u=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(hw(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(hw(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let l=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=t.currentTime,f=t.currentAnimateTimings,p=f.duration;return u.forEach((e,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;t.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(e,t),e.offset=o,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:tw(this,Wb(e.animation),t),options:dw(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dw(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dw(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,o]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(aw,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,xb(t.collectedStyles,t.currentQuerySelector,{});const s=tw(this,Wb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:dw(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Bb(e.timings,t.errors,!0);return{type:12,animation:tw(this,Wb(e.animation),t),timings:n,options:null}}}class lw{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function hw(e){return!Array.isArray(e)&&"object"==typeof e}function dw(e){var t;return e?(e=Ub(e)).params&&(e.params=(t=e.params)?Ub(t):null):e={},e}function fw(e,t,n){return{duration:e,delay:t,easing:n}}function pw(e,t,n,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class mw{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const gw=new RegExp(":enter","g"),yw=new RegExp(":leave","g");function vw(e,t,n,r,i,o={},s={},a,u,c=[]){return(new bw).buildKeyframes(e,t,n,r,i,o,s,a,u,c)}class bw{buildKeyframes(e,t,n,r,i,o,s,a,u,c=[]){u=u||new mw;const l=new _w(e,t,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),tw(this,n,l);const h=l.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(s).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,l.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[pw(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?jb(n.duration):null,o=null!=n.delay?jb(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),tw(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ww);const e=jb(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>tw(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?jb(e.options.delay):0;e.steps.forEach(o=>{const s=t.createSubContext(e.options);i&&s.delayNextStep(i),tw(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Bb(t.params?Kb(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(e=>{o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?jb(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ww);let o=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{t.currentQueryIndex=r;const s=t.createSubContext(e.options,n);i&&s.delayNextStep(i),n===t.element&&(a=s.currentTimeline),tw(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=t.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;tw(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const ww={};class _w{constructor(e,t,n,r,i,o,s,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ww,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new xw(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=jb(n.duration)),null!=n.delay&&(r.delay=jb(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=Kb(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new _w(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=ww,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Ew(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,o){let s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(gw,"."+this._enterClassName)).replace(yw,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return i||0!=s.length||o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class xw{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new xw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},o=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]="*"})):Vb(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=Kb(o[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Vb(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?e.add(n):"*"==r&&t.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=e.size?Zb(e.values()):[],o=t.size?Zb(t.values()):[];if(n){const e=r[0],t=Ub(e);e.offset=0,t.offset=1,r=[e,t]}return pw(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Ew extends xw{constructor(e,t,n,r,i,o,s=!1){super(e,t,o.delay),this.element=t,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],o=n+t,s=t/o,a=Vb(e[0],!1);a.offset=0,i.push(a);const u=Vb(e[0],!1);u.offset=Cw(s),i.push(u);const c=e.length-1;for(let r=1;r<=c;r++){let s=Vb(e[r],!1);s.offset=Cw((t+s.offset*n)/o),i.push(s)}n=o,t=0,r="",e=i}return pw(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Cw(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Sw{}class Nw extends Sw{normalizePropertyName(e,t){return Jb(e)}normalizeStyleValue(e,t,n,r){let i="";const o=n.toString().trim();if(Aw[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+i}}const Aw=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Tw(e,t,n,r,i,o,s,a,u,c,l,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const Dw={};class Ow{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}build(e,t,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Dw,d=this.buildStyles(n,s&&s.params||Dw,l),f=a&&a.params||Dw,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:vw(e,t,this.ast.animation,i,o,d,p,b,u,l);let _=0;if(w.forEach(e=>{_=Math.max(e.duration+e.delay,_)}),l.length)return Tw(t,this._triggerName,n,r,v,d,p,[],[],g,y,_,l);w.forEach(e=>{const n=e.element,r=xb(g,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=xb(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&m.add(n)});const x=Zb(m.values());return Tw(t,this._triggerName,n,r,v,d,p,w,x,g,y,_)}}class Iw{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},r=Ub(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let o=i[e];o.length>1&&(o=Kb(o,r,t)),n[e]=o})}}),n}}class Mw{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Iw(e.style,e.options&&e.options.params||{})}),Rw(this.states,"true","1"),Rw(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Ow(e,t,this.states))}),this.fallbackTransition=new Ow(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Rw(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const kw=new mw;class Pw{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=uw(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=vb(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let o;const s=new Map;if(i?(o=vw(this._driver,t,i,"ng-enter","ng-leave",{},{},n,kw,r),o.forEach(e=>{const t=xb(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=yb(o.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,r){const i=_b(t,"","","");return bb(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Fw=[],jw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Bw{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=Ub(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const Uw=new Bw("void");class Vw{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gw(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const o=xb(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);const a=xb(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Gw(e,"ng-trigger"),Gw(e,"ng-trigger-"+t),a[t]=Uw),()=>{this._engine.afterFlush(()=>{const e=o.indexOf(s);e>=0&&o.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),o=new zw(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(Gw(e,"ng-trigger"),Gw(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const u=new Bw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[t]=u,a||(a=Uw),"void"!==u.value&&a.value===u.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,u.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(u.value,u.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{$b(e,n),Hb(e,r)})}return}const c=xb(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let l=i.matchTransition(a.value,u.value,e,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(Gw(e,"ng-animate-queued"),o.onStart(()=>{Kw(e,"ng-animate-queued")})),o.onDone(()=>{let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(o);e>=0&&n.splice(e,1)}}),this.players.push(o),c.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,".ng-trigger",!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const o=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&yb(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const r=t.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(e)[r]||Uw,s=new Bw("void"),a=new zw(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==jw||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Gw(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(t=>{if(t.name==n.triggerName){const r=_b(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,bb(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class qw{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new Vw(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(Hw(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!Hw(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gw(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kw(e,"ng-animate-disabled"))}removeNode(e,t,n,r){if(Hw(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return Hw(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yb(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=jw,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Gw(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?yb(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new mw,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Qw(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((e,t)=>{const n="ng-enter"+p++;f.set(t,n),e.forEach(e=>Gw(e,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const e=this.collectedLeaveElements[O],t=e.__ng_removed;t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):y.add(e))}const v=new Map,b=Qw(h,Array.from(g));b.forEach((e,t)=>{const n="ng-leave"+p++;v.set(t,n),e.forEach(e=>Gw(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=f.get(t);e.forEach(e=>Kw(e,n))}),b.forEach((e,t)=>{const n=v.get(t);e.forEach(e=>Kw(e,n))}),m.forEach(e=>{this.processLeaveNode(e)})});const w=[],_=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(w.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(e,n,d,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return t.onStart(()=>$b(i,p.fromStyles)),t.onDestroy(()=>Hb(i,p.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>$b(i,p.fromStyles)),t.onDestroy(()=>Hb(i,p.toStyles)),void r.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:t,element:i}),p.queriedElements.forEach(e=>xb(s,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=u.get(t);r||u.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(_.length){const e=[];_.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,E=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(E.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{xb(x,t,[]).push(e),e.destroy()})});const C=m.filter(e=>Yw(e,a,u)),S=new Map;Ww(S,this.driver,y,u,"*").forEach(e=>{Yw(e,a,u)&&C.push(e)});const N=new Map;d.forEach((e,t)=>{Ww(N,this.driver,new Set(e),a,"!")}),C.forEach(e=>{const t=S.get(e),n=N.get(e);S.set(e,Object.assign(Object.assign({},t),n))});const A=[],T=[],D={};o.forEach(e=>{const{element:t,player:o,instruction:s}=e;if(n.has(t)){if(c.has(t))return o.onDestroy(()=>Hb(t,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let e=D;if(E.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=E.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>E.set(t,e))}const n=this._buildAnimation(o.namespaceId,s,x,i,N,S);if(o.setRealPlayer(n),e===D)A.push(o);else{const t=this.playersByElement.get(e);t&&t.length&&(o.parentPlayer=yb(t)),r.push(o)}}else $b(t,s.fromStyles),o.onDestroy(()=>Hb(t,s.toStyles)),T.push(o),c.has(t)&&r.push(o)}),T.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=yb(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let O=0;O<m.length;O++){const e=m[O],t=e.__ng_removed;if(Kw(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,".ng-animating",!0);for(let e=0;e<r.length;e++){let t=s.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?Zw(this,e,r):this.processLeaveNode(e)}return m.length=0,A.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),A}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let o=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(o=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||"void"==i;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),o}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==r,u=xb(n,e,[]);this._getPreviousPlayers(e,a,i,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)})}$b(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,o){const s=t.triggerName,a=t.element,u=[],c=new Set,l=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new pb(t.duration,t.delay);const f=h!==a,p=function(e){const t=[];return function e(t,n){for(let r=0;r<t.length;r++){const i=t[r];i instanceof mb?e(i.players,n):n.push(i)}}(e,t),t}((n.get(h)||Fw).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),m=i.get(h),g=o.get(h),y=vb(0,this._normalizer,0,t.keyframes,m,g),v=this._buildPlayer(t,y,p);if(t.subTimeline&&r&&l.add(h),f){const t=new zw(e,s,h);t.setRealPlayer(v),u.push(t)}return v});u.forEach(e=>{xb(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>Gw(e,"ng-animating"));const d=yb(h);return d.onDestroy(()=>{c.forEach(e=>Kw(e,"ng-animating")),Hb(a,t.toStyles)}),l.forEach(e=>{xb(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new pb(e.duration,e.delay)}}class zw{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new pb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>bb(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xb(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Hw(e){return e&&1===e.nodeType}function $w(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ww(e,t,n,r,i){const o=[];n.forEach(e=>o.push($w(e)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(e=>{const n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Lw,s.push(r))}),e.set(r,o)});let a=0;return n.forEach(e=>$w(e,o[a++])),s}function Qw(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let o=i.get(t);if(o)return o;const s=t.parentNode;return o=n.has(s)?s:r.has(s)?1:e(s),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)}),n}function Gw(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Kw(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Zw(e,t,n){yb(n).onDone(()=>e.processLeaveNode(t))}function Yw(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class Jw{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new qw(e,t,n),this._timelineEngine=new Pw(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const o=e+"-"+r;let s=this._triggerCache[o];if(!s){const e=[],t=uw(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t){return new Mw(e,t)}(r,t),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=Eb(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=Eb(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Xw(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=t_(t[0]),t.length>1&&(r=t_(t[t.length-1]))):t&&(n=t_(t)),n||r?new e_(e,n,r):null}let e_=(()=>{class e{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Hb(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hb(this._element,this._initialStyles),this._endStyles&&(Hb(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&($b(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($b(this._element,this._endStyles),this._endStyles=null),Hb(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function t_(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];n_(i)&&(t=t||{},t[i]=e[i])}return t}function n_(e){return"display"===e||"position"===e}class r_{constructor(e,t,n,r,i,o,s){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=c_(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),u_(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),a_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){i_(this._element,this._name,"paused")}resume(){i_(this._element,this._name,"running")}setPosition(e){const t=o_(this._element,this._name);this._position=e*this._duration,u_(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),a_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=c_(e,"").split(","),r=s_(n,t);r>=0&&(n.splice(r,1),u_(e,"",n.join(",")))}(this._element,this._name))}}function i_(e,t,n){u_(e,"PlayState",n,o_(e,t))}function o_(e,t){const n=c_(e,"");return n.indexOf(",")>0?s_(n.split(","),t):s_([n],t)}function s_(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function a_(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function u_(e,t,n,r){const i="animation"+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function c_(e,t){return e.style["animation"+t]}class l_{constructor(e,t,n,r,i,o,s,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new r_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:nw(this.element,n))})}this.currentSnapshot=e}}class h_ extends pb{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=kb(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class d_{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Ob(e)}matchesElement(e,t){return Ib(e,t)}containsElement(e,t){return Mb(e,t)}query(e,t,n){return Rb(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>kb(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(e,t,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(e=>e instanceof l_),u={};Xb(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>u[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=ew(e,t,u));if(0==n)return new h_(e,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);const d=Xw(e,t),f=new l_(e,t,l,n,r,i,c,d);return f.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class f_{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:nw(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class p_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(m_().toString()),this._cssKeyframesDriver=new d_}validateStyleProperty(e){return Ob(e)}matchesElement(e,t){return Ib(e,t)}containsElement(e,t){return Mb(e,t)}query(e,t,n){return Rb(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(e=>e instanceof f_);Xb(n,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>u[e]=t[e])});const l=Xw(e,t=ew(e,t=t.map(e=>Vb(e,!1)),u));return new f_(e,t,a,l)}}function m_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let g_=(()=>{class e extends lb{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:i.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?hb(e):e;return b_(this._renderer,null,t,"register",[n]),new y_(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.RendererFactory2),i["\u0275\u0275inject"](s.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class y_ extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new v_(this._id,e,t||{},this._renderer)}}class v_{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return b_(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function b_(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}let w_=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new __("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const o=t=>{Array.isArray(t)?t.forEach(o):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(o),new x_(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.RendererFactory2),i["\u0275\u0275inject"](Jw),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class __{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class x_ extends __{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let E_=(()=>{class e extends Jw{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.DOCUMENT),i["\u0275\u0275inject"](Fb),i["\u0275\u0275inject"](Sw))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const C_=new i.InjectionToken("AnimationModuleType"),S_=[{provide:Fb,useFactory:function(){return"function"==typeof m_()?new p_:new d_}},{provide:C_,useValue:"BrowserAnimations"},{provide:lb,useClass:g_},{provide:Sw,useFactory:function(){return new Nw}},{provide:Jw,useClass:E_},{provide:i.RendererFactory2,useFactory:function(e,t,n){return new w_(e,t,n)},deps:[E,Jw,i.NgZone]}];let N_=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:S_,imports:[F]}),e})();const A_=new i.Version("9.2.4"),T_=new i.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let D_,O_=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const e=this._document||document;return"object"==typeof e&&e?e:null}_getWindow(){const e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(i.isDevMode)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){const e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(e||!t||!t.body||"function"!=typeof getComputedStyle)return;const n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&A_.full!==cb.full&&console.warn("The Angular Material version ("+A_.full+") does not match the Angular CDK version ("+cb.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](ab),i["\u0275\u0275inject"](T_,8),i["\u0275\u0275inject"](s.DOCUMENT,8))},imports:[[ub],ub]}),e})();function I_(e,t){return class extends e{constructor(...e){super(...e),this.color=t}get color(){return this._color}set color(e){const n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}try{D_="undefined"!=typeof Intl}catch(lE){D_=!1}function M_(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"circle",3)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("animation-name","mat-progress-spinner-stroke-rotate-"+e.diameter)("stroke-dashoffset",e._strokeDashOffset,"px")("stroke-dasharray",e._strokeCircumference,"px")("stroke-width",e._circleStrokeWidth,"%"),i["\u0275\u0275attribute"]("r",e._circleRadius)}}function R_(e,t){if(1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275element"](0,"circle",3)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("stroke-dashoffset",e._strokeDashOffset,"px")("stroke-dasharray",e._strokeCircumference,"px")("stroke-width",e._circleStrokeWidth,"%"),i["\u0275\u0275attribute"]("r",e._circleRadius)}}class k_{constructor(e){this._elementRef=e}}const P_=I_(k_,"primary"),F_=new i.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let j_=(()=>{class e extends P_{constructor(t,n,r,i,o){super(t),this._elementRef=t,this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=e._diameters;s.has(r.head)||s.set(r.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=rb(e),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=rb(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,rb(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=function(e){if(function(){if(null==ob){const e="undefined"!=typeof document?document.head:null;ob=!(!e||!e.createShadowRoot&&!e.attachShadow)}return ob}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(e)||this._document.head,this._attachStyleNode(),e.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-10)/2}get _viewBox(){const e=2*this._circleRadius+this.strokeWidth;return`0 0 ${e} ${e}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,n=this._diameter,r=e._diameters;let i=r.get(t);if(!i||!i.has(n)){const e=this._document.createElement("style");e.setAttribute("mat-spinner-animation",n+""),e.textContent=this._getAnimationText(),t.appendChild(e),i||(i=new Set,r.set(t,i)),i.add(n)}}_getAnimationText(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*this._strokeCircumference).replace(/END_VALUE/g,""+.2*this._strokeCircumference).replace(/DIAMETER/g,""+this.diameter)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](sb),i["\u0275\u0275directiveInject"](s.DOCUMENT,8),i["\u0275\u0275directiveInject"](C_,8),i["\u0275\u0275directiveInject"](F_))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(i["\u0275\u0275attribute"]("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),i["\u0275\u0275styleProp"]("width",t.diameter,"px")("height",t.diameter,"px"),i["\u0275\u0275classProp"]("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](0,"svg",0),i["\u0275\u0275template"](1,M_,1,9,"circle",1),i["\u0275\u0275template"](2,R_,1,7,"circle",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275styleProp"]("width",t.diameter,"px")("height",t.diameter,"px"),i["\u0275\u0275property"]("ngSwitch","indeterminate"===t.mode),i["\u0275\u0275attribute"]("viewBox",t._viewBox),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",!1))},directives:[s.NgSwitch,s.NgSwitchCase],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),e._diameters=new WeakMap,e})(),L_=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[O_,s.CommonModule],O_]}),e})();const B_=["searchForRecipesForm"],U_=["owlElement"];function V_(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",39),i["\u0275\u0275elementStart"](1,"div",40),i["\u0275\u0275listener"]("dblclick",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().navigateToRecipe(n.recipeID)})),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"div",41),i["\u0275\u0275elementStart"](4,"div",42),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.index,r=i["\u0275\u0275nextContext"]();return r.timetableService.removeRecipeByObject(r.todayRecipes,n)})),i["\u0275\u0275elementStart"](5,"i",43),i["\u0275\u0275text"](6,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](7,"img",44),i["\u0275\u0275elementStart"](8,"div",45),i["\u0275\u0275elementStart"](9,"h3"),i["\u0275\u0275text"](10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"h4"),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"h4"),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275classMap"](e.recipeTypeHTML),i["\u0275\u0275advance"](6),i["\u0275\u0275propertyInterpolate1"]("src","./assets/img/",e.recipeTypeHTML,"_main.png",i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.recipeType),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.name),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",e.calories," kcal")}}function q_(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",46),i["\u0275\u0275text"](1,"Select from the options below"),i["\u0275\u0275elementEnd"]())}function z_(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",47),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().addRecipeButtonsContentSwitch="buttons"})),i["\u0275\u0275elementStart"](1,"i",23),i["\u0275\u0275text"](2,"keyboard_arrow_left"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](3,"Back "),i["\u0275\u0275elementEnd"]()}}function H_(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",52),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275elementStart"](2,"b"),i["\u0275\u0275text"](3,"Search for Recipes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](4," - Find recipes for your recipe plan, search for recipes from our database based on ingredients, time to cook, and more."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"p"),i["\u0275\u0275elementStart"](6,"b"),i["\u0275\u0275text"](7,"Search for Specific Food"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](8," - Find specific, more individual foods which aren't included in recipes, for example, add those tasty dark chocolate treats which don't appear in the recipes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"p"),i["\u0275\u0275elementStart"](10,"b"),i["\u0275\u0275text"](11,"Add a Custom Recipe"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](12," - Have your own recipe you'd like to add to your recipe plan? This option will allow you to add it"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"p"),i["\u0275\u0275elementStart"](14,"b"),i["\u0275\u0275text"](15,"Add from my Favourites"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](16," - Already have recipes saved in your favourite list? Retrieve them here and add them to your recipe plan"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function $_(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0,48),i["\u0275\u0275elementStart"](1,"button",49),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().retrieveRemainingNutrients()}))("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.addRecipeButtonsContentSwitch="content",t.addRecipeOption=0,t.showHelp=!1})),i["\u0275\u0275text"](2,"Search for Recipes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",49),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.addRecipeButtonsContentSwitch="content",t.addRecipeOption=1,t.showHelp=!1})),i["\u0275\u0275text"](4,"Search for Specific Food"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"button",49),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.addRecipeButtonsContentSwitch="content",t.addRecipeOption=2,t.showHelp=!1})),i["\u0275\u0275text"](6,"Add a Custom Recipe"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"button",49),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.addRecipeButtonsContentSwitch="content",t.addRecipeOption=3,t.showHelp=!1})),i["\u0275\u0275text"](8,"Add from my Favourites"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"br"),i["\u0275\u0275elementStart"](10,"p",50),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showHelp=!t.showHelp})),i["\u0275\u0275text"](11,"Not sure which option to click?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,H_,17,0,"div",51),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",e.showHelp)}}function W_(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",85),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngValue",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e)}}function Q_(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",86),i["\u0275\u0275text"](1,"Please make sure you have entered a value for all the boxes above before searching"),i["\u0275\u0275elementEnd"]())}function G_(e,t){1&e&&i["\u0275\u0275element"](0,"mat-progress-spinner",87)}function K_(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",96),i["\u0275\u0275elementStart"](1,"div",97),i["\u0275\u0275elementStart"](2,"h6",98),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",99),i["\u0275\u0275text"](5),i["\u0275\u0275element"](6,"br"),i["\u0275\u0275elementStart"](7,"a",100),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.index,r=i["\u0275\u0275nextContext"](4);return r.addRecipeFromSearch(r.pageNumber-1,n)})),i["\u0275\u0275text"](8,"Add"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate4"](" Calories: ",e.calories," | Carbs: ",e.carbs," | Protein: ",e.protein," | Fat: ",e.fat," ")}}function Z_(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",101),i["\u0275\u0275elementStart"](1,"a",102),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](4);return t.pageNumber=t.pageNumber-1})),i["\u0275\u0275text"](2,"Previous"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Y_(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",101),i["\u0275\u0275elementStart"](1,"a",102),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](4);return t.pageNumber=t.pageNumber-2})),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.pageNumber-2," ")}}function J_(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",101),i["\u0275\u0275elementStart"](1,"a",102),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](4);return t.pageNumber=t.pageNumber-1})),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.pageNumber-1)}}function X_(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",101),i["\u0275\u0275elementStart"](1,"a",102),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](4);return t.pageNumber=t.pageNumber+1})),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.pageNumber+1," ")}}function ex(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",101),i["\u0275\u0275elementStart"](1,"a",102),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](4);return t.pageNumber=t.pageNumber+2})),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](4);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",e.pageNumber+2," ")}}function tx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",101),i["\u0275\u0275elementStart"](1,"a",102),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](4);return t.pageNumber=t.pageNumber+1})),i["\u0275\u0275text"](2,"Next"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function nx(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",88),i["\u0275\u0275element"](1,"hr"),i["\u0275\u0275elementStart"](2,"h4"),i["\u0275\u0275text"](3,"Results"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,K_,9,5,"div",89),i["\u0275\u0275elementStart"](5,"nav",90),i["\u0275\u0275elementStart"](6,"ul",91),i["\u0275\u0275template"](7,Z_,3,0,"li",92),i["\u0275\u0275template"](8,Y_,3,1,"li",92),i["\u0275\u0275template"](9,J_,3,1,"li",92),i["\u0275\u0275elementStart"](10,"li",93),i["\u0275\u0275elementStart"](11,"span",94),i["\u0275\u0275text"](12),i["\u0275\u0275elementStart"](13,"span",95),i["\u0275\u0275text"](14,"(current)"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,X_,3,1,"li",92),i["\u0275\u0275template"](16,ex,3,1,"li",92),i["\u0275\u0275template"](17,tx,3,0,"li",92),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngForOf",e.searchResults[e.pageNumber-1]),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",1!==e.pageNumber),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.pageNumber===e.maxPage&&e.maxPage>2),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1!==e.pageNumber),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.pageNumber," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",e.pageNumber!==e.maxPage),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.pageNumber&&e.maxPage>2),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.pageNumber!==e.maxPage)}}function rx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"form",55,56),i["\u0275\u0275elementStart"](3,"div",1),i["\u0275\u0275elementStart"](4,"div",57),i["\u0275\u0275elementStart"](5,"div",58),i["\u0275\u0275elementStart"](6,"select",59),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).selectedRecipeType=t})),i["\u0275\u0275template"](7,W_,2,2,"option",60),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](8,"input",61,62),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"p",50),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2);return t.searchForRecipesAdvanced=!t.searchForRecipesAdvanced})),i["\u0275\u0275text"](11,"More options"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",63),i["\u0275\u0275elementStart"](13,"div",1),i["\u0275\u0275elementStart"](14,"div",64),i["\u0275\u0275elementStart"](15,"label",65),i["\u0275\u0275text"](16,"Calories"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",57),i["\u0275\u0275elementStart"](18,"input",66,67),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).remainingNutrients.caloriesRemaining=t})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"div",64),i["\u0275\u0275elementStart"](21,"label",65),i["\u0275\u0275text"](22,"Carbs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",57),i["\u0275\u0275elementStart"](24,"input",68,69),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).remainingNutrients.carbsRemaining=t})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",64),i["\u0275\u0275elementStart"](27,"label",70),i["\u0275\u0275text"](28,"Fat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",57),i["\u0275\u0275elementStart"](30,"input",71,72),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).remainingNutrients.fatRemaining=t})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",64),i["\u0275\u0275elementStart"](33,"label",73),i["\u0275\u0275text"](34,"Protein"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"div",57),i["\u0275\u0275elementStart"](36,"input",74,75),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).remainingNutrients.proteinRemaining=t})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](38,"div",64),i["\u0275\u0275element"](39,"br"),i["\u0275\u0275elementStart"](40,"div",76),i["\u0275\u0275elementStart"](41,"label",77),i["\u0275\u0275elementStart"](42,"input",78),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"](2);return t.useRecommended=!t.useRecommended,t.printUseRecommended()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](43," Use recommended nutrients "),i["\u0275\u0275elementStart"](44,"span",79),i["\u0275\u0275element"](45,"span",80),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"button",81),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).searchForRecipes()})),i["\u0275\u0275text"](47,"Search"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](48,Q_,2,0,"span",82),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](49,G_,1,0,"mat-progress-spinner",83),i["\u0275\u0275template"](50,nx,18,8,"div",84),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",e.selectedRecipeType),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.recipeTypes),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("hidden",!e.searchForRecipesAdvanced),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",e.remainingNutrients.caloriesRemaining)("value",e.remainingNutrients.caloriesRemaining)("readonly",e.useRecommended),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",e.remainingNutrients.carbsRemaining)("value",e.remainingNutrients.carbsRemaining)("readonly",e.useRecommended),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",e.remainingNutrients.fatRemaining)("value",e.remainingNutrients.fatRemaining)("readonly",e.useRecommended),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngModel",e.remainingNutrients.proteinRemaining)("value",e.remainingNutrients.proteinRemaining)("readonly",e.useRecommended),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",e.searchFormError),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===e.resultsReturned),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.resultsReturned)}}function ix(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," Search for food... "),i["\u0275\u0275elementContainerEnd"]())}function ox(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," Add a custom recipe... "),i["\u0275\u0275elementContainerEnd"]())}function sx(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275text"](1," Add from favourite recipes "),i["\u0275\u0275elementContainerEnd"]())}function ax(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0,53),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().addRecipeButtonsContentSwitch="buttons"})),i["\u0275\u0275template"](1,rx,51,18,"ng-container",54),i["\u0275\u0275template"](2,ix,2,0,"ng-container",54),i["\u0275\u0275template"](3,ox,2,0,"ng-container",54),i["\u0275\u0275template"](4,sx,2,0,"ng-container",54),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===e.addRecipeOption),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===e.addRecipeOption),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===e.addRecipeOption),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",3===e.addRecipeOption)}}const ux=function(){return["owl-carousel","owl-theme"]};let cx=(()=>{class e{constructor(e,t,n,r,i){this.timetableService=e,this.edamamService=t,this.router=n,this.changeDetector=r,this.ngZone=i,this.showDaily=!0,this.monShow=!0,this.selectedDayIndex=-1,this.addRecipeOption=0,this.addRecipeButtonsContentSwitch="buttons",this.showHelp=!1,this.searchForRecipesAdvanced=!1,this.useRecommended=!0,this.searchFormError=!1,this.recipeTypes=["Select your recipe","Breakfast","Lunch","Dinner","Snack"],this.searchResults=[],this.pageNumber=1,this.maxResults=50,this.maxPage=Math.floor(this.maxResults/10),this.resultsReturned=-1,this.progressBars={carbsPercentage:0,carbsRemaining:0,proteinPercentage:0,proteinRemaining:0,fatPercentage:0,fatRemaining:0,caloriesPercentage:0,caloriesRemaining:0},this.itemsLoaded=!1,this.mySlideItems=[],this.myCarouselItems=[],this.mySlideOptions={margin:5,dots:!1,nav:!1,responsive:{0:{items:1,autoplay:!1},361:{items:2,autoplay:!1},600:{items:2,autoplay:!1},680:{items:3,autoplay:!1}}},this.selectedRecipeType=this.recipeTypes[0],e.arrayUpdated.subscribe(t=>{this.allRecipes=e.getAllRecipes(),this.todayRecipes=e.getTodayRecipes(),this.updateProgress(),this.changeDetector.detectChanges()})}addRecipesToTodayCarousel(e){this.mySlideItems=[];for(let t=0;t<e.length;t++){const n=e[t];n.recipeTypeHTML=n.recipeType.toLowerCase(),n.isRecipe=!0,this.mySlideItems.push(n)}this.owlElement.reInit()}retrieveRemainingNutrients(){const e=this.timetableService.getRecipePlanStructure(this.allRecipes[this.selectedDayIndex]);console.log(this.allRecipes[this.selectedDayIndex]),console.log(e);let t=0,n=0,r=0,i=0;e.forEach(e=>{t+=e.calories,n+=e.carbs,r+=e.fat,i+=e.protein});const o=e.length;t/=o,n/=o,r/=o,i/=o,this.remainingNutrients={caloriesRemaining:t,carbsRemaining:n,fatRemaining:r,proteinRemaining:i},console.log(this.remainingNutrients)}navigateToRecipe(e){this.selectedDayIndex=this.timetableService.getDayIndexByName(this.timetableService.getTodayName()),this.ngZone.run(()=>this.router.navigate(["recipes/"],{queryParams:{selectedDayIndex:this.selectedDayIndex,recipeID:e}})).then()}printUseRecommended(){console.log("Use recommended: "+this.useRecommended)}searchForRecipes(){return Go(this,void 0,void 0,(function*(){if(this.searchForRecipesForm.statusChanges.subscribe(e=>{"VALID"===e&&this.selectedRecipeType!==this.recipeTypes[0]?(this.searchFormError=!1,console.log("Search form changed to valid, selectedRecipeType = "+this.selectedRecipeType)):(this.searchFormError=!0,console.log("Search form changed is invalid, selectedRecipeType = "+this.selectedRecipeType))}),this.searchForRecipesForm.valid&&this.selectedRecipeType!==this.recipeTypes[0]){this.searchFormError=!1,this.pageNumber=1;const e={calories:this.searchForRecipesForm.value.calories,carbs:this.searchForRecipesForm.value.carbs,protein:this.searchForRecipesForm.value.protein,fat:this.searchForRecipesForm.value.fat};this.resultsReturned=0,this.searchResults=yield this.edamamService.searchForRecipes(e,this.searchForRecipesForm.value.ingredient,this.maxResults),this.maxPage=this.searchResults.length,this.resultsReturned=1,console.log(""+this.maxPage)}else this.searchFormError=!0}))}addRecipeFromSearch(e,t){const n=this.searchResults[e][t];n.recipeType=this.selectedRecipeType,console.log(n),console.log(this.selectedDayIndex),this.timetableService.addRecipeToDay(this.selectedDayIndex,n)}ngAfterViewInit(){this.allRecipes=this.timetableService.getAllRecipes(),this.todayRecipes=this.timetableService.getTodayRecipes(),this.updateProgress(),this.changeDetector.detectChanges()}updateProgress(){this.addRecipesToTodayCarousel(this.todayRecipes.recipes),console.log("Daily Carbs: "+this.timetableService.dailyCarbs),console.log("Used Carbs "+this.todayRecipes.totalCarbs),console.log("Daily Protein: "+this.timetableService.dailyProtein),console.log("Used Protein "+this.todayRecipes.totalProtein),console.log("Daily Fat: "+this.timetableService.dailyFat),console.log("Used Fat "+this.todayRecipes.totalFat),console.log("Daily Calories: "+this.timetableService.dailyCalories),console.log("Used Calories: "+this.todayRecipes.totalCalories),this.progressBars={carbsPercentage:this.todayRecipes.totalCarbs/this.timetableService.dailyCarbs*100,carbsRemaining:Math.floor(this.todayRecipes.carbsRemaining),proteinPercentage:this.todayRecipes.totalProtein/this.timetableService.dailyProtein*100,proteinRemaining:Math.floor(this.todayRecipes.proteinRemaining),fatPercentage:this.todayRecipes.totalFat/this.timetableService.dailyFat*100,fatRemaining:Math.floor(this.todayRecipes.fatRemaining),caloriesPercentage:this.todayRecipes.totalCalories/this.timetableService.dailyCalories*100,caloriesRemaining:Math.floor(this.todayRecipes.caloriesRemaining)},console.log("Progress"),console.log(this.progressBars)}clear(){this.timetableService.clearAll()}generateTimetable(){this.timetableService.generate()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Zv),i["\u0275\u0275directiveInject"](Kv),i["\u0275\u0275directiveInject"](dr),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](i.NgZone))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-timetablepage"]],viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275viewQuery"](B_,!0),i["\u0275\u0275viewQuery"](U_,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.searchForRecipesForm=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.owlElement=n.first))},decls:84,vars:22,consts:[[1,"container",2,"background","white"],[1,"row"],[1,"col-6","col-sm-6",2,"padding-left","30px"],[1,"col-md-12",2,"border-left","2px solid #bac9ff"],["src","assets/img/eat.png"],[1,"mt-2"],[1,"col-md-12",2,"border-left","2px solid #ffb9ce"],["src","assets/img/burn.png"],[1,"col-6","col-sm-6","text-center"],[1,"col-3","col-sm-3"],[1,"progress","p1"],["role","progressbar","aria-valuenow","5","aria-valuemin","0","aria-valuemax","10",1,"progress-bar"],[1,"progress","p2"],[1,"progress","p3"],[1,"progress","p4"],[1,"container"],[1,"dropdown"],[1,"mt-5"],[1,"text-center"],[1,"container",2,"background","#f3f5f9","padding-bottom","100px"],[1,"col-6","col-sm-6"],["data-toggle","modal","data-target","#exampleModal",1,"clickable",3,"click"],[1,"col-6","col-sm-6","text-right"],[1,"material-icons"],[1,"mb-5"],[3,"options","items","carouselClasses"],["owlElement",""],["class","item",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["class","modal-title","id","exampleModalLabel",4,"ngIf"],["type","button","class","btn btn-default btn-round",3,"click",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","fade",4,"ngIf"],["class","fade",3,"click",4,"ngIf"],[1,"item"],[3,"dblclick"],[1,"col-12"],[1,"clickable",2,"position","fixed","right","20px",3,"click"],[1,"material-icons",2,"color","white"],["alt","",1,"inner_img",3,"src"],[1,"inner_text"],["id","exampleModalLabel",1,"modal-title"],["type","button",1,"btn","btn-default","btn-round",3,"click"],[1,"fade"],["type","button",1,"btn","btn-default","addFoodBlock",3,"click"],[1,"clickableText",3,"click"],["class","help",4,"ngIf"],[1,"help"],[1,"fade",3,"click"],[4,"ngIf"],["ngNativeValidate",""],["searchForRecipesForm","ngForm"],[1,"input-group"],[1,"input-group-prepend",2,"padding-right","10px"],["name","recipeType","id","recipeType",1,"browser-default","custom-select","mb-3",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","name","ingredient","id","ingredient","placeholder","Ingredient...","ngModel","","minlength","1","required","",1,"form-control"],["ingredient","ngModel"],[1,"advanced",3,"hidden"],[1,"form-group","col-md-4"],["for","weight"],["type","number","step","any","name","calories","id","calories","ngModel","","minlength","1","required","",1,"form-control",3,"ngModel","value","readonly","ngModelChange"],["calories","ngModel"],["type","number","step","any","name","carbs","id","carbs","ngModel","","minlength","1","required","",1,"form-control",3,"ngModel","value","readonly","ngModelChange"],["carbs","ngModel"],["for","fat"],["type","number","step","any","name","fat","id","fat","ngModel","","minlength","1","required","",1,"form-control",3,"ngModel","value","readonly","ngModelChange"],["fat","ngModel"],["for","protein"],["type","number","step","any","name","protein","id","protein","ngModel","","minlength","1","required","",1,"form-control",3,"ngModel","value","readonly","ngModelChange"],["protein","ngModel"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","value","","checked","",1,"form-check-input",3,"click"],[1,"form-check-sign"],[1,"check"],["type","button",1,"btn","btn-primary","pull-right",3,"click"],["class","help-block",4,"ngIf"],["class","text-center","mode","indeterminate",4,"ngIf"],["id","results","style","margin-top: 75px",4,"ngIf"],[3,"ngValue"],[1,"help-block"],["mode","indeterminate",1,"text-center"],["id","results",2,"margin-top","75px"],["class","card",4,"ngFor","ngForOf"],["aria-label","..."],[1,"pagination","justify-content-center"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"sr-only"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-footer"],[3,"click"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"h4"),i["\u0275\u0275text"](4,"Your Meal Plan"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"div",3),i["\u0275\u0275elementStart"](7,"h6"),i["\u0275\u0275text"](8,"Eaten"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"p"),i["\u0275\u0275element"](10,"img",4),i["\u0275\u0275text"](11," 300 kcal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](12,"div",5),i["\u0275\u0275elementStart"](13,"div",1),i["\u0275\u0275elementStart"](14,"div",6),i["\u0275\u0275elementStart"](15,"h6"),i["\u0275\u0275text"](16,"Burned"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"p"),i["\u0275\u0275element"](18,"img",7),i["\u0275\u0275text"](19," 200 kcal"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](20,"div",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",1),i["\u0275\u0275elementStart"](22,"div",9),i["\u0275\u0275elementStart"](23,"h6"),i["\u0275\u0275text"](24,"Carbs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"div",10),i["\u0275\u0275element"](26,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"p"),i["\u0275\u0275text"](28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",9),i["\u0275\u0275elementStart"](30,"h6"),i["\u0275\u0275text"](31,"Protein"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",12),i["\u0275\u0275element"](33,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"p"),i["\u0275\u0275text"](35),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"div",9),i["\u0275\u0275elementStart"](37,"h6"),i["\u0275\u0275text"](38,"Fat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",13),i["\u0275\u0275element"](40,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"p"),i["\u0275\u0275text"](42),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"div",9),i["\u0275\u0275elementStart"](44,"h6"),i["\u0275\u0275text"](45,"Calories"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"div",14),i["\u0275\u0275element"](47,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"p"),i["\u0275\u0275text"](49),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](50,"div",15),i["\u0275\u0275elementStart"](51,"div",1),i["\u0275\u0275elementStart"](52,"div",16),i["\u0275\u0275element"](53,"div",17),i["\u0275\u0275elementStart"](54,"div",18),i["\u0275\u0275text"](55,"More info"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](56,"div",19),i["\u0275\u0275elementStart"](57,"div",1),i["\u0275\u0275elementStart"](58,"div",20),i["\u0275\u0275elementStart"](59,"h3"),i["\u0275\u0275text"](60),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](61,"div",21),i["\u0275\u0275listener"]("click",(function(){return t.selectedDayIndex=t.timetableService.getDayIndexByName(t.timetableService.getTodayName())})),i["\u0275\u0275text"](62," Add recipe to today "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"div",22),i["\u0275\u0275elementStart"](64,"h3"),i["\u0275\u0275text"](65,"Plan your week "),i["\u0275\u0275elementStart"](66,"span",23),i["\u0275\u0275text"](67,"arrow_forward_ios"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](68,"div",24),i["\u0275\u0275elementStart"](69,"owl-carousel",25,26),i["\u0275\u0275template"](71,V_,15,6,"div",27),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](72,"div",28),i["\u0275\u0275elementStart"](73,"div",29),i["\u0275\u0275elementStart"](74,"div",30),i["\u0275\u0275elementStart"](75,"div",31),i["\u0275\u0275template"](76,q_,2,0,"div",32),i["\u0275\u0275template"](77,z_,4,0,"button",33),i["\u0275\u0275elementStart"](78,"button",34),i["\u0275\u0275listener"]("click",(function(){return t.addRecipeButtonsContentSwitch="buttons",t.showHelp=!1})),i["\u0275\u0275elementStart"](79,"span",35),i["\u0275\u0275text"](80,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](81,"div",36),i["\u0275\u0275template"](82,$_,13,1,"ng-container",37),i["\u0275\u0275template"](83,ax,5,4,"ng-container",38),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](26),i["\u0275\u0275styleProp"]("width",t.progressBars.carbsPercentage+"%"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",t.progressBars.carbsRemaining,"g left"),i["\u0275\u0275advance"](5),i["\u0275\u0275styleProp"]("width",t.progressBars.proteinPercentage+"%"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",t.progressBars.proteinRemaining,"g left"),i["\u0275\u0275advance"](5),i["\u0275\u0275styleProp"]("width",t.progressBars.fatPercentage+"%"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",t.progressBars.fatRemaining,"g left"),i["\u0275\u0275advance"](5),i["\u0275\u0275styleProp"]("width",t.progressBars.caloriesPercentage+"%"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",t.progressBars.caloriesRemaining,"g left"),i["\u0275\u0275advance"](11),i["\u0275\u0275textInterpolate"](t.timetableService.getTodayName()),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("options",t.mySlideOptions)("items",t.myCarouselItems)("carouselClasses",i["\u0275\u0275pureFunction0"](21,ux)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.mySlideItems),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf","buttons"===t.addRecipeButtonsContentSwitch),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","content"===t.addRecipeButtonsContentSwitch),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf","buttons"===t.addRecipeButtonsContentSwitch),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","content"===t.addRecipeButtonsContentSwitch))},directives:[nb.OwlCarousel,s.NgForOf,s.NgIf,Jr,qi,wi,Yr,Zi,Hr,ro,Xi,li,_i,Si,j_],styles:["@media (max-width:775px){.showBasedOnSS[_ngcontent-%COMP%]{display:none}}.addFoodBlock[_ngcontent-%COMP%]{display:block;min-width:100%}.btn-default[_ngcontent-%COMP%]:hover{background-color:#ea1e63}.help-block[_ngcontent-%COMP%]{color:red}"]}),e})(),lx=(()=>{class e{constructor(){this.title="Generate timetable"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-signup"]],decls:8,vars:0,consts:[[2,"font-size","18px","font-family","arial"],["data-toggle","modal","data-backdrop","static","data-target","#signUpModel",1,"btn","btn-rose"],[2,"font-size","14px"],["data-toggle","modal","data-backdrop","static","data-target","#loginModel",1,"clickableText"],[2,"color","#0079bf","font-family","arial","font-size","12px"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",0),i["\u0275\u0275text"](1,"Start your free trial now!"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"a",2),i["\u0275\u0275text"](4,"Create meal plan"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"p",3),i["\u0275\u0275elementStart"](6,"a",4),i["\u0275\u0275text"](7," or click here to login"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())},styles:[".clickableText[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();const hx=["signUpForm"],dx=["metricsForm"],fx=["paypal"];function px(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h5",84),i["\u0275\u0275text"](1,"Help us find recipes for you by selecting your preferred ingredients"),i["\u0275\u0275elementEnd"]())}function mx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h5",85),i["\u0275\u0275text"](1,"To help us calculate your required nutrients please enter in your details"),i["\u0275\u0275elementEnd"]())}function gx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h5",86),i["\u0275\u0275text"](1,"These details are required to log in"),i["\u0275\u0275elementEnd"]())}function yx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",90),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).addIngredient("pork")})),i["\u0275\u0275element"](1,"img",91),i["\u0275\u0275text"](2," Pork "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"highlight_off"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function vx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",93),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).removeIngredient("pork")})),i["\u0275\u0275element"](1,"img",91),i["\u0275\u0275text"](2," Pork "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function bx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",90),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).addIngredient("chicken")})),i["\u0275\u0275element"](1,"img",94),i["\u0275\u0275text"](2," Chicken "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"highlight_off"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function wx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",93),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).removeIngredient("chicken")})),i["\u0275\u0275element"](1,"img",94),i["\u0275\u0275text"](2," Chicken "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function _x(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",90),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).addIngredient("veal")})),i["\u0275\u0275element"](1,"img",95),i["\u0275\u0275text"](2," Veal "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"highlight_off"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function xx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",93),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).removeIngredient("veal")})),i["\u0275\u0275element"](1,"img",95),i["\u0275\u0275text"](2," Veal "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Ex(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",90),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).addIngredient("eggs")})),i["\u0275\u0275element"](1,"img",96),i["\u0275\u0275text"](2," Eggs "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"highlight_off"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Cx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",93),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).removeIngredient("eggs")})),i["\u0275\u0275element"](1,"img",96),i["\u0275\u0275text"](2," Eggs "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Sx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",90),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).addIngredient("berries")})),i["\u0275\u0275element"](1,"img",97),i["\u0275\u0275text"](2," Berries "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"highlight_off"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Nx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",93),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).removeIngredient("berries")})),i["\u0275\u0275element"](1,"img",97),i["\u0275\u0275text"](2," Berries "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Ax(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",90),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).addIngredient("nuts")})),i["\u0275\u0275element"](1,"img",98),i["\u0275\u0275text"](2," Nuts "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"highlight_off"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Tx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",93),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).removeIngredient("nuts")})),i["\u0275\u0275element"](1,"img",98),i["\u0275\u0275text"](2," Nuts "),i["\u0275\u0275elementStart"](3,"div",92),i["\u0275\u0275elementStart"](4,"i",73),i["\u0275\u0275text"](5,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Dx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,yx,6,0,"button",87),i["\u0275\u0275template"](2,vx,6,0,"button",88),i["\u0275\u0275template"](3,bx,6,0,"button",87),i["\u0275\u0275template"](4,wx,6,0,"button",88),i["\u0275\u0275template"](5,_x,6,0,"button",87),i["\u0275\u0275template"](6,xx,6,0,"button",88),i["\u0275\u0275template"](7,Ex,6,0,"button",87),i["\u0275\u0275template"](8,Cx,6,0,"button",88),i["\u0275\u0275template"](9,Sx,6,0,"button",87),i["\u0275\u0275template"](10,Nx,6,0,"button",88),i["\u0275\u0275template"](11,Ax,6,0,"button",87),i["\u0275\u0275template"](12,Tx,6,0,"button",88),i["\u0275\u0275elementStart"](13,"button",89),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.signUpStep=t.signUpStep+1})),i["\u0275\u0275text"](14,"Next"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.porkSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.porkSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.chickenSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.chickenSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.vealSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.vealSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.eggsSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.eggsSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.berriesSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.berriesSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.nutsSelected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.nutsSelected)}}function Ox(e,t){1&e&&i["\u0275\u0275element"](0,"span",99)}function Ix(e,t){1&e&&i["\u0275\u0275element"](0,"span",99)}function Mx(e,t){1&e&&i["\u0275\u0275element"](0,"span",99)}function Rx(e,t){1&e&&i["\u0275\u0275element"](0,"span",99)}function kx(e,t){1&e&&i["\u0275\u0275element"](0,"span",99)}function Px(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1," Please make sure you enter in your height in centimeters "),i["\u0275\u0275elementEnd"]())}const Fx=function(e,t){return{"btn-default":e,"btn-primary":t}};function jx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",100),i["\u0275\u0275element"](1,"input",101,102),i["\u0275\u0275elementStart"](3,"div",71),i["\u0275\u0275elementStart"](4,"button",103),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().centimeters=!0})),i["\u0275\u0275text"](5,"Cm"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",103),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().centimeters=!1})),i["\u0275\u0275text"](7,"Ft"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,Px,2,0,"span",45),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](2),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!t.centimeters),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](4,Fx,!t.centimeters,t.centimeters)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](7,Fx,t.centimeters,!t.centimeters)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(!e.valid||0===e.value.length)&&e.touched)}}function Lx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1," Please make sure you enter in your height in feet and inches "),i["\u0275\u0275elementEnd"]())}function Bx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",100),i["\u0275\u0275element"](1,"input",105,106),i["\u0275\u0275element"](3,"input",107,108),i["\u0275\u0275elementStart"](5,"div",71),i["\u0275\u0275elementStart"](6,"button",103),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().centimeters=!0})),i["\u0275\u0275text"](7,"Cm"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"button",103),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().centimeters=!1})),i["\u0275\u0275text"](9,"Ft"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,Lx,2,0,"span",45),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](2),t=i["\u0275\u0275reference"](4),n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n.centimeters),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",n.centimeters),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](5,Fx,!n.centimeters,n.centimeters)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](8,Fx,n.centimeters,!n.centimeters)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(!e.valid||0===e.value.length)&&e.touched||(!t.valid||0===t.value.length)&&t.touched)}}function Ux(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1," Please make sure you enter in your weight in pounds "),i["\u0275\u0275elementEnd"]())}function Vx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",100),i["\u0275\u0275element"](1,"input",109,110),i["\u0275\u0275elementStart"](3,"div",71),i["\u0275\u0275elementStart"](4,"button",103),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().lbs=!0})),i["\u0275\u0275text"](5,"Lbs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",103),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().lbs=!1})),i["\u0275\u0275text"](7,"KG"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,Ux,2,0,"span",45),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](2),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!t.lbs),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](4,Fx,!t.lbs,t.lbs)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](7,Fx,t.lbs,!t.lbs)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(!e.valid||0===e.value.length)&&e.touched)}}function qx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1," Please make sure you enter in your weight in kilograms "),i["\u0275\u0275elementEnd"]())}function zx(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",100),i["\u0275\u0275element"](1,"input",111,112),i["\u0275\u0275elementStart"](3,"div",71),i["\u0275\u0275elementStart"](4,"button",103),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().lbs=!0})),i["\u0275\u0275text"](5,"Lbs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",103),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().lbs=!1})),i["\u0275\u0275text"](7,"KG"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,qx,2,0,"span",45),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](2),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",t.lbs),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](4,Fx,!t.lbs,t.lbs)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](7,Fx,t.lbs,!t.lbs)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(!e.valid||0===e.value.length)&&e.touched)}}function Hx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1," Please make sure you enter a valid date of birth "),i["\u0275\u0275elementEnd"]())}function $x(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1,"Please enter a valid name"),i["\u0275\u0275elementEnd"]())}function Wx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1,"Please enter a valid email"),i["\u0275\u0275elementEnd"]())}function Qx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1,"Please enter at least six characters"),i["\u0275\u0275elementEnd"]())}function Gx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",104),i["\u0275\u0275text"](1,"Please make sure the values above are valid before checking out"),i["\u0275\u0275elementEnd"]())}function Kx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h5",113),i["\u0275\u0275text"](1,"Login"),i["\u0275\u0275elementEnd"]())}function Zx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h5",113),i["\u0275\u0275text"](1,"Reset password"),i["\u0275\u0275elementEnd"]())}function Yx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",104),i["\u0275\u0275text"](1," Please enter a valid email address "),i["\u0275\u0275elementEnd"]())}function Jx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",104),i["\u0275\u0275text"](1," Please enter in your password "),i["\u0275\u0275elementEnd"]())}function Xx(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",104),i["\u0275\u0275text"](1," Incorrect login details, please check you are typing in your details correctly "),i["\u0275\u0275elementEnd"]())}function eE(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",114),i["\u0275\u0275text"](1," An email has been sent to your email address to reset your password "),i["\u0275\u0275elementEnd"]())}function tE(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",104),i["\u0275\u0275text"](1," Please enter a valid email address "),i["\u0275\u0275elementEnd"]())}function nE(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p",104),i["\u0275\u0275text"](1," We can't find that email in our system. Please check you've typed it in correctly. "),i["\u0275\u0275elementEnd"]())}let rE=(()=>{class e{constructor(e,t){this.auth=e,this.changeDetector=t,this.ingredients=[],this.porkSelected=!1,this.chickenSelected=!1,this.vealSelected=!1,this.eggsSelected=!1,this.berriesSelected=!1,this.nutsSelected=!1,this.signUpStep=0,this.progress=0,this.loginStep=0,this.resetPasswordError=!1,this.resetPasswordSuccess=!1,this.loginAttemptFailed=!1,this.centimeters=!0,this.lbs=!0,this.male=void 0,this.goals=void 0,this.today=new Date,this.buttonError=!1,this.buttonClickable=!1,this.planID="P-1BH46091SU0529455L2YMZFY"}ngAfterViewInit(){this.signUpStep=0,this.progress=0,this.loginStep=0,console.log(`signUpStep: ${this.signUpStep}, loginStep: ${this.loginStep}`),this.changeDetector.detectChanges(),paypal.Buttons({onInit:(e,t)=>{t.disable(),this.signUpForm.statusChanges.subscribe(e=>{this.loginStatus=e,"VALID"===e&&this.signUpForm.value.name.length>0&&this.signUpForm.value.email.length>0&&this.signUpForm.value.password.length>0?(console.log("Form enabled"),t.enable()):(console.log("Form disabled"),t.disable())})},onClick:e=>{"VALID"!==this.loginStatus&&(this.buttonError=!0)},createSubscription:(e,t)=>t.subscription.create({plan_id:this.planID}),onApprove:(e,t)=>{console.log(e+" transaction approved"),this.submitSignUpDetails(),console.log(e.subscriptionID)},onCancel:e=>{console.log("Transaction cancelled")},onError:e=>{console.log(e)}}).render(this.paypalElement.nativeElement),console.log(navigator.userAgent)}assignUserMetrics(){switch(this.weightKG=this.lbs?this.userMetricsForm.value.pounds/2.2:this.userMetricsForm.value.kilograms,this.heightCM=this.centimeters?this.userMetricsForm.value.centimeters:30.48*this.userMetricsForm.value.feet+2.54*this.userMetricsForm.value.inches,!0){case 0===this.goals:this.goalsText="maintain";break;case-1===this.goals:this.goalsText="loseOne";break;case 1===this.goals:this.goalsText="gainOne"}switch(!0){case!0===this.male:this.sexText="Male";break;case!1===this.male:this.sexText="Female"}this.dateOfBirth=this.userMetricsForm.value.dateOfBirth,this.age=this.convertDOBtoAge(this.dateOfBirth),console.log("Goals: "+this.goalsText),console.log("Goals: "+this.sexText)}submitSignUpDetails(){return Go(this,void 0,void 0,(function*(){this.name=this.signUpForm.value.name;const e=yield this.auth.signUp(this.signUpForm.value.email,this.signUpForm.value.password);yield this.auth.addMetrics(e,this.name,this.ingredients,this.goalsText,this.sexText,this.heightCM,this.weightKG,this.dateOfBirth,this.age),yield this.auth.addDefaultTimetable(e)}))}submitSignInDetails(e){return Go(this,void 0,void 0,(function*(){this.resetPasswordSuccess=!1;const t=yield this.auth.signIn(e.value.emailLogin,e.value.passwordLogin);switch(!0){case"auth/wrong-password"===t:case"auth/user-not-found"===t:this.loginAttemptFailed=!0}}))}submitResetPassword(e){return Go(this,void 0,void 0,(function*(){const t=yield this.auth.resetPassword(e.value.forgotEmail);switch(console.log(t),!0){case"auth/user-not-found"===t:this.resetPasswordError=!0;break;case"successful"===t:this.loginStep=0,this.resetPasswordSuccess=!0}}))}addIngredient(e){switch(this.ingredients.push(e),e){case"pork":this.porkSelected=!0;break;case"chicken":this.chickenSelected=!0;break;case"veal":this.vealSelected=!0;break;case"eggs":this.eggsSelected=!0;break;case"berries":this.berriesSelected=!0;break;case"nuts":this.nutsSelected=!0}console.log(this.ingredients)}removeIngredient(e){const t=this.ingredients.indexOf(e);switch(-1!==t&&this.ingredients.splice(t,1),e){case"pork":this.porkSelected=!1;break;case"chicken":this.chickenSelected=!1;break;case"veal":this.vealSelected=!1;break;case"eggs":this.eggsSelected=!1;break;case"berries":this.berriesSelected=!1;break;case"nuts":this.nutsSelected=!1}console.log(this.ingredients)}convertDOBtoAge(e){const t=new Date,n=new Date(e);let r=t.getFullYear()-n.getFullYear();const i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&r--,r}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Qv),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-landingpage"]],viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275viewQuery"](hx,!0),i["\u0275\u0275viewQuery"](dx,!0),i["\u0275\u0275viewQuery"](fx,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.signUpForm=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.userMetricsForm=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.paypalElement=n.first))},decls:188,vars:34,consts:[["id","background"],[1,"container-fluid",2,"margin-top","33%"],[1,"row"],[1,"col-md-6","border-right","border-bottom"],[1,"text-center",2,"color","#d43440","font-family","arial","font-size","18px"],[2,"margin-left","120px","margin-top","30px","font-family","arial","font-size","18px"],["src","assets/img/tick.png","height","30","width","30"],[2,"margin-left","120px","font-family","arial","font-size","18px"],[1,"p","text-center"],["type","button","routerLink","/more",1,"btn","btn-default",2,"margin","30px"],[1,"col-md-6","text-center","border-bottom",2,"margin-top","11%"],["id","signUpModel","tabindex","-1","role","dialog","aria-labelledby","signUpModel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["class","modal-title","id","step1label",4,"ngIf"],["class","modal-title","id","step2label",4,"ngIf"],["class","modal-title","id","step3label",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],["id","Metrics",3,"hidden"],["ngNativeValidate",""],["metricsForm","ngForm"],["id","user-data"],[1,"form-group"],["for","sex"],[1,"form-check","text-center"],[1,"form-check-label","space-right",3,"click"],["type","radio","name","loseOne","id","loseOne","value","option1","checked","","ngModel","",1,"form-check-input"],["loseOne","ngModel"],[1,"circle"],["class","check",4,"ngIf"],["type","radio","name","maintain","id","maintain","value","option2","checked","",1,"form-check-input"],[1,"form-check-label",3,"click"],["type","radio","name","gainOne","id","gainOne","value","option3","checked","",1,"form-check-input"],["type","radio","name","male","id","male","value","option1","checked","",1,"form-check-input"],["type","radio","name","female","id","female","value","option2","checked","",1,"form-check-input"],["for","height"],["class","input-group",4,"ngIf"],["for","weight"],["for","Age"],["type","date","name","dateOfBirth","id","dateOfBirth","ngModel","","min","01-01-1900","max","01/01/2010","required","",1,"form-control"],["dateOfBirth","ngModel"],["class","help-block",4,"ngIf"],[1,"btn","btn-default","pull-left",3,"disabled","click"],["type","submit",1,"btn","btn-primary","pull-right",3,"disabled","click"],["id","payment",3,"hidden"],["signUpForm","ngForm"],["for","name","required",""],["type","text","name","name","id","name","ngModel","","minlength","1",1,"form-control"],["name","ngModel"],["for","email","required","","email",""],["type","email","name","email","id","email","ngModel","","email","",1,"form-control"],["email","ngModel"],["for","pwd"],["type","password","name","password","id","password","ngModel","","required","","minlength","6",1,"form-control"],["password","ngModel"],[1,"text-center"],[1,"card-title",2,"color","red","text-decoration","line-through"],[1,"card-title"],["paypal",""],[1,"progress","progress-striped","active",3,"hidden"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",2,"width","0%"],[1,"sr-only"],["id","loginModel","tabindex","-1","role","dialog","aria-labelledby","loginModel","aria-hidden","true",1,"modal","fade"],["class","modal-title",4,"ngIf"],["ngNativeValidate","",1,"text-center",3,"hidden","ngSubmit"],["loginForm","ngForm"],[1,"input-group","mb-3"],[1,"input-group-append"],[1,"input-group-text"],[1,"material-icons"],["type","email","name","emailLogin","value","","placeholder","Email","ngModel","","required","",1,"form-control"],["emailLogin","ngModel"],["type","password","name","passwordLogin","placeholder","Password","ngModel","","required","",1,"form-control"],["passwordLogin","ngModel"],["class","help-block","style","color: green",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"clickableText",3,"click"],["forgotPassword","ngForm"],["type","email","name","forgotEmail","id","forgotEmail","placeholder","Email","ngModel","","required","",1,"form-control"],["forgotEmail","ngModel"],["id","step1label",1,"modal-title"],["id","step2label",1,"modal-title"],["id","step3label",1,"modal-title"],["class","btn btn-default btn-round text-left","style","display:block; min-width:100%",3,"click",4,"ngIf"],["class","btn btn-success btn-round text-left","style","display:block; min-width:100%",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","pull-right",3,"click"],[1,"btn","btn-default","btn-round","text-left",2,"display","block","min-width","100%",3,"click"],["src","assets/img/ingredients/pork.png",2,"width","40px","height","28px","margin-right","20px"],[1,"pull-right"],[1,"btn","btn-success","btn-round","text-left",2,"display","block","min-width","100%",3,"click"],["src","assets/img/ingredients/chicken.png",2,"width","40px","height","28px","margin-right","20px"],["src","assets/img/ingredients/veal.png",2,"width","40px","height","28px","margin-right","20px"],["src","assets/img/ingredients/eggs.png",2,"width","40px","height","28px","margin-right","20px"],["src","assets/img/ingredients/berries.png",2,"width","40px","height","28px","margin-right","20px"],["src","assets/img/ingredients/nuts.png",2,"width","40px","height","28px","margin-right","20px"],[1,"check"],[1,"input-group"],["type","number","name","centimeters","id","centimeters","placeholder","Centimeters","ngModel","","minlength","2","required","",1,"form-control",3,"disabled"],["modelCentimeters","ngModel"],[1,"btn",3,"ngClass","click"],[1,"help-block"],["type","number","name","feet","placeholder","Feet","ngModel","","required","",1,"form-control",3,"disabled"],["modelFeet","ngModel"],["type","number","name","inches","placeholder","Inches","ngModel","","required","",1,"form-control",3,"disabled"],["modelInches","ngModel"],["type","number","name","pounds","id","pounds","placeholder","Pounds","ngModel","","minlength","2","required","",1,"form-control",3,"disabled"],["modelPounds","ngModel"],["type","number","name","kilograms","id","kilograms","placeholder","Kilograms","ngModel","","minlength","2","required","",1,"form-control",3,"disabled"],["modelKilograms","ngModel"],[1,"modal-title"],[1,"help-block",2,"color","green"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275text"](5,"Why Us?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"p",5),i["\u0275\u0275element"](7,"img",6),i["\u0275\u0275text"](8," Quick and easy to create your meal plan"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"p",7),i["\u0275\u0275element"](10,"img",6),i["\u0275\u0275text"](11," Thousands of recipes to select from"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"p",7),i["\u0275\u0275element"](13,"img",6),i["\u0275\u0275text"](14," Fully customise your meal plan from to suit you"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"p",7),i["\u0275\u0275element"](16,"img",6),i["\u0275\u0275text"](17," Burn fat faster than any other healthy diet"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"p",7),i["\u0275\u0275element"](19,"img",6),i["\u0275\u0275text"](20," Continuous support"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",8),i["\u0275\u0275elementStart"](22,"button",9),i["\u0275\u0275text"](23,"More info"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",10),i["\u0275\u0275element"](25,"app-signup"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",11),i["\u0275\u0275elementStart"](27,"div",12),i["\u0275\u0275elementStart"](28,"div",13),i["\u0275\u0275elementStart"](29,"div",14),i["\u0275\u0275template"](30,px,2,0,"h5",15),i["\u0275\u0275template"](31,mx,2,0,"h5",16),i["\u0275\u0275template"](32,gx,2,0,"h5",17),i["\u0275\u0275elementStart"](33,"button",18),i["\u0275\u0275listener"]("click",(function(){return t.signUpStep=0})),i["\u0275\u0275elementStart"](34,"span",19),i["\u0275\u0275text"](35,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"div",20),i["\u0275\u0275template"](37,Dx,15,12,"ng-container",21),i["\u0275\u0275elementStart"](38,"div",22),i["\u0275\u0275elementStart"](39,"form",23,24),i["\u0275\u0275elementStart"](41,"div",25),i["\u0275\u0275elementStart"](42,"div",26),i["\u0275\u0275elementStart"](43,"label",27),i["\u0275\u0275text"](44,"Goals"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](45,"div",28),i["\u0275\u0275elementStart"](46,"label",29),i["\u0275\u0275listener"]("click",(function(){return t.goals=-1})),i["\u0275\u0275element"](47,"input",30,31),i["\u0275\u0275text"](49," Lose one LB a week "),i["\u0275\u0275elementStart"](50,"span",32),i["\u0275\u0275template"](51,Ox,1,0,"span",33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](52,"label",29),i["\u0275\u0275listener"]("click",(function(){return t.goals=0})),i["\u0275\u0275element"](53,"input",34),i["\u0275\u0275text"](54," Maintain weight "),i["\u0275\u0275elementStart"](55,"span",32),i["\u0275\u0275template"](56,Ix,1,0,"span",33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"label",35),i["\u0275\u0275listener"]("click",(function(){return t.goals=1})),i["\u0275\u0275element"](58,"input",36),i["\u0275\u0275text"](59," Gain one LB a week "),i["\u0275\u0275elementStart"](60,"span",32),i["\u0275\u0275template"](61,Mx,1,0,"span",33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](62,"div",26),i["\u0275\u0275elementStart"](63,"label",27),i["\u0275\u0275text"](64,"Sex"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](65,"div",28),i["\u0275\u0275elementStart"](66,"label",29),i["\u0275\u0275listener"]("click",(function(){return t.male=!0})),i["\u0275\u0275element"](67,"input",37),i["\u0275\u0275text"](68," Male "),i["\u0275\u0275elementStart"](69,"span",32),i["\u0275\u0275template"](70,Rx,1,0,"span",33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](71,"label",35),i["\u0275\u0275listener"]("click",(function(){return t.male=!1})),i["\u0275\u0275element"](72,"input",38),i["\u0275\u0275text"](73," Female "),i["\u0275\u0275elementStart"](74,"span",32),i["\u0275\u0275template"](75,kx,1,0,"span",33),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](76,"div",26),i["\u0275\u0275elementStart"](77,"label",39),i["\u0275\u0275text"](78,"Height"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](79,jx,9,10,"div",40),i["\u0275\u0275template"](80,Bx,11,11,"div",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](81,"div",26),i["\u0275\u0275elementStart"](82,"label",41),i["\u0275\u0275text"](83,"Weight"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](84,Vx,9,10,"div",40),i["\u0275\u0275template"](85,zx,9,10,"div",40),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](86,"div",26),i["\u0275\u0275elementStart"](87,"label",42),i["\u0275\u0275text"](88,"Date of Birth"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](89,"input",43,44),i["\u0275\u0275template"](91,Hx,2,0,"span",45),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](92,"button",46),i["\u0275\u0275listener"]("click",(function(){return t.signUpStep=t.signUpStep-1})),i["\u0275\u0275text"](93,"Prev"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](94,"button",47),i["\u0275\u0275listener"]("click",(function(){return t.assignUserMetrics(),t.signUpStep=t.signUpStep+1})),i["\u0275\u0275text"](95,"Next"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](96,"div",48),i["\u0275\u0275elementStart"](97,"form",null,49),i["\u0275\u0275elementStart"](99,"div",25),i["\u0275\u0275elementStart"](100,"div",26),i["\u0275\u0275elementStart"](101,"label",50),i["\u0275\u0275text"](102,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](103,"input",51,52),i["\u0275\u0275template"](105,$x,2,0,"span",45),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](106,"div",26),i["\u0275\u0275elementStart"](107,"label",53),i["\u0275\u0275text"](108,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](109,"input",54,55),i["\u0275\u0275template"](111,Wx,2,0,"span",45),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](112,"div",26),i["\u0275\u0275elementStart"](113,"label",56),i["\u0275\u0275text"](114,"Password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](115,"input",57,58),i["\u0275\u0275template"](117,Qx,2,0,"span",45),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](118,"div",59),i["\u0275\u0275elementStart"](119,"h3"),i["\u0275\u0275text"](120,"Limited time offer!"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](121,"h3"),i["\u0275\u0275elementStart"](122,"small"),i["\u0275\u0275text"](123,"7 days free! Then only"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](124,"h3",60),i["\u0275\u0275elementStart"](125,"small"),i["\u0275\u0275text"](126,"$25/mo"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](127,"h2",61),i["\u0275\u0275text"](128," $15/mo "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](129,"div",null,62),i["\u0275\u0275template"](131,Gx,2,0,"span",45),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](132,"br"),i["\u0275\u0275element"](133,"br"),i["\u0275\u0275element"](134,"br"),i["\u0275\u0275elementStart"](135,"div",63),i["\u0275\u0275elementStart"](136,"div",64),i["\u0275\u0275elementStart"](137,"span",65),i["\u0275\u0275text"](138,"0/3 steps"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](139,"div",66),i["\u0275\u0275elementStart"](140,"div",12),i["\u0275\u0275elementStart"](141,"div",13),i["\u0275\u0275elementStart"](142,"div",14),i["\u0275\u0275template"](143,Kx,2,0,"h5",67),i["\u0275\u0275template"](144,Zx,2,0,"h5",67),i["\u0275\u0275elementStart"](145,"button",18),i["\u0275\u0275listener"]("click",(function(){return t.loginStep=0})),i["\u0275\u0275elementStart"](146,"span",19),i["\u0275\u0275text"](147,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](148,"div",20),i["\u0275\u0275elementStart"](149,"form",68,69),i["\u0275\u0275listener"]("ngSubmit",(function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](150);return t.submitSignInDetails(n)})),i["\u0275\u0275elementStart"](151,"div",70),i["\u0275\u0275elementStart"](152,"div",71),i["\u0275\u0275elementStart"](153,"span",72),i["\u0275\u0275elementStart"](154,"i",73),i["\u0275\u0275text"](155,"email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](156,"input",74,75),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](158,Yx,2,0,"p",45),i["\u0275\u0275elementStart"](159,"div",70),i["\u0275\u0275elementStart"](160,"div",71),i["\u0275\u0275elementStart"](161,"span",72),i["\u0275\u0275elementStart"](162,"i",73),i["\u0275\u0275text"](163,"lock"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](164,"input",76,77),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](166,Jx,2,0,"p",45),i["\u0275\u0275template"](167,Xx,2,0,"p",45),i["\u0275\u0275template"](168,eE,2,0,"p",78),i["\u0275\u0275elementStart"](169,"button",79),i["\u0275\u0275text"](170,"Login"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](171,"p",80),i["\u0275\u0275listener"]("click",(function(){return t.loginStep=1})),i["\u0275\u0275text"](172,"Forgot password?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](173,"form",68,81),i["\u0275\u0275listener"]("ngSubmit",(function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](174);return t.submitResetPassword(n)})),i["\u0275\u0275elementStart"](175,"div",70),i["\u0275\u0275elementStart"](176,"div",71),i["\u0275\u0275elementStart"](177,"span",72),i["\u0275\u0275elementStart"](178,"i",73),i["\u0275\u0275text"](179,"email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](180,"input",82,83),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](182,tE,2,0,"p",45),i["\u0275\u0275template"](183,nE,2,0,"p",45),i["\u0275\u0275elementStart"](184,"button",79),i["\u0275\u0275text"](185,"Reset password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](186,"p",80),i["\u0275\u0275listener"]("click",(function(){return t.loginStep=0})),i["\u0275\u0275text"](187,"Go back to login"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](40),n=i["\u0275\u0275reference"](90),r=i["\u0275\u0275reference"](98),o=i["\u0275\u0275reference"](104),s=i["\u0275\u0275reference"](110),a=i["\u0275\u0275reference"](116),u=i["\u0275\u0275reference"](157),c=i["\u0275\u0275reference"](165),l=i["\u0275\u0275reference"](181);i["\u0275\u0275advance"](30),i["\u0275\u0275property"]("ngIf",0===t.signUpStep),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===t.signUpStep),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",2===t.signUpStep),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",0===t.signUpStep),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("hidden",1!==t.signUpStep),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngIf",-1===t.goals),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",0===t.goals),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",1===t.goals),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",t.male),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",0==t.male),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",t.centimeters),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.centimeters),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",t.lbs),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.lbs),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",!n.valid&&n.touched),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",!e.valid),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",!e.valid),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",2!==t.signUpStep),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",(!o.valid||0===o.value.length)&&o.touched),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",(!s.valid||0===s.value.length)&&s.touched),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",(!a.valid||0===a.value.length)&&a.touched),i["\u0275\u0275advance"](14),i["\u0275\u0275property"]("ngIf",t.buttonError&&!r.valid),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("hidden",t.signUpStep>2),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("aria-valuenow",t.progress),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngIf",0===t.loginStep),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===t.loginStep),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("hidden",0!==t.loginStep),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",(!u.valid||0===u.value.length)&&u.touched),i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngIf",(!c.valid||0===c.value.length)&&c.touched),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!0===t.loginAttemptFailed),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!0===t.resetPasswordSuccess),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("hidden",1!==t.loginStep),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",(!l.valid||0===l.value.length)&&l.touched),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!0===t.resetPasswordError)}},directives:[fr,lx,s.NgIf,Jr,qi,fi,Hr,Yr,Zi,Xi,Yi,ro,to,li,s.NgClass],styles:["#background[_ngcontent-%COMP%], .stretch[_ngcontent-%COMP%]{width:100%;height:100%}#background[_ngcontent-%COMP%]{background-image:url(bg-landing.252e09016227ecaf4469.png);background-repeat:no-repeat;background-color:#fff;background-size:100%;position:absolute;z-index:0}.block[_ngcontent-%COMP%]{display:block;width:100%;border:none;background-color:#4caf50;padding:14px 28px;font-size:16px;cursor:pointer;text-align:center}.help-block[_ngcontent-%COMP%]{color:red}.space-right[_ngcontent-%COMP%]{padding-right:10px}.clickableText[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function iE(e,t){1&e&&i["\u0275\u0275element"](0,"mat-progress-spinner",5)}function oE(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e," ")}}function sE(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275elementStart"](1,"div",7),i["\u0275\u0275elementStart"](2,"div",8),i["\u0275\u0275elementStart"](3,"h3"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"img",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",7),i["\u0275\u0275element"](7,"div",2),i["\u0275\u0275elementStart"](8,"div",10),i["\u0275\u0275elementStart"](9,"h3"),i["\u0275\u0275text"](10,"Ingredients"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,oE,2,1,"p",11),i["\u0275\u0275elementStart"](12,"div",12),i["\u0275\u0275elementStart"](13,"h3"),i["\u0275\u0275text"](14,"Instructions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"a",13),i["\u0275\u0275elementStart"](16,"div",14),i["\u0275\u0275text"](17,"View Instructions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",10),i["\u0275\u0275elementStart"](19,"h3"),i["\u0275\u0275text"](20,"Nutrition"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"h6"),i["\u0275\u0275text"](22,"Carbs"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",15),i["\u0275\u0275element"](24,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"p"),i["\u0275\u0275text"](26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"h6"),i["\u0275\u0275text"](28,"Protein"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"div",17),i["\u0275\u0275element"](30,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"p"),i["\u0275\u0275text"](32),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"h6"),i["\u0275\u0275text"](34,"Fat"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"div",18),i["\u0275\u0275element"](36,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"p"),i["\u0275\u0275text"](38),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"h6"),i["\u0275\u0275text"](40,"Calories"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](41,"div",19),i["\u0275\u0275element"](42,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](43,"p"),i["\u0275\u0275text"](44),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](45,"div",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.recipeDetails.name),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",e.recipeDetails.image,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngForOf",e.recipeDetails.ingredients),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("href",e.recipeDetails.url,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](9),i["\u0275\u0275styleProp"]("width",e.progressBars.carbsPercentage+"%"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.progressBars.carbsTotal,"g of your ",e.progressBars.carbsDaily,"g daily carbs"),i["\u0275\u0275advance"](4),i["\u0275\u0275styleProp"]("width",e.progressBars.proteinPercentage+"%"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.progressBars.proteinTotal,"g of your ",e.progressBars.proteinDaily,"g daily protein"),i["\u0275\u0275advance"](4),i["\u0275\u0275styleProp"]("width",e.progressBars.fatPercentage+"%"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.progressBars.fatTotal,"g of your ",e.progressBars.fatDaily,"g daily fat"),i["\u0275\u0275advance"](4),i["\u0275\u0275styleProp"]("width",e.progressBars.caloriesPercentage+"%"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.progressBars.caloriesTotal," of your ",e.progressBars.caloriesDaily," daily calories")}}function aE(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275element"](1,"iframe",2),i["\u0275\u0275elementEnd"]())}const uE=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"",component:(()=>{class e{constructor(e,t,n){this.timetableService=e,this.accountService=t,this.authService=n,this.title="KetoManager"}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Zv),i["\u0275\u0275directiveInject"](Gv),i["\u0275\u0275directiveInject"](Qv))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-main"]],decls:33,vars:1,consts:[["id","sectionsNav",1,"navbar",2,"background-color","crimson"],[1,"container"],[1,"navbar-translate"],["routerLink","/",1,"navbar-brand"],[1,"col-2","col-sm-2","f-box"],["routerLink","/home"],[1,"box_img","diary","d-block"],[1,"d-block","content"],["routerLink","/progress"],[1,"box_img","friend","d-block"],[1,"box_pattern"],["routerLink","/timetable"],["data-toggle","modal","data-target","#exampleModal",1,"plus_btn","clickable"],["src","assets/img/footer_plus.png"],[1,"box_img","plans","d-block"],["href","#"],[1,"box_img","recipes","d-block"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"nav",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"a",3),i["\u0275\u0275elementStart"](4,"strong"),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](6,"router-outlet"),i["\u0275\u0275elementStart"](7,"footer"),i["\u0275\u0275elementStart"](8,"div",4),i["\u0275\u0275elementStart"](9,"a",5),i["\u0275\u0275element"](10,"span",6),i["\u0275\u0275elementStart"](11,"span",7),i["\u0275\u0275text"](12,"Diary"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",4),i["\u0275\u0275elementStart"](14,"a",8),i["\u0275\u0275element"](15,"span",9),i["\u0275\u0275elementStart"](16,"span",7),i["\u0275\u0275text"](17,"Friends"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",4),i["\u0275\u0275elementStart"](19,"div",10),i["\u0275\u0275elementStart"](20,"a",11),i["\u0275\u0275elementStart"](21,"span",12),i["\u0275\u0275element"](22,"img",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",4),i["\u0275\u0275elementStart"](24,"a",11),i["\u0275\u0275element"](25,"span",14),i["\u0275\u0275elementStart"](26,"span",7),i["\u0275\u0275text"](27,"Plans"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",4),i["\u0275\u0275elementStart"](29,"a",15),i["\u0275\u0275element"](30,"span",16),i["\u0275\u0275elementStart"](31,"span",7),i["\u0275\u0275text"](32,"Recipes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](t.title))},directives:[pr,vr],styles:[""]}),e})(),children:[{path:"home",component:tb},{path:"timetable",component:cx},{path:"recipes",component:(()=>{class e{constructor(e,t,n,r,i){if(this.timetableService=e,this.router=t,this.route=n,this.ngZone=r,this.changeDetector=i,this.dataLoaded=!1,this.progressBars={carbsPercentage:0,carbsTotal:0,carbsDaily:0,proteinPercentage:0,proteinTotal:0,proteinDaily:0,fatPercentage:0,fatTotal:0,fatDaily:0,caloriesPercentage:0,caloriesTotal:0,caloriesDaily:0},this.timetableService.dataLoaded){const e=this.timetableService.getDayByIndex(+this.route.snapshot.queryParams.selectedDayIndex).recipes;console.log(e),this.recipeDetails=this.findRecipeInRecipesArray(e,this.route.snapshot.queryParams.recipeID),console.log(this.recipeDetails),console.log("Ingredients from recipeDetails - constructor: "),console.log(this.recipeDetails.ingredients),this.fillProgressBars(),this.dataLoaded=!0}this.timetableService.arrayUpdated.subscribe(e=>{this.route.queryParams.subscribe(e=>{const t=this.timetableService.getDayByIndex(+e.selectedDayIndex).recipes;console.log(t),console.log(`Query params: ${e.selectedDayIndex} and ${e.recipeID}`),this.recipeDetails=this.findRecipeInRecipesArray(t,e.recipeID),console.log("Ingredients from recipeDetails - queryParamSubscribe: "),console.log(this.recipeDetails.ingredients),this.fillProgressBars(),this.dataLoaded=!0}),this.changeDetector.detectChanges()})}fillProgressBars(){this.progressBars={carbsPercentage:this.recipeDetails.carbs/this.timetableService.dailyCarbs*100,carbsTotal:this.recipeDetails.carbs,carbsDaily:this.timetableService.dailyCarbs,proteinPercentage:this.recipeDetails.protein/this.timetableService.dailyProtein*100,proteinTotal:this.recipeDetails.protein,proteinDaily:this.timetableService.dailyProtein,fatPercentage:this.recipeDetails.fat/this.timetableService.dailyFat*100,fatTotal:this.recipeDetails.fat,fatDaily:this.timetableService.dailyFat,caloriesPercentage:this.recipeDetails.calories/this.timetableService.dailyCalories*100,caloriesTotal:this.recipeDetails.calories,caloriesDaily:this.timetableService.dailyCalories}}findRecipeInRecipesArray(e,t){let n="";for(let r=0;r<e.length;r++){const i=e[r];i.recipeID===t&&(n=i)}return n}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Zv),i["\u0275\u0275directiveInject"](dr),i["\u0275\u0275directiveInject"](rn),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-recipe"]],decls:6,vars:2,consts:[[1,"container"],[1,"col-sm-5"],[1,"col-sm-2"],["class","text-center","mode","indeterminate",4,"ngIf"],["class","container","style","background: #f3f5f9; padding-bottom: 100px",4,"ngIf"],["mode","indeterminate",1,"text-center"],[1,"container",2,"background","#f3f5f9","padding-bottom","100px"],[1,"row"],[1,"col-12","col-sm-12","text-center"],[1,"img-raised","rounded","img-fluid",3,"src"],[1,"col-sm-4"],[4,"ngFor","ngForOf"],[1,"text-center"],["target","_blank",3,"href"],[1,"btn","btn-primary"],[1,"progress","p1"],["role","progressbar","aria-valuenow","5","aria-valuemin","0","aria-valuemax","10",1,"progress-bar"],[1,"progress","p2"],[1,"progress","p3"],[1,"progress","p4"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275template"](3,iE,1,0,"mat-progress-spinner",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,sE,46,20,"div",4)),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!t.dataLoaded),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.dataLoaded))},directives:[s.NgIf,j_,s.NgForOf],styles:[""]}),e})()},{path:"instructions",component:(()=>{class e{constructor(e){this.route=e,this.urlLoaded=!1}ngOnInit(){this.url=this.route.snapshot.queryParams.url,console.log("URL: "+this.url),this.urlLoaded=!0}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](rn))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-instructions"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["is","x-frame-bypass","src","https://www.edamam.com/recipe/curried-chicken-pockets-0b35895367a4cdc0fe83b940b342989c/chicken/0-500-cal",2,"width","100%","height","1000px"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,aE,2,0,"div",0),2&e&&i["\u0275\u0275property"]("ngIf",t.urlLoaded)},directives:[s.NgIf],styles:[""]}),e})()},{path:"progress",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-progress"]],decls:2,vars:0,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1,"progress works!"),i["\u0275\u0275elementEnd"]())},styles:[""]}),e})()}]},{path:"landing",component:rE}];let cE=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e,bootstrap:[Yv]}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[Zv,Gv,Kv,Wv,$v],imports:[[F,nb.OwlModule,qo.initializeApp(o),Tr.forRoot(uE,{onSameUrlNavigation:"reload"}),Ks,oo,L_,N_,Qo]]}),e})();Object(i.enableProdMode)(),k().bootstrapModule(cE).catch(e=>console.error(e))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(t,e),t}(Error),p=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new f(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function m(e,t){return e.replace(g,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var v=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function _(){}function x(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=p,t.FirebaseError=f,t.Sha1=b,t.assert=o,t.assertionError=s,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=a(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=v,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=x,t.getUA=d,t.isAdmin=function(e){var t=v(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return d().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isUWP=function(){return d().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=v(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=v(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=v(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(x(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(x(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(x(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);